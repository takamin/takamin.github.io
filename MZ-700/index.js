!function e(t,n,r){function i(c,s){if(!n[c]){if(!t[c]){var a="function"==typeof require&&require;if(!s&&a)return a(c,!0);if(o)return o(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[c]={exports:{}};t[c][0].call(p.exports,function(e){var n=t[c][1][e];return i(n||e)},p,p.exports,e,t,n,r)}return n[c].exports}for(var o="function"==typeof require&&require,c=0;c<r.length;c++)i(r[c]);return i}({1:[function(e,t,n){e("../lib/ex_number.js");var r=e("fractional-timer"),i=e("./mz-tape-header"),o=e("./mz-tape"),c=e("./mz-data-recorder"),s=e("../lib/intel-8253"),a=e("../lib/flip-flop-counter"),u=e("../lib/ic556"),p=e("./mz700-key-matrix"),d=e("./memory.js"),l=e("../Z80/emulator"),m=e("../Z80/assembler.js"),f=e("../Z80/z80-line-assembler"),h=function(e){"use strict";var t=this;this._screenUpdateData={},this._vramTxTid=null,this.keymatrix=new p,this.intel8253=new s,this.intel8253.counter[1].counter=15700,this.intel8253.counter[1].value=15700,this.intel8253.counter[1].addEventListener("timeup",function(){this.intel8253.counter[2].count(1)}.bind(this)),this.intel8253.counter[2].counter=43200,this.intel8253.counter[2].value=43200,this.intel8253.counter[2].addEventListener("timeup",function(){this.INTMSK&&this.z80.interrupt()}.bind(this)),this.hblank=new a(15700),this.hblank.addEventListener("change",function(){this.intel8253.counter[1].count(4)}.bind(this)),this.vblank=new a(50),this.VBLK=!1,this.vblank.addEventListener("change",function(){this.VBLK=!this.VBLK}.bind(this)),this.ic556=new u(3),this.ic556_OUT=!1,this.ic556.addEventListener("change",function(){this.ic556_OUT=!this.ic556_OUT}.bind(this)),this.INTMSK=!1,this.MLDST=!1;var n=null;this.dataRecorder=new c(function(e){e?(null!=n&&(clearTimeout(n),n=null),this.opt.onStartDataRecorder()):n=setTimeout(function(){n=null,this.opt.onStopDataRecorder()}.bind(this),100)}.bind(this)),this.opt={onExecutionParameterUpdate:function(e){try{t._transworker.postNotify("onExecutionParameterUpdate",e)}catch(e){console.error(e)}},started:function(){t._transworker.postNotify("start")},stopped:function(){t._transworker.postNotify("stop")},onBreak:function(){t._transworker.postNotify("onBreak")},onUpdateScreen:function(){t._transworker.postNotify("onUpdateScreen",t._screenUpdateData)},onVramUpdate:function(e,n,r){t._screenUpdateData[e]={dispcode:n,attr:r},null==t._vramTxTid&&(t._vramTxTid=setTimeout(function(){t.opt.onUpdateScreen(),t._screenUpdateData={},t._vramTxTid=null},100))},onMmioRead:function(e,n){t._transworker.postNotify("onMmioRead",{address:e,value:n})},onMmioWrite:function(e,n){t._transworker.postNotify("onMmioWrite",{address:e,value:n})},onPortRead:function(e,n){t._transworker.postNotify("onPortRead",{port:e,value:n})},onPortWrite:function(e,n){t._transworker.postNotify("onPortWrite",{port:e,value:n})},startSound:function(e){t._transworker.postNotify("startSound",[e])},stopSound:function(){t._transworker.postNotify("stopSound")},onStartDataRecorder:function(){t._transworker.postNotify("onStartDataRecorder")},onStopDataRecorder:function(){t._transworker.postNotify("onStopDataRecorder")}},e=e||{},Object.keys(this.opt).forEach(function(t){t in e&&(this.opt[t]=e[t])},this),this.tid=null,this.timerInterval=h.DEFAULT_TIMER_INTERVAL,this.mmioMap=[];for(var r=57344;r<59392;r++)this.mmioMap.push({r:!1,w:!1});this.memory=new d({onVramUpdate:t.opt.onVramUpdate,onMappedIoRead:function(e,n){switch(t.mmioIsMappedToRead(e)&&t.opt.onMmioRead(e,n),e){case 57345:break;case 57346:n&=15,t.dataRecorder.motor()?n|=16:n&=239,t.dataRecorder_readBit()?n|=32:n&=223,t.ic556_OUT?n|=64:n&=191,t.VBLK?n|=128:n&=127;break;case 57348:n=t.intel8253.counter[0].read();break;case 57349:n=t.intel8253.counter[1].read();break;case 57350:n=t.intel8253.counter[2].read();break;case 57351:break;case 57352:n&=254,t.hblank.readOutput()?n|=1:n&=254}return n},onMappedIoUpdate:function(e,n){switch(t.mmioIsMappedToWrite(e)&&t.opt.onMmioWrite(e,n),e){case 57344:this.poke(57345,t.keymatrix.getKeyData(n)),t.ic556.loadReset(128&n);break;case 57346:break;case 57347:if(0==(128&n)){var r=0!=(1&n);switch((14&n)>>1){case 0:break;case 1:t.dataRecorder_writeBit(r);break;case 2:t.INTMSK=r;break;case 3:t.dataRecorder_motorOn(r)}}break;case 57348:t.intel8253.counter[0].load(n)&&t.MLDST&&t.opt.startSound(895e3/t.intel8253.counter[0].value);break;case 57349:t.intel8253.counter[1].load(n);break;case 57350:t.intel8253.counter[2].load(n);break;case 57351:t.intel8253.setCtrlWord(n);break;case 57352:1==(t.MLDST=0!=(1&n))?t.opt.startSound(895e3/t.intel8253.counter[0].value):t.opt.stopSound()}return n}}),this.z80=new l({memory:t.memory,onReadIoPort:function(e,n){t.opt.onPortRead(e,n)},onWriteIoPort:function(e,n){switch(e){case 224:this.memory.changeBlock0_DRAM();break;case 225:this.memory.changeBlock1_DRAM();break;case 226:this.memory.changeBlock0_MONITOR();break;case 227:this.memory.changeBlock1_VRAM();break;case 228:this.memory.changeBlock0_MONITOR(),this.memory.changeBlock1_VRAM();break;case 229:this.memory.disableBlock1();break;case 230:this.memory.enableBlock1()}t.opt.onPortWrite(e,n)}})};h.AVG_CYCLE=40,h.Z80_CLOCK=3579545,h.DEFAULT_TIMER_INTERVAL=h.AVG_CYCLE*(1e3/h.Z80_CLOCK),h.prototype.mmioMapToRead=function(e){e.forEach(function(e){this.mmioMap[e-57344].r=!0},this)},h.prototype.mmioMapToWrite=function(e){e.forEach(function(e){this.mmioMap[e-57344].w=!0},this)},h.prototype.mmioIsMappedToRead=function(e){return this.mmioMap[e-57344].r},h.prototype.mmioIsMappedToWrite=function(e){return this.mmioMap[e-57344].w},h.prototype.writeAsmCode=function(e){for(var t=0;t<e.buffer.length;t++)this.memory.poke(e.min_addr+t,e.buffer[t]);return e.min_addr},h.prototype.exec=function(e){e=e||1;try{for(var t=0;t<e;t++)this.z80.exec(),this.clock()}catch(e){return-1}return 0},h.prototype.clock=function(){this.hblank.count(),this.vblank.count(),this.ic556.count()},h.prototype.setCassetteTape=function(e){if(e.length>0){if(e.length<=128)return this.dataRecorder_setCmt([]),console.error("error buf.length <= 128"),null;if(this.mzt_array=h.parseMZT(e),null==this.mzt_array||this.mzt_array.length<1)return console.error("setCassetteTape fail to parse"),null}return this.dataRecorder_setCmt(e),this.mzt_array},h.prototype.getCassetteTape=function(){var e=this.dataRecorder.getCmt();return null==e?null:o.toBytes(e)},h.prototype.loadCassetteTape=function(){for(var e=0;e<this.mzt_array.length;e++)for(var t=this.mzt_array[e],n=0;n<t.header.file_size;n++)this.memory.poke(t.header.addr_load+n,t.body.buffer[n])},h.prototype.reset=function(){this.memory.enableBlock1(),this.memory.enableBlock1(),this.memory.changeBlock0_MONITOR(),this.memory.changeBlock1_VRAM();for(var e=0;e<1e3;e++)this.memory.poke(53248+e,0),this.memory.poke(55296+e,113);return this.z80.reset()},h.prototype.getRegister=function(){return this.z80.reg},h.prototype.getRegisterB=function(){return this.z80.regB},h.prototype.setPC=function(e){this.z80.reg.PC=e},h.prototype.getIFF1=function(){return this.z80.IFF1},h.prototype.getIFF2=function(){return this.z80.IFF2},h.prototype.getIM=function(){return this.z80.IM},h.prototype.getHALT=function(){return this.z80.HALT},h.prototype.readMemory=function(e){return this.memory.peek(e)},h.prototype.setKeyState=function(e,t,n){this.keymatrix.setKeyMatrixState(e,t,n)},h.prototype.clearBreakPoints=function(){this.z80.clearBreakPoints()},h.prototype.getBreakPoints=function(){return this.z80.getBreakPoints()},h.prototype.removeBreak=function(e,t){this.z80.removeBreak(e,t)},h.prototype.addBreak=function(e,t){this.z80.setBreak(e,t)},h.parseMZT=function(e){for(var t=[],n=0;n+128<=e.length;){var r=new i(e,n);n+=128;for(var o=[],c=0;c<r.file_size;c++)o.push(e[n+c]);n+=r.file_size,t.push({header:r,body:{buffer:o}})}return t},h.prototype.start=function(){return"tid"in this&&null!=this.tid?(console.warn("[emulator] MZ700.start(): already started, caller is ",h.prototype.start.caller),!1):(this.tid=r.setInterval(function(){this.run()}.bind(this),this.timerInterval),this.opt.started(),!0)},h.prototype.stop=function(){null!=this.tid&&(r.clearInterval(this.tid),this.tid=null,this.opt.stopped())},h.prototype.run=function(){try{this.z80.exec(),this.clock()}catch(e){console.log("Error:",e),console.log(e.stack),this.stop(),this.opt.onBreak()}},h.prototype.assemble=function(e){return new m(e)},h.prototype.disassemble=function(e){var t="",n=[],r=null;e.forEach(function(e){var o=i.prototype.getHeadline.apply(e.header);t+=o+"\n",n=l.dasm(e.body.buffer,0,e.header.file_size,e.header.addr_load),r=o.split("\n").map(function(e){var t=new f;return t.setComment(e),t})});var o=l.dasmlines(n);return t+=o.join("\n")+"\n",Array.prototype.splice.apply(n,[0,0].concat(r)),{outbuf:t,dasmlines:o,asmlist:n}},h.disassemble=h.prototype.disassemble,h.prototype.dataRecorder_setCmt=function(e){var t=null;return t=0==e.length?[]:o.fromBytes(e),this.dataRecorder.setCmt(t),t},h.prototype.dataRecorder_ejectCmt=function(){if(this.dataRecorder.isCmtSet()){var e=this.dataRecorder.ejectCmt();if(null!=e)return o.toBytes(e)}return[]},h.prototype.dataRecorder_pushPlay=function(){this.dataRecorder.play()},h.prototype.dataRecorder_pushRec=function(){this.dataRecorder.isCmtSet()&&this.dataRecorder.ejectCmt(),this.dataRecorder.setCmt([]),this.dataRecorder.rec()},h.prototype.dataRecorder_pushStop=function(){this.dataRecorder.stop()},h.prototype.dataRecorder_motorOn=function(e){this.dataRecorder.m_on(e)},h.prototype.dataRecorder_readBit=function(){return this.dataRecorder.rdata(this.z80.tick)},h.prototype.dataRecorder_writeBit=function(e){this.dataRecorder.wdata(e,this.z80.tick)},h.prototype.getExecutionParameter=function(){return this.timerInterval},h.prototype.setExecutionParameter=function(e){var t=null!=this.tid;t&&this.stop(),this.timerInterval=e,this.opt.onExecutionParameterUpdate(e),t&&this.start()},t.exports=h},{"../Z80/assembler.js":11,"../Z80/emulator":13,"../Z80/z80-line-assembler":18,"../lib/ex_number.js":22,"../lib/flip-flop-counter":23,"../lib/ic556":24,"../lib/intel-8253":25,"./memory.js":3,"./mz-data-recorder":6,"./mz-tape":8,"./mz-tape-header":7,"./mz700-key-matrix":9,"fractional-timer":36}],2:[function(e,t,n){!function(){var n=e("jquery");e("../lib/context.js"),e("../lib/ex_number.js");var r=e("transworker"),i=e("../Z80/assembler.js"),o=e("../MZ-700/mz-tape-header"),c=e("../MZ-700/emulator.js"),s=e("../MZ-700/sound.js"),a=e("../MZ-700/mmio");e("../lib/jquery.tabview.js"),e("../lib/jquery.asmlist.js"),e("../lib/jquery.ddpanel.js"),e("../lib/jquery.soundctrl.js"),e("../lib/jquery.Z80-mem.js"),e("../lib/jquery.Z80-reg.js"),e("../lib/jquery.MZ-700-vram"),e("../lib/jquery.MZ-700-kb.js");var u=function(){this.opt={urlPrefix:"",onKeyboardPanelOpen:function(){},onKeyboardPanelClose:function(){}},this.isRunning=!1,this.mz700scrn=null,this.keyAcceptanceState=!0,this.keystates={}};u.create=function(e){var t=new u;return t.create(e),t},u.prototype.create=function(t){if(Object.keys(this.opt).forEach(function(e){e in t&&(this.opt[e]=t[e])},this),window.Worker){this.mz700scrn=null;var o=n(".MZ-700 .screen").mz700scrn("create",{});o.length>0&&(this.mz700scrn=o.get(0).mz700scrn);var p=n(".MZ-700 .cmt-slot");if(p.length>0&&window.File&&window.FileReader&&window.FileList&&window.Blob){var d=p.get(0);d.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),d.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;t.length>0&&this.mz700comworker.stop(function(){var e=t[0],n=new FileReader;n.onload=function(){this.setMztData(new Uint8Array(n.result),function(e){this.start(e[0].header.addr_exec)}.bind(this))}.bind(this),n.readAsArrayBuffer(e)}.bind(this))}.bind(this),!1)}this.keyEventReceiver=n("<span/>").addClass("key-switcher").html("Key-In"),this.btnReset=n("<button/>").attr("type","button").html("Reset").click(function(){this.reset()}.bind(this)),this.btnStart=n("<button/>").attr("id","btnStart").attr("type","button").attr("title","[F8]").html("Run").click(function(){this.isRunning?this.stop():this.start()}.bind(this)).hover(function(){this.isRunning&&this.btnStart.html("Stop")}.bind(this),function(){this.btnStart.html("Run")}.bind(this)),this.btnStep=n("<button/>").attr("type","button").attr("title","[F9]").html("Step").click(function(){this.stepIn()}.bind(this)),this.sliderExecParamTimerInterval=n("<input/>").attr("type","range").attr("min",0).attr("max",1).attr("step",.01).val(7).bind("change",function(){var e=this.sliderExecParamTimerInterval.val();this._timerInterval=c.DEFAULT_TIMER_INTERVAL/Math.pow(10,e),this.updateExecutionParameter()}.bind(this));var l=new s;n(".MZ-700 .ctrl-panel").append(this.keyEventReceiver).append(n("<span/>").soundctrl("create",{maxVolume:10,initialVolume:10,initialMute:!1,onChangeVolume:function(e){l.setGain(e/10)}.bind(this),urlIconOn:this.opt.urlPrefix+"image/icon-sound-on.svg",urlIconOff:this.opt.urlPrefix+"image/icon-sound-off.svg",colOn:"blue",colOff:"silver"})).append(this.btnStart).append(this.btnReset).append(this.btnStep).append(n("<span/>").addClass("speed-control-slider").html("Speed:").append(this.sliderExecParamTimerInterval));var m=n(".MZ-700 .data-recorder");if(this.btnCmtRec=n("<button/>").attr("type","button").html("<span style='color:red'>●</span> RECPLAY").click(function(){this.cmtMessageArea.empty().html("Recording ..."),this.mz700comworker.dataRecorder_pushRec(function(){})}.bind(this)),this.btnCmtPlay=n("<button/>").attr("type","button").html("<span style='display:inline-block;transform:rotate(-90deg);'>▼</span> PLAY").click(function(){this.mz700comworker.dataRecorder_pushPlay(function(){})}.bind(this)),this.btnCmtStop=n("<button/>").attr("type","button").html("<span>■</span> STOP").click(function(){this.mz700comworker.dataRecorder_pushStop(function(){})}.bind(this)),this.btnCmtEject=n("<button/>").attr("type","button").html("<span>▲</span>EJECT").click(function(){this.mz700comworker.dataRecorder_ejectCmt(function(e){this.createCmtDownloadLink(e)}.bind(this))}.bind(this)),window.File&&window.FileReader&&window.FileList&&window.Blob){var f=m.get(0);f.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),f.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;if(t.length>0){var n=t[0],r=new FileReader;r.onload=function(){var e=new Uint8Array(r.result);this.mz700comworker.setCassetteTape(e,function(){this.createCmtDownloadLink(e)}.bind(this))}.bind(this),r.readAsArrayBuffer(n)}}.bind(this),!1)}this.cmtMessageArea=n("<span/>").addClass("cmt-message").html("(EMPTY)"),m.html("CMT: ").attr("title","Drop MZT file here to load with 'L' command").append(this.cmtMessageArea).append(this.btnCmtRec).append(this.btnCmtPlay).append(this.btnCmtStop).append(this.btnCmtEject),this.kb=n(".MZ-700 .keyboard").mz700keyboard("create",{onStateChange:function(e,t,n){this.mz700comworker.setKeyState(e,t,n,null)}.bind(this)}).DropDownPanel("create",{caption:"Keyboard",onOpen:this.opt.onKeyboardPanelOpen,onClose:this.opt.onKeyboardPanelClose}),window.onkeydown=u.prototype.onkeydown.bind(this),window.onkeyup=u.prototype.onkeyup.bind(this),n(".MZ-700 .key-switcher").click(function(e){this.acceptKey(!0),e.stopPropagation()}.bind(this)),n(window).click(function(){this.acceptKey(!1)}.bind(this)),this.acceptKey(!0),this.MMIO=a.create(),this.mz700comworker=r.create(this.opt.urlPrefix+"MZ-700/bundle-worker.js",c,this,{onExecutionParameterUpdate:function(e){this.onExecutionParameterUpdate(e)},start:function(){this.isRunning=!0,this.clearCurrentExecLine(),this.updateUI()},stop:function(){this.isRunning=!1,this.scrollToShowPC(),this.updateUI()},onBreak:function(){this.stop()},onUpdateScreen:null==this.mz700scrn?function(){}:function(e){this.mz700scrn.write(e)}.bind(this),onMmioRead:function(e){this.MMIO.read(e.address,e.value)},onMmioWrite:function(e){this.MMIO.write(e.address,e.value)},onPortRead:function(){},onPortWrite:function(){},startSound:function(e){l.startSound(e)},stopSound:function(){l.stopSound()},onStartDataRecorder:function(){this.btnCmtRec.prop("disabled",!0),this.btnCmtEject.prop("disabled",!0),this.btnCmtStop.prop("disabled",!1)}.bind(this),onStopDataRecorder:function(){this.mz700comworker.getCassetteTape(function(e){this.createCmtDownloadLink(e)}.bind(this)),this.btnCmtRec.prop("disabled",!1),this.btnCmtEject.prop("disabled",!1),this.btnCmtStop.prop("disabled",!0)}.bind(this)}),this.PCG700=e("../lib/PCG-700").create(),this.PCG700.setScreen(this.mz700scrn),this.PCG700.writeMMIO(57360,0),this.PCG700.writeMMIO(57361,0),this.PCG700.writeMMIO(57362,24),this.mmioMapPeripheral(this.PCG700,[],[57360,57361,57362]),this.regview=n("<div/>").Z80RegView("init");var h=function(e){e<=0?this.reg_upd_tid&&(clearInterval(this.reg_upd_tid),this.reg_upd_tid=null):this.reg_upd_tid||(this.reg_upd_tid=setInterval(function(){this.updateRegister()}.bind(this),e))}.bind(this);n(".register-monitor").append(n("<div/>").css("display","inline-block").append(this.regview)).append(n("<div/>").css("display","inline-block").css("text-align","center").append(n("<button type='button'>Update</button>").click(function(){this.updateRegister()}.bind(this))).append(n("<br/>")).append(n("<input type='checkbox'/>").change(function(){n(this).prop("checked")?(h(50),n(this).parent().find("button").prop("disabled",!0)):(h(0),n(this).parent().find("button").prop("disabled",!1))})).append(n("<span>Auto Update</span>"))).DropDownPanel("create",{caption:"Register"}),n(".MZ-700 .memory").append(n("<div/>").dumplist("init",{readMemory:null,rows:16,fontFamily:"inherit",fontSize:"12pt",rowHeight:"24px",colWidth:"30px",headerWidth:"60px",getReg:function(e,t){this.mz700comworker.getRegister(function(n){t(n[e])})}.bind(this)}).dumplist("setReadMemoryHandler",function(e,t){this.readMemory(e,t)}.bind(this.mz700comworker))).DropDownPanel("create",{caption:"Memory"}),n(".source-list").tabview("create"),n(".source-list").DropDownPanel("create",{caption:"Assembly source"}),this.addAsmListTab("PCG-700 sample").asmlist("text",n(n("textarea.default.source").get(0)).val());var g=function(e){var t=new i(e);this.mz700comworker.getRegister(function(e){var n=e.PC;this.mz700comworker.writeAsmCode(t,function(e){this.mz700comworker.setPC(e,function(){this.mz700comworker.exec(1,function(){this.mz700comworker.setPC(n,function(){})}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this);n(".imm-exec").append(n("<label/>").html("Address")).append(n("<input/>").attr("type","text").attr("value","CF00h").addClass("address")).append(n("<label/>").html("mnemonic")).append(n("<input/>").attr("type","text").attr("value","NOP").addClass("mnemonic")).append(n("<button/>").attr("type","button").html("Execute").click(function(){var e=n(this).parent(),t=e.find("input.address").val(),r=(new i).parseAddress(t);if(null!=r){var o="ORG "+r.HEX(4)+"H\r\n";o+=e.find("input.mnemonic").val()+"\r\n",g(o)}})).append(n("<br/>")).DropDownPanel("create",{caption:"Execute Z80 Instruction"})}this._timerInterval=c.DEFAULT_TIMER_INTERVAL,this.mz700comworker.getExecutionParameter(function(e){this._timerInterval=e,this.updateExecutionParameter(),this.onExecutionParameterUpdate(e)}.bind(this))},u.prototype.mmioMapPeripheral=function(e,t,n){this.MMIO.entry(e,t,n),this.mz700comworker.mmioMapToWrite(t,function(){}),this.mz700comworker.mmioMapToWrite(n,function(){})},u.prototype.reset=function(e){this.mz700comworker.stop(function(){this.mz700comworker.reset(function(){this.mz700comworker.getCassetteTape(function(t){this.createCmtDownloadLink(t),e&&e(),this.start()}.bind(this))}.bind(this))}.bind(this))},u.EXEC_TIMER_INTERVAL=100,u.NUM_OF_EXEC_OPCODE=2e4,u.prototype.start=function(e){null==e?this.mz700comworker.start(function(){}):this.mz700comworker.setPC(e,function(){this.mz700comworker.start(function(){this.acceptKey(!0)}.bind(this))}.bind(this))},u.prototype.stop=function(){this.mz700comworker.stop(function(){})},u.prototype.stepIn=function(){this.clearCurrentExecLine(),this.mz700comworker.exec(1,function(){this.scrollToShowPC()}.bind(this))},u.prototype.stepOver=function(){this.stepIn()},u.prototype.updateExecutionParameter=function(){this.mz700comworker.setExecutionParameter(this._timerInterval,function(){})},u.prototype.onExecutionParameterUpdate=function(e){this._timerInterval=e;var t=Math.log10(c.DEFAULT_TIMER_INTERVAL/e);this.sliderExecParamTimerInterval.val(t)},u.prototype.updateUI=function(){this.btnReset.prop("disabled",""),this.isRunning?(n(".MZ-700").addClass("running"),this.btnStep.prop("disabled","disabled")):(n(".MZ-700").removeClass("running"),this.btnStep.prop("disabled",""))},u.prototype.updateRegister=function(){!function(e){e.mz700comworker.getRegister(function(t){e.regview.Z80RegView("update",t)}),e.mz700comworker.getRegisterB(function(t){e.regview.Z80RegView("update_",t)}),e.mz700comworker.getIFF1(function(t){e.regview.Z80RegView("IFF1",t)}),e.mz700comworker.getIFF2(function(t){e.regview.Z80RegView("IFF2",t)}),e.mz700comworker.getIM(function(t){e.regview.Z80RegView("IM",t)}),e.mz700comworker.getHALT(function(t){e.regview.Z80RegView("HALT",t)})}(this)},u.prototype.runServerMZT=function(e){this.mz700comworker.stop(function(){n.getJSON("mzt/"+e+".json",function(e){this.setMztData(e,function(e){this.start(e[0].header.addr_exec)}.bind(this))}.bind(this))}.bind(this))},u.prototype.setMztData=function(e,t){t=t||function(){},this.mz700comworker.setCassetteTape(e,function(n){null!=n&&(this.cmtMessageArea.html("MZT: '"+n[0].header.filename+"' Loading..."),this.mz700comworker.loadCassetteTape(function(){this.cmtMessageArea.html("MZT: '"+n[0].header.filename+"' Loaded"),this.createCmtDownloadLink(e),t(n)}.bind(this)))}.bind(this))},u.prototype.addAsmListTab=function(e){var t=this.createAssembleView();return n(".source-list").tabview("add",e,t),t},u.prototype.createAssembleView=function(){return n("<div/>").asmlist("create",{assemble:function(e){this.assemble(e,function(){})}.bind(this),breakpoint:function(e,t,n){n?this.mz700comworker.addBreak(e,t,null):this.mz700comworker.removeBreak(e,t,null)}.bind(this)})},u.prototype.scrollToShowPC=function(){this.mz700comworker.getRegister(function(e){n(".source-list").tabview("currentPage").asmlist("setCurrentAddr",e.PC)}.bind(this))},u.prototype.clearCurrentExecLine=function(){n(".source-list").tabview("currentPage").asmlist("clearCurrentAddr")},u.prototype.disassemble=function(e){var t=this.isRunning;this.mz700comworker.stop(function(){var r=c.disassemble(e);n(".source-list").tabview("currentPage").asmlist("text",r.outbuf,!1),n(".source-list").tabview("caption",n(".source-list").tabview("index"),e[0].header.filename),this.createAssembleList(r.asmlist),t&&(this.start(),this.acceptKey(!0))}.bind(this))},u.prototype.assemble=function(e,t){this.mz700comworker.assemble(e,function(e){this.createAssembleList(e.list),this.mz700comworker.writeAsmCode(e,function(){t&&t()})}.bind(this))},u.prototype.createAssembleList=function(e){this.mz700comworker.getBreakPoints(function(t){n(".source-list").tabview("currentPage").asmlist("writeList",e,t)}.bind(this))},u.prototype.acceptKey=function(e){this.keyAcceptanceState=e,this.keyAcceptanceState?this.keyEventReceiver.addClass("on"):this.keyEventReceiver.removeClass("on")},u.prototype.onkeydown=function(e){if(this.keyAcceptanceState)return this.updateKeyStates(e,!0),!1},u.prototype.onkeyup=function(e){switch(e.keyCode){case 119:return void(this.isRunning?this.stop():this.start());case 120:return void this.stepOver()}if(this.keyAcceptanceState)return this.updateKeyStates(e,!1),!1},u.prototype.updateKeyStates=function(e,t){var n=e.keyCode;if(!(n in this.keystates)||this.keystates[n]!=t){this.keystates[n]=t;var r=this.kb.mz700keyboard("getMatPos",n);null!=r&&(this.kb.mz700keyboard("setState",r.strobe,r.bit,t),this.mz700comworker.setKeyState(r.strobe,r.bit,t,null))}},u.prototype.createCmtDownloadLink=function(e){if(null==e||e.length<128)this.cmtMessageArea.empty().append("(EMPTY)");else{var t=new o(e,0),r=new Uint8Array(e),i=new Blob([r],{type:"application/octet-stream"});this.cmtMessageArea.empty().html(t.filename).append(n("<a/>").addClass("download-link").attr("download",t.filename+".MZT").attr("type","application/octet-stream").attr("href",URL.createObjectURL(i)).html("").attr("title","Download "+t.filename+".MZT ("+t.file_size+" bytes)  ADDR:("+t.addr_load.HEX(4)+" - "+(t.addr_load+t.file_size-1).HEX(4)+") EXEC:"+t.addr_exec.HEX(4))),n(".source-list").length>0&&this.cmtMessageArea.append(n("<a/>").html("Disassemble").click(function(){this.mz700comworker.getCassetteTape(function(e){if(null!=e){var t=c.parseMZT(e);this.disassemble(t)}})}.bind(this)))}},t.exports=u}()},{"../MZ-700/emulator.js":1,"../MZ-700/mmio":4,"../MZ-700/mz-tape-header":7,"../MZ-700/sound.js":10,"../Z80/assembler.js":11,"../lib/PCG-700":20,"../lib/context.js":21,"../lib/ex_number.js":22,"../lib/jquery.MZ-700-kb.js":26,"../lib/jquery.MZ-700-vram":27,"../lib/jquery.Z80-mem.js":28,"../lib/jquery.Z80-reg.js":29,"../lib/jquery.asmlist.js":30,"../lib/jquery.ddpanel.js":31,"../lib/jquery.soundctrl.js":32,"../lib/jquery.tabview.js":33,jquery:19,transworker:37}],3:[function(e,t,n){function r(e){this.create(e)}var i=e("./monitor-rom.js"),o=e("../Z80/memory-block.js"),c=e("../Z80/memory-bank.js");(r.prototype=new c).create=function(e){c.prototype.create.call(this,e);var t,n=function(){},r=function(){};if(e.onVramUpdate){var s=e.onVramUpdate,a=new Array(65536),u=new Array(65536),p=new Array(65536);for(t=0;t<1e3;t++)a[53248+t]=[t,0,113],a[55296+t]=[t,0,113],u[53248+t]=function(e,t){return function(n){t[1]=n,s(e[0],n,e[2])}}(a[53248+t],a[55296+t]),p[55296+t]=function(e,t){return function(n){e[2]=n,s(t[0],t[1],n)}}(a[53248+t],a[55296+t]);n=function(e,t){53248<=e&&e<54248&&u[e](t)},r=function(e,t){55296<=e&&e<56296&&p[e](t)}}for(this.memblks={IPL_AREA_ROM:new i,IPL_AREA_RAM:new o({startAddr:0,size:4096}),FREE_RAM:new o({startAddr:4096,size:49152}),TEXT_VRAM:new o({startAddr:53248,size:2048,onPoke:n}),ATTR_VRAM:new o({startAddr:55296,size:2048,onPoke:r}),MMAPED_IO:new o({startAddr:57344,size:2048,onPeek:e.onMappedIoRead||function(){},onPoke:e.onMappedIoUpdate||function(){}}),EXTND_ROM:new o({startAddr:59392,size:6144}),DRAM:new o({startAddr:55296,size:12288})},this._block1VRAM=!0,this._disabledBlock1=!1,this.changeBlock0_MONITOR(),this.setMemoryBlock("FREE_RAM",this.memblks.FREE_RAM),this.changeBlock1_VRAM(),t=0;t<2048;t++)this.memblks.ATTR_VRAM.pokeByte(55296+t,113)},r.prototype.clear=function(){c.prototype.clear.call(this);for(var e in this.memblks)this.memblks[e].clear()},r.prototype.getTextVram=function(){return this.memblks.TEXT_VRAM},r.prototype.getAttrVram=function(){return this.memblks.ATTR_VRAM},r.prototype.changeBlock0_MONITOR=function(){this.setMemoryBlock("IPL_AREA",this.memblks.IPL_AREA_ROM)},r.prototype.changeBlock0_DRAM=function(){this.setMemoryBlock("IPL_AREA",this.memblks.IPL_AREA_RAM)},r.prototype.changeBlock1_DRAM=function(){this._block1VRAM=!1,this._disabledBlock1=!1,this.setMemoryBlock("TEXT_VRAM",null),this.setMemoryBlock("ATTR_VRAM",null),this.setMemoryBlock("MMAPED_IO",null),this.setMemoryBlock("EXTND_ROM",null),this.setMemoryBlock("DRAM",this.memblks.DRAM)},r.prototype.changeBlock1_VRAM=function(){this._block1VRAM=!0,this._disabledBlock1=!1,this.setMemoryBlock("DRAM",null),this.setMemoryBlock("TEXT_VRAM",this.memblks.TEXT_VRAM),this.setMemoryBlock("ATTR_VRAM",this.memblks.ATTR_VRAM),this.setMemoryBlock("MMAPED_IO",this.memblks.MMAPED_IO),this.setMemoryBlock("EXTND_ROM",this.memblks.EXTND_ROM)},r.prototype.disableBlock1=function(){this._disabledBlock1||(this._disabledBlock1=!0,this.setMemoryBlock("TEXT_VRAM",null),this.setMemoryBlock("ATTR_VRAM",null),this.setMemoryBlock("MMAPED_IO",null),this.setMemoryBlock("EXTND_ROM",null),this.setMemoryBlock("DRAM",null))},r.prototype.enableBlock1=function(){this._disabledBlock1&&(this._block1VRAM?this.changeBlock1_VRAM():this.changeBlock1_DRAM(),this._disabledBlock1=!1)},t.exports=r},{"../Z80/memory-bank.js":15,"../Z80/memory-block.js":16,"./monitor-rom.js":5}],4:[function(e,t,n){!function(){"use strict";var e=function(){this.mmio=[];for(var e=57344;e<59392;e++)this.mmio.push({r:[],w:[]})};e.prototype.entry=function(e,t,n){t.forEach(function(t){"readMMIO"in e&&"function"==typeof e.readMMIO?this.mmio[t-57344].r.push(e):console.error("The periferal does not have a method 'readMMIO' for memory mapped I/O at",t.HEX(4)+"h")},this),n.forEach(function(t){"writeMMIO"in e&&"function"==typeof e.readMMIO?this.mmio[t-57344].w.push(e):console.error("The periferal does not have a method 'writeMMIO' for memory mapped I/O at",t.HEX(4)+"h")},this)},e.prototype.read=function(e,t){this.mmio[e-57344].r.forEach(function(n){t=n.readMMIO(e,t)})},e.prototype.write=function(e,t){this.mmio[e-57344].w.forEach(function(n){t=n.writeMMIO(e,t)})},t.exports={create:function(){return new e}}}()},{}],5:[function(e,t,n){function r(){this.create()}var i=e("../Z80/memory-block.js");(r.prototype=new i).create=function(){i.prototype.create.call(this,{startAddr:0,size:4096});for(var e=0;e<this.size;e++){var t=this.startAddr+e;i.prototype.pokeByte.call(this,t,o[t])}},r.prototype.pokeByte=function(e){i.prototype.pokeByte.call(this,e,o[e])},t.exports=r;var o=[195,74,0,195,230,7,195,14,9,195,24,9,195,32,9,195,127,0,195,53,9,195,129,9,195,153,9,195,189,8,195,50,10,195,54,4,195,117,4,195,216,4,195,248,4,195,136,5,195,199,1,195,8,3,0,0,195,56,16,195,88,3,195,229,2,195,250,2,195,171,2,195,190,2,49,240,16,237,86,205,201,15,62,22,215,6,60,33,112,17,205,216,15,33,146,3,62,195,50,56,16,34,57,16,33,4,5,34,158,17,205,190,2,17,65,1,223,205,192,10,24,8,17,241,16,24,150,195,38,9,49,240,16,17,130,0,213,205,9,0,62,42,215,17,163,17,205,3,0,26,254,42,194,84,12,19,26,254,71,202,89,1,254,35,202,18,2,254,77,202,15,12,254,83,202,130,12,254,38,202,14,14,254,76,40,31,0,0,0,0,254,82,202,170,1,254,80,202,18,2,195,155,10,205,232,0,205,45,0,56,10,17,196,1,207,223,201,205,232,0,239,218,103,1,42,6,17,124,254,18,216,233,205,39,0,56,149,207,17,56,1,223,24,134,17,0,208,14,25,6,40,26,205,206,11,205,15,1,19,16,246,62,13,205,15,1,13,32,236,201,213,245,219,254,230,13,183,40,7,205,30,0,40,119,24,242,241,211,255,62,128,211,254,219,254,230,13,254,1,32,248,175,211,254,201,70,79,85,78,68,32,13,76,79,46,32,13,195,73,1,0,32,77,90,144,55,48,48,13,211,225,17,240,255,213,33,46,7,1,5,0,237,176,201,0,19,26,254,79,32,4,19,19,19,19,205,192,12,233,254,2,200,207,17,181,1,223,201,62,255,50,157,17,201,175,24,249,33,0,240,126,183,192,233,197,213,229,26,190,32,11,5,40,8,254,13,40,4,19,35,24,241,225,209,193,201,245,195,173,13,62,255,211,224,201,17,49,1,223,17,241,16,223,195,227,15,205,232,0,205,227,15,239,195,209,0,0,67,69,13,54,255,58,112,17,183,32,2,54,239,175,201,79,75,13,197,213,229,62,2,50,160,17,6,1,26,254,13,40,2,254,200,40,46,254,207,40,30,254,215,40,34,254,35,33,113,2,32,3,46,137,19,205,28,2,56,224,205,200,2,56,21,205,171,2,65,24,213,62,3,50,160,17,19,24,205,62,1,24,246,205,200,2,245,205,190,2,241,24,128,19,205,31,4,216,205,15,1,24,246,197,6,8,26,190,40,9,35,35,35,16,248,55,19,193,201,35,213,94,35,86,235,124,183,40,9,58,160,17,61,40,3,41,24,250,34,161,17,62,2,50,160,17,209,19,26,71,230,240,254,48,40,5,58,159,17,24,7,19,120,230,15,50,159,17,79,6,0,33,161,2,9,78,58,158,17,71,175,129,16,253,193,79,175,201,67,119,7,68,167,6,69,237,5,70,152,5,71,252,4,65,113,4,66,245,3,82,0,0,67,12,7,68,71,6,69,152,5,70,72,5,71,180,4,65,49,4,66,187,3,82,0,0,1,2,3,4,6,8,12,16,24,32,42,161,17,124,183,40,12,213,235,33,4,224,115,114,62,1,209,24,6,62,54,50,7,224,175,50,8,224,201,33,0,224,54,248,35,126,230,128,32,2,55,201,58,8,224,15,56,250,58,8,224,15,48,250,16,242,175,201,197,229,33,113,4,205,174,2,6,50,175,205,91,7,16,250,225,193,195,190,2,245,197,230,15,71,62,8,144,50,158,17,193,241,201,243,197,213,229,50,155,17,62,240,50,156,17,33,192,168,175,237,82,229,35,235,62,116,50,7,224,62,176,50,7,224,33,6,224,115,114,43,54,10,54,0,62,128,50,7,224,35,78,126,186,32,251,121,187,32,247,43,0,0,0,54,18,54,122,35,209,78,126,186,32,251,121,187,32,247,225,209,193,251,201,229,62,128,50,7,224,33,6,224,243,94,86,251,123,178,202,121,3,175,33,192,168,237,82,218,131,3,235,58,155,17,225,201,17,192,168,58,155,17,238,1,225,201,243,33,6,224,126,47,95,126,47,87,251,19,195,124,3,245,197,213,229,58,155,17,238,1,50,155,17,62,128,50,7,224,33,6,224,94,86,33,192,168,25,43,43,235,33,6,224,115,114,225,209,193,241,251,201,124,205,195,3,125,205,195,3,201,245,230,240,15,15,15,15,205,218,3,205,18,0,241,230,15,205,218,3,215,62,32,201,213,229,33,233,3,230,15,95,22,0,25,126,225,209,201,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,197,229,1,0,16,33,233,3,190,32,3,121,24,6,35,12,5,32,245,55,225,193,201,213,205,31,4,56,7,103,205,31,4,56,1,111,209,201,197,26,19,195,241,6,56,13,7,7,7,7,79,26,19,205,249,3,56,1,177,193,201,243,213,197,229,22,215,30,204,33,240,16,1,128,0,205,51,7,205,178,6,218,99,5,123,254,204,32,17,205,9,0,213,17,108,4,205,21,0,17,241,16,205,21,0,209,205,184,7,205,141,4,195,99,5,87,82,73,84,73,78,71,32,13,243,213,197,229,22,215,30,83,42,2,17,229,193,42,4,17,120,177,202,212,4,195,68,4,213,197,229,58,55,16,87,62,248,50,0,224,126,205,165,7,58,1,224,230,8,32,3,55,24,45,35,11,120,177,194,153,4,42,151,17,124,205,165,7,125,205,165,7,205,128,7,21,194,196,4,183,195,212,4,6,0,205,103,7,5,194,198,4,225,193,197,229,195,153,4,225,193,209,201,243,213,197,229,22,210,30,204,1,128,0,33,240,16,205,178,6,218,130,5,205,94,6,218,130,5,205,16,5,195,99,5,243,213,197,229,22,210,30,83,42,2,17,229,193,42,4,17,120,177,202,99,5,195,230,4,213,197,229,42,54,16,1,1,224,17,2,224,205,1,6,56,97,205,85,6,26,230,32,40,243,84,33,0,0,34,151,17,225,193,197,229,205,36,6,56,73,119,35,11,120,177,32,244,42,151,17,205,36,6,56,58,95,205,36,6,56,52,189,32,35,123,188,32,31,24,11,62,1,50,55,16,201,62,2,24,248,0,175,225,193,209,205,0,7,245,58,156,17,254,240,32,1,251,241,201,21,202,124,5,98,195,22,5,62,1,55,195,99,5,62,2,55,195,99,5,243,213,197,229,42,2,17,229,193,42,4,17,22,210,30,83,120,177,202,99,5,205,51,7,205,178,6,218,130,5,205,94,6,218,130,5,205,178,5,195,99,5,213,197,229,42,54,16,1,1,224,17,2,224,205,1,6,56,191,205,85,6,26,230,32,40,243,84,225,193,197,229,205,36,6,56,173,190,32,164,35,11,120,177,32,242,42,153,17,205,36,6,188,32,149,205,36,6,189,32,143,21,202,98,5,98,195,184,5,120,6,192,128,48,2,214,64,71,195,58,8,62,249,50,0,224,0,10,230,4,194,15,6,55,201,26,230,32,194,7,6,10,230,8,194,29,6,55,201,26,230,32,202,21,6,201,197,213,229,33,0,8,1,1,224,17,2,224,205,1,6,56,28,205,85,6,26,230,32,40,10,229,42,151,17,35,34,151,17,225,55,125,23,111,37,32,227,205,1,6,125,225,209,193,201,58,53,16,61,32,253,32,0,201,197,213,229,33,40,40,123,254,204,40,3,33,20,20,34,149,17,1,1,224,17,2,224,42,149,17,205,1,6,56,30,205,85,6,26,230,32,40,240,37,32,240,205,1,6,56,14,205,85,6,26,230,32,32,224,45,32,240,205,1,6,225,209,193,201,194,245,5,62,40,42,113,17,149,71,205,177,15,205,216,15,195,238,7,197,213,229,14,10,58,2,224,230,16,40,5,175,225,209,193,201,62,6,33,3,224,119,60,119,13,32,233,207,122,254,215,40,6,17,34,7,223,24,8,17,41,7,223,17,36,7,223,58,2,224,230,16,32,213,205,68,10,32,244,55,24,206,254,47,40,6,205,249,3,195,37,4,26,19,195,52,4,245,197,213,6,10,58,2,224,230,16,32,4,209,193,241,201,62,6,50,3,224,62,7,50,3,224,5,194,5,7,209,193,241,201,127,32,80,76,65,89,13,127,82,69,67,13,211,224,195,0,0,197,213,229,17,0,0,120,177,32,11,235,34,151,17,34,153,17,225,209,193,201,126,229,38,8,7,48,1,19,37,32,249,225,35,11,24,225,58,54,16,61,32,253,201,58,55,0,24,244,0,0,0,245,62,3,50,3,224,205,95,7,62,2,50,3,224,205,95,7,241,201,8,195,228,9,0,0,245,62,3,50,3,224,205,95,7,205,95,7,62,2,50,3,224,205,95,7,205,98,7,241,201,62,0,50,52,16,33,68,46,34,53,16,201,197,6,8,205,128,7,7,220,128,7,212,103,7,5,194,171,7,193,201,197,213,123,1,248,42,17,40,40,254,204,202,204,7,1,190,10,17,20,20,205,103,7,11,120,177,32,248,205,128,7,21,32,250,205,103,7,29,32,250,205,128,7,209,193,201,245,197,229,213,175,50,147,17,205,179,9,71,58,157,17,183,204,109,12,120,230,240,254,192,32,55,120,254,205,40,86,254,201,40,29,254,202,40,20,254,203,202,179,8,254,200,40,11,254,199,40,7,58,147,17,183,32,28,120,205,220,13,24,200,33,112,17,175,190,32,1,60,119,214,6,47,50,3,224,24,183,205,68,10,40,106,120,205,166,13,205,181,13,254,98,32,167,33,147,17,126,47,119,24,159,254,16,202,66,15,254,213,254,5,195,159,6,42,113,17,92,22,0,33,115,17,25,235,26,183,1,40,0,42,113,17,194,122,8,19,26,183,202,125,8,195,123,8,37,14,80,46,0,205,180,15,209,213,197,205,166,13,237,176,193,225,229,65,126,205,206,11,119,35,16,248,54,13,43,126,254,32,40,248,205,6,0,209,225,193,241,201,120,254,18,202,246,13,254,73,202,41,14,24,156,225,229,54,27,35,54,13,24,226,0,205,202,8,254,240,32,2,175,201,205,206,11,201,197,213,229,205,80,10,120,7,56,6,62,240,225,209,193,201,7,210,236,8,6,0,33,8,0,9,17,201,10,25,126,195,214,8,58,112,17,183,194,253,8,6,0,33,201,10,9,126,195,214,8,121,230,240,15,71,121,230,15,128,198,160,111,38,0,195,228,8,175,50,148,17,62,205,205,220,13,201,58,148,17,183,200,195,6,0,62,32,205,53,9,201,205,12,0,58,148,17,183,200,214,10,56,244,32,250,201,254,13,202,14,9,197,79,71,205,150,1,205,70,9,121,193,201,121,205,185,11,79,230,240,254,240,200,254,192,121,194,112,9,254,199,210,112,9,205,220,13,254,195,202,115,9,254,197,202,107,9,254,198,192,175,50,148,17,201,205,181,13,58,148,17,60,254,80,56,2,214,80,50,148,17,201,245,197,213,6,5,205,150,1,26,254,13,202,223,15,79,205,70,9,19,16,243,195,132,9,245,197,213,6,5,205,150,1,26,254,13,202,223,15,205,185,11,205,112,9,19,16,241,195,156,9,197,213,229,205,177,15,205,166,13,126,50,142,17,34,143,17,33,146,17,205,184,1,50,0,224,50,145,17,47,50,0,224,22,20,205,255,9,205,80,10,120,7,218,230,11,21,194,213,9,205,255,9,205,202,8,254,240,202,122,7,245,205,166,13,58,142,17,42,143,17,119,241,225,209,193,201,245,229,58,2,224,7,7,218,37,10,58,145,17,15,218,34,10,58,146,17,42,143,17,205,166,13,119,58,145,17,238,1,50,145,17,225,241,201,58,145,17,15,210,34,10,58,142,17,195,19,10,62,248,50,0,224,0,58,1,224,47,230,33,194,68,10,198,1,201,62,248,50,0,224,0,58,1,224,230,128,201,213,229,6,250,22,0,5,120,50,0,224,254,239,32,4,66,225,209,201,254,248,40,31,58,1,224,47,183,40,232,95,203,250,120,230,15,7,7,7,7,79,62,8,61,40,4,203,3,48,249,129,79,24,208,58,1,224,47,95,230,33,40,2,203,242,123,230,222,40,192,24,214,205,62,0,254,86,202,203,0,254,67,192,19,26,254,65,202,158,7,254,49,202,87,5,254,50,202,93,5,254,66,194,184,12,33,34,21,34,53,16,201,205,153,7,205,93,5,195,118,1,205,79,44,240,201,43,240,202,205,27,57,240,201,62,240,202,240,240,240,105,104,85,26,25,240,240,240,74,54,109,90,61,24,23,22,21,20,19,18,17,83,115,70,112,113,93,51,114,16,15,14,13,12,11,10,9,118,119,67,86,120,94,30,60,8,7,6,5,4,3,2,1,95,31,29,50,28,68,65,92,40,39,38,37,36,35,34,33,82,103,102,101,100,99,98,97,46,47,41,32,0,42,106,107,87,81,84,96,0,221,222,89,45,73,196,195,193,194,199,200,69,64,196,195,193,194,197,198,240,199,240,195,205,240,240,240,240,200,240,196,205,240,240,203,197,0,193,203,240,60,62,220,198,0,194,240,240,124,126,216,205,188,141,240,201,153,240,202,240,240,240,184,180,160,145,134,129,135,151,150,130,132,156,148,170,171,143,140,173,176,142,162,138,131,144,136,146,154,147,152,161,137,149,166,165,164,133,163,172,174,175,139,0,167,168,169,155,191,196,195,193,194,199,200,240,199,240,195,205,240,189,191,197,0,193,240,240,188,190,219,197,229,254,23,56,28,33,198,12,1,224,0,237,177,32,26,62,223,145,24,10,197,229,33,198,12,79,6,0,9,126,225,193,201,254,17,56,4,198,176,24,245,175,24,242,58,52,16,183,194,211,9,121,8,185,202,224,9,6,4,205,202,8,230,63,87,205,255,9,205,202,8,230,63,186,194,231,9,11,120,177,202,228,9,24,236,19,205,16,4,6,16,205,48,12,205,202,8,183,40,5,254,203,200,16,242,205,179,9,254,205,40,233,183,192,6,1,24,229,197,205,186,3,6,8,197,229,175,215,126,205,195,3,35,175,215,16,247,215,225,193,126,205,185,11,205,181,13,35,16,246,193,195,6,0,205,192,12,30,168,205,31,4,56,5,119,19,35,24,246,62,169,187,208,205,186,3,195,142,0,197,229,42,54,16,125,254,16,56,3,46,80,36,205,174,2,6,7,195,239,2,19,26,254,83,202,112,1,254,71,202,118,1,205,192,12,34,4,17,229,30,170,205,16,4,209,237,82,35,34,2,17,17,175,17,205,192,12,34,6,17,17,241,16,33,180,17,1,16,0,237,176,62,13,18,205,159,1,231,210,36,0,201,205,16,4,208,209,201,32,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,251,205,221,203,209,48,49,50,51,52,53,54,55,56,57,45,61,59,47,46,44,229,244,236,218,227,226,215,212,230,232,194,193,196,199,207,202,32,225,254,200,250,95,248,241,247,63,204,219,220,233,245,58,94,60,91,243,93,64,201,62,252,92,198,223,208,206,211,210,255,33,34,35,36,37,38,39,40,41,43,42,222,246,235,234,195,197,239,240,228,231,238,237,224,253,216,213,242,249,217,214,32,161,154,159,156,146,170,151,152,166,175,169,184,179,176,183,158,160,157,164,150,165,171,163,155,189,162,187,153,130,135,140,188,167,172,145,147,148,149,180,181,182,174,173,186,178,185,168,177,131,136,141,134,132,137,142,191,133,138,143,190,129,139,144,127,17,18,19,20,21,22,96,97,98,99,100,101,102,103,104,112,113,17,115,116,117,118,119,120,121,122,123,124,125,126,105,245,58,2,224,7,48,250,58,2,224,7,56,250,241,201,245,197,213,229,71,205,177,15,112,42,113,17,125,254,39,194,144,14,92,22,0,33,115,17,25,126,183,194,144,14,35,54,1,35,54,0,195,144,14,245,197,213,229,71,230,240,254,192,32,127,168,254,13,202,139,15,254,11,48,117,38,14,111,110,233,33,52,16,126,47,119,195,238,7,0,50,116,132,144,174,191,197,248,11,225,242,195,73,15,17,163,17,213,33,27,14,1,12,0,237,176,201,33,2,224,203,158,203,198,203,134,195,128,9,223,0,33,157,17,24,203,0,195,125,8,205,150,1,175,50,3,224,1,192,3,17,0,208,33,40,208,237,176,235,6,40,205,216,15,1,26,0,17,115,17,33,116,17,237,176,54,0,58,115,17,183,194,106,14,205,150,1,62,1,50,3,224,195,222,15,0,42,113,17,37,34,113,17,195,57,14,42,113,17,124,254,24,202,50,14,36,34,113,17,195,222,15,42,113,17,124,183,202,222,15,37,195,126,14,42,113,17,125,254,39,210,157,14,44,195,126,14,46,0,36,124,254,25,218,126,14,38,24,34,113,17,195,50,14,42,113,17,125,183,40,4,45,195,126,14,46,39,37,242,126,14,33,0,0,195,126,14,205,166,13,14,25,33,0,208,6,40,205,216,15,13,194,205,14,33,115,17,6,27,205,216,15,195,191,14,33,112,17,175,190,24,1,60,119,214,6,47,50,3,224,24,143,33,112,17,175,24,240,42,113,17,124,181,202,222,15,125,183,32,22,92,22,0,33,115,17,25,126,183,32,11,205,177,15,205,166,13,43,54,0,24,148,42,113,17,92,28,22,0,33,115,17,25,126,71,183,62,40,40,2,62,80,42,113,17,149,79,6,0,205,177,15,229,209,27,205,166,13,237,176,24,211,205,244,0,195,238,7,0,42,113,17,92,28,22,0,33,115,17,25,126,183,14,0,42,113,17,46,39,40,2,36,12,205,180,15,126,183,194,222,15,229,42,113,17,62,39,149,71,121,183,40,4,62,40,128,71,209,213,225,43,205,166,13,126,18,54,0,43,27,16,248,195,222,15,42,113,17,92,28,22,0,33,115,17,25,126,183,42,113,17,202,157,14,46,0,124,254,23,40,5,36,36,195,126,14,36,34,113,17,195,50,14,42,113,17,197,213,229,193,17,40,0,33,216,207,25,5,242,190,15,6,0,9,209,193,201,33,3,224,54,138,54,7,54,5,62,1,50,3,224,201,175,119,35,16,252,201,225,209,193,241,201,62,58,215,42,4,17,205,186,3,235,42,2,17,25,43,205,248,15,42,6,17,62,45,215,205,186,3,175,201]},{"../Z80/memory-block.js":16}],6:[function(e,t,n){var r=function(e){this._m_on=!1,this._play=!1,this._rec=!1,this._motor=!1,this._wdata=null,this._twdata=null,this._rbit=null,this._trdata=null,this._cmt=null,this._pos=0,this._motorCallback=e,this._readTopBlank=0};r.RDATA_TOP_BLANK_LEN=1,r.RDATA_CYCLE_HI_LONG=1500,r.RDATA_CYCLE_HI_SHORT=700,r.RDATA_CYCLE_LO=700,r.prototype.isCmtSet=function(){return null!=this._cmt},r.prototype.getCmt=function(){return this._cmt},r.prototype.setCmt=function(e){this.motor()&&this.stop(),this._cmt=e,this._pos=0,this._twdata=null,this._rbit=null,this._trdata=null,this._readTopBlank=0},r.prototype.play=function(){var e=this.motor();null!=this._cmt&&(this._play=!0),!e&&this.motor()&&this._motorCallback(!0)},r.prototype.rec=function(){var e=this.motor();null!=this._cmt&&(this._play=!0,this._rec=!0),!e&&this.motor()&&this._motorCallback(!0)},r.prototype.stop=function(){var e=this.motor();this._play=!1,this._rec=!1,e&&!this.motor()&&this._motorCallback(!1)},r.prototype.ejectCmt=function(){this.stop();var e=this._cmt;return this._cmt=null,this._pos=0,this._twdata=null,this._rbit=null,this._trdata=null,this._readTopBlank=0,e},r.prototype.m_on=function(e){var t=this.motor();!this._m_on&&e&&(this._motor=!this._motor),this._m_on=e,!t&&this.motor()&&this._motorCallback(!0),t&&!this.motor()&&this._motorCallback(!1)},r.prototype.motor=function(){return null!=this._cmt&&this._play&&this._motor},r.prototype.wdata=function(e,t){if(this.motor()&&this._rec&&this._wdata!=e)if(this._wdata=e,e)this._twdata=t;else{null==this._twdata&&(this._twdata=t);var n=t-this._twdata>1400;this._pos<this._cmt.length?(this._cmt[this._pos]=n,this._pos++):(this._cmt.push(n),this._pos=this._cmt.length)}},r.prototype.rdata=function(e){if(this.motor()&&this._pos<this._cmt.length){if(0==this._pos&&this._readTopBlank<r.RDATA_TOP_BLANK_LEN)return++this._readTopBlank,!1;if(this._pos>=this._cmt.length)return console.log("MZ_DataRecorder stopped at the end of CMT."),this.stop(),!1;null==this._rbit&&(this._rbit=this._cmt[this._pos],this._pos++,this._trdata=e);var t=this._rbit?r.RDATA_CYCLE_HI_LONG:r.RDATA_CYCLE_HI_SHORT,n=e-this._trdata;return n>=t+r.RDATA_CYCLE_LO&&(this._rbit=null),n<t}return null},t.exports=r},{}],7:[function(e,t,n){var r=function(e,t){var n=function(e,t){return(255&e[t])+256*(255&e[t+1])};this.attr=function(e,t){return 255&e[t]}(e,t+0);var r=function(e,t,n){for(var r="",i=t;i<n&&13!=e[i];i++)0!=e[i]&&(r+=String.fromCharCode(e[i]));return r}(e,t+1,t+18);this.filename=r,this.file_size=n(e,t+18),this.addr_load=n(e,t+20),this.addr_exec=n(e,t+22);for(var i=[],o=0;o<128;o++)i.push(e[t+o]);this.buffer=i};r.createNew=function(){for(var e=new Array(128),t=0;t<128;t++)e[t]=0;return e[0]=1,new r(e,0)},r.prototype.setFilename=function(e){e.length>16&&(e=e.substr(0,16)),this.filename=e;var t;for(t=0;t<=16;t++)this.buffer[1+t]=0;for(e+="\r",t=0;t<e.length;t++)this.buffer[1+t]=255&e.charCodeAt(t)},r.prototype.setFilesize=function(e){this.file_size=e,this.buffer[18]=e>>0&255,this.buffer[19]=e>>8&255},r.prototype.setAddrLoad=function(e){this.addr_load=e,this.buffer[20]=e>>0&255,this.buffer[21]=e>>8&255},r.prototype.setAddrExec=function(e){this.addr_exec=e,this.buffer[22]=e>>0&255,this.buffer[23]=e>>8&255},r.prototype.getHeadline=function(){return[";======================================================","; attribute :   "+this.attr.HEX(2)+"H","; filename  :   '"+this.filename+"'","; filesize  :   "+this.file_size+" bytes","; load addr :   "+this.addr_load.HEX(4)+"H","; start addr:   "+this.addr_exec.HEX(4)+"H",";======================================================"].join("\n")},t.exports=r},{}],8:[function(e,t,n){var r=e("./mz-tape-header"),i=function(e){this._index=0,this._tapeData=e};i.prototype.isThereSignal=function(e,t){for(var n=0;n<t;n++)if(this._tapeData[this._index+n]!=e)return!1;return this._index+=t,!0},i.prototype.recognizeStartingMark=function(){return!!this.isThereSignal(!1,11e3)&&(!!this.isThereSignal(!0,40)&&(!!this.isThereSignal(!1,40)&&!!this.isThereSignal(!0,1)))},i.prototype.recognizeStarting2Mark=function(){return!!this.isThereSignal(!1,2750)&&(!!this.isThereSignal(!0,20)&&(!!this.isThereSignal(!1,20)&&!!this.isThereSignal(!0,1)))},i.prototype.readSignal=function(){return this._index<this._tapeData.length?this._tapeData[this._index++]:null},i.prototype.writeSignal=function(e){this._tapeData.push(e)},i.prototype.writeByte=function(e){this.writeSignal(!0);for(var t=0;t<8;t++)0!=(e&1<<7-t)?this.writeSignal(!0):this.writeSignal(!1)},i.prototype.writeBlock=function(e){e.forEach(function(e){this.writeByte(e)},this);var t=this.countOnBit(e);this.writeByte(t>>8&255),this.writeByte(t>>0&255),this.writeSignal(!0)},i.prototype.writeDuplexBlock=function(e){this.writeBlock(e);for(var t=0;t<256;t++)this.writeSignal(!1);this.writeBlock(e)},i.prototype.readByte=function(){var e=null;do{if(null==(e=this.readSignal()))return null;if(!e)throw"NO START BIT"}while(!e);for(var t=0,n=0;n<8;n++){var r=this.readSignal();if(null==r)return null;r&&(t|=1<<7-n)}return t},i.prototype.readBytes=function(e){for(var t=[],n=0;n<e;n++){var r=this.readByte();if(null==r)break;t.push(r)}return t},i.prototype.countOnBit=function(e){var t=0,n=[0,1,2,3,4,5,6,7];return e.forEach(function(e){n.forEach(function(n){0!=(e&1<<n)&&t++})}),t&=65535},i.prototype.readBlock=function(e){var t=this.readBytes(e),n=this.readBytes(2);if(2!=n.length)throw"NO BLOCK CHECKSUM";var r=256*n[0]+n[1];if(!this.isThereSignal(!0,1))throw"NO BLOCK END BIT";if(this.countOnBit(t)!=r)throw"CHECKSUM ERROR";return t},i.prototype.readDuplexBlocks=function(e){var t=this.readBlock(e);if(null==t)throw"FAIL TO READ BLOCK[1]";if(!this.isThereSignal(!1,256))throw"NO DELIMITOR: Short x 256.";var n=this.readBlock(e);if(null==n)throw"FAIL TO READ BLOCK[2]";for(var r=0;r<t.length;r++)if(t[r]!=n[r])throw"FAIL TO VERIFY BLOCK 1 and 2";return t},i.prototype.readHeader=function(){if(!this.recognizeStartingMark())throw"NO STARTING MARK recognized";var e=this.readDuplexBlocks(128);if(null==e)throw"CANNOT READ MZT HEADER";return new r(e,0)},i.prototype.readDataBlock=function(e){if(!this.recognizeStarting2Mark())throw"NO STARTING MARK 2 recognized";return this.readDuplexBlocks(e)},i.toBytes=function(e){try{var t=new i(e),n=t.readHeader();if(null==n)throw"FAIL TO READ HEADER";var r=t.readDataBlock(n.file_size);if(null==r)throw"FAIL TO READ DATA";for(var o,c=[],s=!0;s;)(s=!!(o=t.readByte()))&&(console.warn("MZ_Tape.toBytes rest bytes["+o.length+"] =",o.HEX(2)),c.push(o));return n.buffer.concat(r)}catch(e){console.log("MZ_Tape.toBytes:Error "+e)}return[]},i.fromBytes=function(e){if(e.length<128)throw"FAIL TO WRITE HEADER";var t=new r(e.slice(0,128),0),n=new i([]);return n.writeHeader(t.buffer),n.writeDataBlock(e.slice(128)),n._tapeData},i.prototype.outputStartingMark=function(){var e;for(e=0;e<11e3;e++)this.writeSignal(!1);for(e=0;e<40;e++)this.writeSignal(!0);for(e=0;e<40;e++)this.writeSignal(!1);this.writeSignal(!0)},i.prototype.writeHeader=function(e){this.outputStartingMark(),this.writeDuplexBlock(e)},i.prototype.writeStarting2Mark=function(){var e;for(e=0;e<2750;e++)this.writeSignal(!1);for(e=0;e<20;e++)this.writeSignal(!0);for(e=0;e<20;e++)this.writeSignal(!1);this.writeSignal(!0)},i.prototype.writeDataBlock=function(e){this.writeStarting2Mark(),this.writeDuplexBlock(e)},t.exports=i},{"./mz-tape-header":7}],9:[function(e,t,n){!function(){function e(){this.keymap=new Array(10);for(var e=0;e<this.keymap.length;e++)this.keymap[e]=255}e.prototype.getKeyData=function(e){var t=255;return(e&=15)<this.keymap.length&&(t=this.keymap[e]),t},e.prototype.setKeyMatrixState=function(e,t,n){n?this.keymap[e]&=255&~(1<<t):this.keymap[e]|=1<<t&255},e.KeyCodes={Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Numlock:44,ScrollLock:145,Pause:19,D0:48,D1:49,D2:50,D3:51,D4:52,D5:53,D6:54,D7:55,D8:56,D9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,Subtract:109,Caret:107,Atmark:192,Yen:106,Colon:186,SemiColon:187,Comma:188,Decimal:190,Divide:111,Backslash:226,OpenBrackets:219,CloseBrackets:221,Shift:16,Control:17,Alternate:18,Enter:13,Tab:9,Space:32,Backspace:8,Insert:45,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,Left:37,Up:38,Right:39,Down:40,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,NumPadDivide:191,NumPadMultiply:220,NumPadSubtract:189,NumPadPlus:222,NumPadDecimal:110,Hankaku:243,Zenkaku:244};var n=function(e,t,n,r,i){this.strobe=e,this.bit=t,this.face=n||"&nbsp;",this.code=r||[],this.strcode=i||n};e.Keys=[new n(0,0,"CR",[e.KeyCodes.Enter]),new n(0,1,":",[e.KeyCodes.Colon]),new n(0,2,";",[e.KeyCodes.SemiColon]),new n(0,3),new n(0,4,"英数",[e.KeyCodes.F10,e.KeyCodes.End],"ALNUM"),new n(0,5,"=",[e.KeyCodes.Backspace]),new n(0,6,"GRAPH",[e.KeyCodes.F12,e.KeyCodes.PageDown,e.KeyCodes.Altername],"GRAPH"),new n(0,7,"カナ",[e.KeyCodes.F11,e.KeyCodes.PageUp],"KANA"),new n(1,0),new n(1,1),new n(1,2),new n(1,3,")",[e.KeyCodes.CloseBrackets]),new n(1,4,"(",[e.KeyCodes.OpenBrackets]),new n(1,5,"@",[e.KeyCodes.Atmark]),new n(1,6,"Z",[e.KeyCodes.Z]),new n(1,7,"Y",[e.KeyCodes.Y]),new n(2,0,"X",[e.KeyCodes.X]),new n(2,1,"W",[e.KeyCodes.W]),new n(2,2,"V",[e.KeyCodes.V]),new n(2,3,"U",[e.KeyCodes.U]),new n(2,4,"T",[e.KeyCodes.T]),new n(2,5,"S",[e.KeyCodes.S]),new n(2,6,"R",[e.KeyCodes.R]),new n(2,7,"Q",[e.KeyCodes.Q]),new n(3,0,"P",[e.KeyCodes.P]),new n(3,1,"O",[e.KeyCodes.O]),new n(3,2,"N",[e.KeyCodes.N]),new n(3,3,"M",[e.KeyCodes.M]),new n(3,4,"L",[e.KeyCodes.L]),new n(3,5,"K",[e.KeyCodes.K]),new n(3,6,"J",[e.KeyCodes.J]),new n(3,7,"I",[e.KeyCodes.I]),new n(4,0,"H",[e.KeyCodes.H]),new n(4,1,"G",[e.KeyCodes.G]),new n(4,2,"F",[e.KeyCodes.F]),new n(4,3,"E",[e.KeyCodes.E]),new n(4,4,"D",[e.KeyCodes.D]),new n(4,5,"C",[e.KeyCodes.C]),new n(4,6,"B",[e.KeyCodes.B]),new n(4,7,"A",[e.KeyCodes.A]),new n(5,0,"8",[e.KeyCodes.D8,e.KeyCodes.NumPad8]),new n(5,1,"7",[e.KeyCodes.D7,e.KeyCodes.NumPad7]),new n(5,2,"6",[e.KeyCodes.D6,e.KeyCodes.NumPad6]),new n(5,3,"5",[e.KeyCodes.D5,e.KeyCodes.NumPad5]),new n(5,4,"4",[e.KeyCodes.D4,e.KeyCodes.NumPad4]),new n(5,5,"3",[e.KeyCodes.D3,e.KeyCodes.NumPad3]),new n(5,6,"2",[e.KeyCodes.D2,e.KeyCodes.NumPad2]),new n(5,7,"1",[e.KeyCodes.D1,e.KeyCodes.NumPad1]),new n(6,0,".",[e.KeyCodes.Decimal,110]),new n(6,1,",",[e.KeyCodes.Comma]),new n(6,2,"9",[e.KeyCodes.D9,e.KeyCodes.NumPad9]),new n(6,3,"0",[e.KeyCodes.D0,e.KeyCodes.NumPad0]),new n(6,4,"SPC",[e.KeyCodes.Space]," "),new n(6,5,"-",[e.KeyCodes.Subtract,e.KeyCodes.NumPadSubtract]),new n(6,6,"+",[e.KeyCodes.Caret,e.KeyCodes.NumPadPlus]),new n(6,7,"*",[e.KeyCodes.Yen,e.KeyCodes.NumPadMultiply]),new n(7,0,"/",[e.KeyCodes.Divide,e.KeyCodes.NumPadDivide]),new n(7,1,"?",[e.KeyCodes.Backslash]),new n(7,2,"←",[e.KeyCodes.Left],"LEFT"),new n(7,3,"→",[e.KeyCodes.Right],"RIGHT"),new n(7,4,"↓",[e.KeyCodes.Down],"DOWN"),new n(7,5,"↑",[e.KeyCodes.Up],"UP"),new n(7,6,"DEL",[e.KeyCodes.Delete]),new n(7,7,"INS",[e.KeyCodes.Insert]),new n(8,0,"SHIFT",[e.KeyCodes.Shift]),new n(8,1,"(BS)"),new n(8,2),new n(8,3,"(→)",[e.KeyCodes.Tab]),new n(8,4,"(CR)"),new n(8,5,"(SHIFT)"),new n(8,6,"CTRL",[e.KeyCodes.Control]),new n(8,7,"BREAK",[e.KeyCodes.Escape,e.KeyCodes.Pause]),new n(9,0,"HOME",[e.KeyCodes.Home]),new n(9,1,"(SPC)"),new n(9,2,"(↓)"),new n(9,3,"F5",[e.KeyCodes.F5]),new n(9,4,"F4",[e.KeyCodes.F4]),new n(9,5,"F3",[e.KeyCodes.F3]),new n(9,6,"F2",[e.KeyCodes.F2]),new n(9,7,"F1",[e.KeyCodes.F1])],e.KeyNames=function(t){return Object.keys(e.KeyCodes).forEach(function(n){var r=e.KeyCodes[n];t[r]=n}),t}({}),e.Code2Key=function(){var t=new Array(256);return e.Keys.forEach(function(e){e.code.forEach(function(n){t[n]=e})}),t}(),e.Str2Key=function(){var t={};return e.Keys.forEach(function(e){t[e.strcode]=e}),t}(),t.exports=e}()},{}],10:[function(e,t,n){!function(){var e=function(){this.attackTime=.01,this.decayTime=.01,this.sustainLebel=.8,this.releaseTime=.05,this.audio=null,this.totalGain=null,this.gain=0,this.poly=128,this.indexOsc=0,this.oscNodes=new Array(this.poly),this.oscGainNodes=new Array(this.poly),window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext?(this.audio=new AudioContext,this.totalGainNode=this.audio.createGain(),this.totalGainNode.gain.value=this.gain,this.totalGainNode.connect(this.audio.destination)):(console.warn("NO AudioContext API supported by this browser."),this.setGain=function(){},this.startSound=function(){},this.stopSound=function(){})};e.prototype.setGain=function(e){e<0&&(e=0),e>1&&(e=1),this.gain=e,this.totalGainNode&&(this.totalGainNode.gain.value=this.gain)},e.prototype.startSound=function(e){null!=this.oscGainNodes[this.indexOsc]&&(this.oscGainNodes[this.indexOsc].gain.linearRampToValueAtTime(0,this.audio.currentTime+this.releaseTime),this.oscGainNodes[this.indexOsc].disconnect(),this.oscGainNodes[this.indexOsc]=null,null!=this.oscNodes[this.indexOsc]&&(this.oscNodes[this.indexOsc].stop(),this.oscNodes[this.indexOsc].disconnect(),this.oscNodes[this.indexOsc]=null)),this.oscNodes[this.indexOsc]=this.audio.createOscillator(),this.oscNodes[this.indexOsc].type="square",this.oscNodes[this.indexOsc].frequency.value=e,this.oscNodes[this.indexOsc].start=this.oscNodes[this.indexOsc].start||this.oscNodes[this.indexOsc].noteOn,this.oscGainNodes[this.indexOsc]=this.audio.createGain(),this.oscGainNodes[this.indexOsc].gain.value=0,this.oscGainNodes[this.indexOsc].gain.setValueAtTime(0,this.audio.currentTime),this.oscGainNodes[this.indexOsc].gain.linearRampToValueAtTime(1,this.audio.currentTime+this.attackTime),this.oscGainNodes[this.indexOsc].gain.linearRampToValueAtTime(this.sustainLebel,this.audio.currentTime+this.attackTime+this.decayTime),this.oscGainNodes[this.indexOsc].connect(this.totalGainNode),this.oscNodes[this.indexOsc].connect(this.oscGainNodes[this.indexOsc]),this.oscNodes[this.indexOsc].start()},e.prototype.stopSound=function(){null!=this.oscGainNodes[this.indexOsc]&&this.oscGainNodes[this.indexOsc].gain.linearRampToValueAtTime(0,this.audio.currentTime+this.releaseTime),this.indexOsc=(this.indexOsc+1)%this.poly},t.exports=e}()},{}],11:[function(e,t,n){var r=e("./bin-util.js"),i=e("./z80-line-assembler"),o=function(e){var t;if(void 0!=e){this.list=[],this.label2value={};var n=0,r=e.split(/\r{0,1}\n/);for(t=0;t<r.length;t++){var o=i.assemble(r[t],n,this.label2value);n=o.getNextAddress(),this.list.push(o)}for(t=0;t<this.list.length;t++)this.list[t].resolveAddress(this.label2value);var c=null,s=null;this.list.forEach(function(e){if(e.bytecode.length>0){(null==c||e.address<c)&&(c=e.address);var t=e.getLastAddress();(null==s||t>s)&&(s=t)}}),this.min_addr=c,this.buffer=new Array(s-c+1),this.list.forEach(function(e){e.bytecode.length>0&&Array.prototype.splice.apply(this.buffer,[e.address-c,e.bytecode.length].concat(e.bytecode))},this)}};o.prototype.parseAddress=function(e){var t=i.parseNumLiteralPair(e);if(null==t)return null;var n=t[1];"function"==typeof n&&(n=n(this.label2value));var o=t[0];return"function"==typeof o&&(o=o(this.label2value)),r.pair(n,o)},o.prototype.getMap=function(){return Object.keys(this.label2value).map(function(e){return{label:e,address:this.label2value[e]}},this).sort(function(e,t){return e.address-t.address})},t.exports=o},{"./bin-util.js":12,"./z80-line-assembler":18}],12:[function(e,t,n){!function(){"use strict";t.exports={pair:function(e,t){return 256*(255&e)+(255&t)},hibyte:function(e){return 255&Math.floor(e/256)},lobyte:function(e){return e%256},getSignedByte:function(e){return 128&(e&=255)?-(e=1+(255&~e)):e}}}()},{}],13:[function(e,t,n){"use strict";var r=e("../lib/oct"),i=e("./memory-block.js"),o=e("./register.js"),c=e("./bin-util.js"),s=e("./z80-line-assembler"),a=function(e){e=e||{memory:null},this.memory=e.memory,this.createOpecodeTable(),null==e.memory&&(this.memory=new i,this.memory.create()),this.IFF1=0,this.IFF2=0,this.IM=0,this.HALT=0,this.ioPort=new Array(256);for(var t=0;t<256;t++)this.ioPort[t]=0;this.reg=new o,this.regB=new o,this.onReadIoPort=function(){},this.onReadIoPort=e.onReadIoPort||function(){},this.onWriteIoPort=e.onWriteIoPort||function(){},this.bpmap=new Array(65536),this.tick=0};a.prototype.readIoPort=function(e){var t=this.ioPort[e];return this.reg.onReadIoPort(t),this.onReadIoPort(e,t),t},a.prototype.writeIoPort=function(e,t){this.ioPort[e]=t,this.onWriteIoPort(e,t)},a.prototype.reset=function(){this.IFF1=0,this.IFF2=0,this.IM=0,this.HALT=0,this.reg.clear(),this.regB.clear(),this.exec=a.prototype.exec,this.tick=0},a.prototype.interrupt=function(){this.IFF1&&(this.pushPair(this.reg.PC),this.reg.PC=56)},a.prototype.exec=function(){this.reg.R=this.reg.R+1&255;var e=this.opecodeTable[this.fetch()],t=e.proc()||e.cycle||4;if(this.tick+=t,null!=this.bpmap[this.reg.PC])throw console.log("*** BREAK AT $"+this.reg.PC.HEX(4)),"break"},a.prototype.clearBreakPoints=function(){this.bpmap=new Array(65536);for(var e=0;e<65536;e++)this.bpmap[e]=null},a.prototype.getBreakPoints=function(){return this.bpmap},a.prototype.removeBreak=function(e,t){for(var n=0;n<t;n++)this.bpmap[e+n]=null},a.prototype.setBreak=function(e,t){for(var n=0;n<t;n++)this.bpmap[e+n]=!0},a.prototype.fetch=function(){var e=this.memory.peek(this.reg.PC);return++this.reg.PC>65535&&(this.reg.PC=0),e},a.prototype.fetchPair=function(){var e=this.memory.peekPair(this.reg.PC);return this.reg.PC+=2,this.reg.PC>65535&&(this.reg.PC-=65535),e},a.prototype.pushPair=function(e){this.memory.poke(--this.reg.SP,c.hibyte(e)),this.memory.poke(--this.reg.SP,c.lobyte(e))},a.prototype.popPair=function(){var e=this.memory.peek(this.reg.SP++),t=this.memory.peek(this.reg.SP++);return c.pair(t,e)},a.prototype.incrementAt=function(e){var t=this.memory.peek(e),n=this.reg.getINCValue(t);this.memory.poke(e,n)},a.prototype.decrementAt=function(e){var t=this.memory.peek(e),n=this.reg.getDECValue(t);this.memory.poke(e,n)},a.dasm=function(e,t,n,r){if(t=t||0,n=n||e.length-t,(r=r||0)-t<0)console.error("Z80.dasm: parameter error : (addr - offset) - out of range");else{if(!(n<0||t+n>e.length)){var o=[],c=new i;c.create({startAddr:r-t,size:n}),c.mem=e;var u=new a({memory:c});u.reg.PC=c.startAddr;var p=s.create("ORG",c.startAddr.HEX(4)+"H");for(p.setAddress(c.startAddr),o.push(p);u.reg.PC<c.startAddr+c.size;){var d=u.disassemble(u.reg.PC,r-t+n);d.setAddress(u.reg.PC),d.bytecode.length>0&&d.setComment("; "+d.address.HEX(4)+"H "+d.bytecode.map(function(e){return e.HEX(2)}).join(" ")),o.push(d),u.reg.PC+=d.bytecode.length}return a.processAddressReference(o)}console.error("Z80.dasm: parameter error : size - out of range")}},a.prototype.disassemble=function(e,t){var n=null,r="",i=this.memory.peek(e);try{var o=this.opecodeTable[i];if(null==o)r="UNKNOWN OPECODE";else if(null==o.disasm)r="NO DISASSEMBLER";else{var c=o.disasm(this.memory,e);null==c?r="NULL RETURNED":e+c.code.length>t?n=null:(n=s.create(c.mnemonic[0],c.mnemonic.slice(1).join(","),c.code),"ref_addr_to"in c&&n.setRefAddrTo(c.ref_addr_to))}}catch(e){r="EXCEPTION THROWN"}return null==n&&(n=s.create("DEFB",i.HEX(2)+"H",[i])).setComment(";*** DISASSEMBLE FAIL: "+r),n},a.processAddressReference=function(e){var t={};return e.forEach(function(e,n){t[e.address]=n}),e.forEach(function(e,n,r){null!=e.ref_addr_to&&e.ref_addr_to in t&&r[t[e.ref_addr_to]].referenced_count++}),e.forEach(function(e,t,n){e.referenced_count>0&&n[t].setLabel("$"+e.address.HEX(4)+"H")}),e},a.dasmlines=function(e){return e.map(function(e){var t;t=e.referenced_count>0?"$"+e.address.HEX(4)+"H:":"       ",t+="   ";var n=e.mnemonic;if(n&&e.operand)for(;n.length<8;)n+=" ";for(var r=t+"      "+n+e.operand;r.length<40;)r+=" ";return""!=e.comment&&(r+=e.comment),r})},a.prototype.createOpecodeTable=function(){var e=this;this.opecodeTable=new Array(256);for(var t=new Array(256),n=new Array(256),i=new Array(256),s=new Array(256),a=new Array(256),u=new Array(256),p=0;p<256;p++)this.opecodeTable[p]={mnemonic:null,proc:function(){throw"ILLEGAL OPCODE"},disasm:function(e){return function(){return{code:[e],mnemonic:["DEFB",e.HEX(2)+"H; *** UNKNOWN OPCODE"]}}}(p)},t[p]={mnemonic:null,proc:function(e){return function(){throw"ILLEGAL OPCODE DD "+e.HEX(2)+" for IX command subset"}}(p),disasm:function(e){return function(){return{code:[221],mnemonic:["DEFB","DDh; *** UNKNOWN OPCODE "+e.HEX(2)+"H"]}}}(p)},n[p]={mnemonic:null,proc:function(e){return function(){throw"ILLEGAL OPCODE FD "+e.HEX(2)+" for IY command subset"}}(p),disasm:function(e){return function(){return{code:[253],mnemonic:["DEFB","FDh; *** UNKNOWN OPCODE "+e.HEX(2)+"H"]}}}(p)},i[p]={mnemonic:null,proc:function(e){return function(){throw"ILLEGAL OPCODE CB "+e.HEX(2)+" for Rotate command subset"}}(p),disasm:function(e){return function(){return{code:[203],mnemonic:["DEFB","CBh; *** UNKNOWN OPCODE "+e.HEX(2)+"H"]}}}(p)},s[p]={mnemonic:null,proc:function(e){return function(){throw"ILLEGAL OPCODE DD CB "+e.HEX(2)+" for Rotate IX command subset"}}(p),disasm:function(e){return function(){return{code:[221,203],mnemonic:["DEFW","CBDDh; *** UNKNOWN OPCODE "+e.HEX(2)+"H"]}}}(p)},a[p]={mnemonic:null,proc:function(e){return function(){throw"ILLEGAL OPCODE FD CB "+e.HEX(2)+" for Rotate IY command subset"}}(p),disasm:function(e){return function(){return{code:[253,203],mnemonic:["DEFW","CBFDh; *** UNKNOWN OPCODE "+e.HEX(2)+"H"]}}}(p)},u[p]={mnemonic:null,proc:function(e){return function(){throw"ILLEGAL OPCODE ED "+e.HEX(2)+" for Misc command subset"}}(p),disasm:function(e){return function(){return{code:[237],mnemonic:["DEFB","EDh; *** UNKNOWN OPCODE "+e.HEX(2)+"H"]}}}(p)};this.opecodeTable[221]={mnemonic:function(){return t},proc:function(){t[e.fetch()].proc()},disasm:function(e,n){return t[e.peek(n+1)].disasm(e,n)}},this.opecodeTable[253]={mnemonic:function(){return n},proc:function(){n[e.fetch()].proc()},disasm:function(e,t){return n[e.peek(t+1)].disasm(e,t)}},this.opecodeTable[203]={mnemonic:function(){return i},proc:function(){i[e.fetch()].proc()},disasm:function(e,t){return i[e.peek(t+1)].disasm(e,t)}},this.opecodeTable[237]={mnemonic:function(){return u},proc:function(){u[e.fetch()].proc()},disasm:function(e,t){return u[e.peek(t+1)].disasm(e,t)}};var d,l,m,f,h;for(d in o.REG_r_ID2NAME){m=o.REG_r_ID2NAME[d];for(l in o.REG_r_ID2NAME)f=o.REG_r_ID2NAME[l],h=64|d<<3|l,this.opecodeTable[h]={mnemonic:"LD "+m+","+f,proc:function(t,n,r){return function(){e.reg[n]=e.reg[r]}}(0,m,f),cycle:4,disasm:function(e,t,n){return function(){return{code:[e],mnemonic:["LD",t,n]}}}(h,m,f)}}var g=function(e,t){var n,r=e.peek(t),i=[r],c=0!=(64&r)?1:0,s=r>>3&7,a=r>>0&7,u=["???","???"];switch(u[0]=6==s?"(HL)":o.REG_r_ID2NAME[s],c){case 0:n=e.peek(t+1),i.push(n),u[1]=n.HEX(2)+"H";break;case 1:u[1]=6==a?"(HL)":o.REG_r_ID2NAME[a]}return{code:i,mnemonic:["LD",u[0],u[1]]}};this.opecodeTable[r("0006")]={mnemonic:"LD B,n",proc:function(){e.reg.B=e.fetch()},cycle:7,disasm:g},this.opecodeTable[r("0016")]={mnemonic:"LD C,n",proc:function(){e.reg.C=e.fetch()},cycle:7,disasm:g},this.opecodeTable[r("0026")]={mnemonic:"LD D,n",proc:function(){e.reg.D=e.fetch()},cycle:7,disasm:g},this.opecodeTable[r("0036")]={mnemonic:"LD E,n",proc:function(){e.reg.E=e.fetch()},cycle:7,disasm:g},this.opecodeTable[r("0046")]={mnemonic:"LD H,n",proc:function(){e.reg.H=e.fetch()},cycle:7,disasm:g},this.opecodeTable[r("0056")]={mnemonic:"LD L,n",proc:function(){e.reg.L=e.fetch()},cycle:7,disasm:g},this.opecodeTable[r("0076")]={mnemonic:"LD A,n",proc:function(){e.reg.A=e.fetch()},cycle:7,disasm:g},this.opecodeTable[r("0106")]={mnemonic:"LD B,(HL)",proc:function(){e.reg.B=e.memory.peek(e.reg.getHL())},cycle:7,disasm:g},this.opecodeTable[r("0116")]={mnemonic:"LD C,(HL)",proc:function(){e.reg.C=e.memory.peek(e.reg.getHL())},cycle:7,disasm:g},this.opecodeTable[r("0126")]={mnemonic:"LD D,(HL)",proc:function(){e.reg.D=e.memory.peek(e.reg.getHL())},cycle:7,disasm:g},this.opecodeTable[r("0136")]={mnemonic:"LD E,(HL)",proc:function(){e.reg.E=e.memory.peek(e.reg.getHL())},cycle:7,disasm:g},this.opecodeTable[r("0146")]={mnemonic:"LD H,(HL)",proc:function(){e.reg.H=e.memory.peek(e.reg.getHL())},cycle:7,disasm:g},this.opecodeTable[r("0156")]={mnemonic:"LD L,(HL)",proc:function(){e.reg.L=e.memory.peek(e.reg.getHL())},cycle:7,disasm:g},this.opecodeTable[r("0176")]={mnemonic:"LD A,(HL)",proc:function(){e.reg.A=e.memory.peek(e.reg.getHL())},cycle:7,disasm:g},this.opecodeTable[r("0160")]={mnemonic:"LD (HL),B",proc:function(){e.memory.poke(e.reg.getHL(),e.reg.B)},cycle:10,disasm:g},this.opecodeTable[r("0161")]={mnemonic:"LD (HL),C",proc:function(){e.memory.poke(e.reg.getHL(),e.reg.C)},cycle:10,disasm:g},this.opecodeTable[r("0162")]={mnemonic:"LD (HL),D",proc:function(){e.memory.poke(e.reg.getHL(),e.reg.D)},cycle:10,disasm:g},this.opecodeTable[r("0163")]={mnemonic:"LD (HL),E",proc:function(){e.memory.poke(e.reg.getHL(),e.reg.E)},cycle:10,disasm:g},this.opecodeTable[r("0164")]={mnemonic:"LD (HL),H",proc:function(){e.memory.poke(e.reg.getHL(),e.reg.H)},cycle:10,disasm:g},this.opecodeTable[r("0165")]={mnemonic:"LD (HL),L",proc:function(){e.memory.poke(e.reg.getHL(),e.reg.L)},cycle:10,disasm:g},this.opecodeTable[r("0167")]={mnemonic:"LD (HL),A",proc:function(){e.memory.poke(e.reg.getHL(),e.reg.A)},cycle:10,disasm:g},this.opecodeTable[r("0066")]={mnemonic:"LD (HL),n",proc:function(){e.memory.poke(e.reg.getHL(),e.fetch())},cycle:10,disasm:g},this.opecodeTable[r("0012")]={mnemonic:"LD A,(BC)",proc:function(){e.reg.A=e.memory.peek(e.reg.getBC())},cycle:7,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["LD","A","(BC)"]}}},this.opecodeTable[r("0032")]={mnemonic:"LD A,(DE)",proc:function(){e.reg.A=e.memory.peek(e.reg.getDE())},cycle:7,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["LD","A","(DE)"]}}},this.opecodeTable[r("0072")]={mnemonic:"LD A,(nn)",proc:function(){e.reg.A=e.memory.peek(e.fetchPair())},cycle:13,disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2)],mnemonic:["LD","A","("+e.peekPair(t+1).HEX(4)+"H)"]}}},this.opecodeTable[r("0002")]={mnemonic:"LD (BC),A",proc:function(){e.memory.poke(e.reg.getBC(),e.reg.A)},cycle:7,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["LD","(BC)","A"]}}},this.opecodeTable[r("0022")]={mnemonic:"LD (DE),A",proc:function(){e.memory.poke(e.reg.getDE(),e.reg.A)},cycle:7,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["LD","(DE)","A"]}}},this.opecodeTable[r("0062")]={mnemonic:"LD (nn),A",proc:function(){e.memory.poke(e.fetchPair(),e.reg.A)},cycle:13,disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2)],mnemonic:["LD","("+e.peekPair(t+1).HEX(4)+"H)","A"]}}},u[r("0127")]={mnemonic:"LD A,I",proc:function(){e.reg.LD_A_I(e.IFF2)},cycle:9,disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","A","I"]}}},u[r("0137")]={mnemonic:"LD A,R",proc:function(){e.reg.LD_A_R(e.IFF2,e.regB.R)},cycle:9,disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","A","R"]}}},u[r("0107")]={mnemonic:"LD I,A",proc:function(){e.reg.I=e.reg.A},cycle:9,disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","I","A"]}}},u[r("0117")]={mnemonic:"LD R,A",proc:function(){e.reg.R=e.regB.R=e.reg.A},cycle:9,disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","R","A"]}}};var y=function(e,t,n,r){var i=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),i],mnemonic:["LD",n,"("+r+"+"+i.HEX(2)+"H)"]}},C=function(e,t,n,r){var i=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),i],mnemonic:["LD","("+n+"+"+i.HEX(2)+"H)",r]}};t[r("0106")]={mnemonic:"LD B,(IX+d)",proc:function(){e.reg.B=e.memory.peek(e.reg.IX+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"B","IX")}},t[r("0116")]={mnemonic:"LD C,(IX+d)",proc:function(){e.reg.C=e.memory.peek(e.reg.IX+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"C","IX")}},t[r("0126")]={mnemonic:"LD D,(IX+d)",proc:function(){e.reg.D=e.memory.peek(e.reg.IX+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"D","IX")}},t[r("0136")]={mnemonic:"LD E,(IX+d)",proc:function(){e.reg.E=e.memory.peek(e.reg.IX+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"E","IX")}},t[r("0146")]={mnemonic:"LD H,(IX+d)",proc:function(){e.reg.H=e.memory.peek(e.reg.IX+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"H","IX")}},t[r("0156")]={mnemonic:"LD L,(IX+d)",proc:function(){e.reg.L=e.memory.peek(e.reg.IX+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"L","IX")}},t[r("0176")]={mnemonic:"LD A,(IX+d)",proc:function(){e.reg.A=e.memory.peek(e.reg.IX+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"A","IX")}},t[r("0160")]={mnemonic:"LD (IX+d),B",proc:function(){e.memory.poke(e.reg.IX+e.fetch(),e.reg.B)},cycle:19,disasm:function(e,t){return C(e,t,"IX","B")}},t[r("0161")]={mnemonic:"LD (IX+d),C",proc:function(){e.memory.poke(e.reg.IX+e.fetch(),e.reg.C)},cycle:19,disasm:function(e,t){return C(e,t,"IX","C")}},t[r("0162")]={mnemonic:"LD (IX+d),D",proc:function(){e.memory.poke(e.reg.IX+e.fetch(),e.reg.D)},cycle:19,disasm:function(e,t){return C(e,t,"IX","D")}},t[r("0163")]={mnemonic:"LD (IX+d),E",proc:function(){e.memory.poke(e.reg.IX+e.fetch(),e.reg.E)},cycle:19,disasm:function(e,t){return C(e,t,"IX","E")}},t[r("0164")]={mnemonic:"LD (IX+d),H",proc:function(){e.memory.poke(e.reg.IX+e.fetch(),e.reg.H)},cycle:19,disasm:function(e,t){return C(e,t,"IX","H")}},t[r("0165")]={mnemonic:"LD (IX+d),L",proc:function(){e.memory.poke(e.reg.IX+e.fetch(),e.reg.L)},cycle:19,disasm:function(e,t){return C(e,t,"IX","L")}},t[r("0167")]={mnemonic:"LD (IX+d),A",proc:function(){e.memory.poke(e.reg.IX+e.fetch(),e.reg.A)},cycle:19,disasm:function(e,t){return C(e,t,"IX","A")}},n[r("0106")]={mnemonic:"LD B,(IY+d)",proc:function(){e.reg.B=e.memory.peek(e.reg.IY+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"B","IY")}},n[r("0116")]={mnemonic:"LD C,(IY+d)",proc:function(){e.reg.C=e.memory.peek(e.reg.IY+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"C","IY")}},n[r("0126")]={mnemonic:"LD D,(IY+d)",proc:function(){e.reg.D=e.memory.peek(e.reg.IY+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"D","IY")}},n[r("0136")]={mnemonic:"LD E,(IY+d)",proc:function(){e.reg.E=e.memory.peek(e.reg.IY+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"E","IY")}},n[r("0146")]={mnemonic:"LD H,(IY+d)",proc:function(){e.reg.H=e.memory.peek(e.reg.IY+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"H","IY")}},n[r("0156")]={mnemonic:"LD L,(IY+d)",proc:function(){e.reg.L=e.memory.peek(e.reg.IY+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"L","IY")}},n[r("0176")]={mnemonic:"LD A,(IY+d)",proc:function(){e.reg.A=e.memory.peek(e.reg.IY+e.fetch())},cycle:19,disasm:function(e,t){return y(e,t,"A","IY")}},n[r("0160")]={mnemonic:"LD (IY+d),B",proc:function(){e.memory.poke(e.reg.IY+e.fetch(),e.reg.B)},cycle:19,disasm:function(e,t){return C(e,t,"IY","B")}},n[r("0161")]={mnemonic:"LD (IY+d),C",proc:function(){e.memory.poke(e.reg.IY+e.fetch(),e.reg.C)},cycle:19,disasm:function(e,t){return C(e,t,"IY","C")}},n[r("0162")]={mnemonic:"LD (IY+d),D",proc:function(){e.memory.poke(e.reg.IY+e.fetch(),e.reg.D)},cycle:19,disasm:function(e,t){return C(e,t,"IY","D")}},n[r("0163")]={mnemonic:"LD (IY+d),E",proc:function(){e.memory.poke(e.reg.IY+e.fetch(),e.reg.E)},cycle:19,disasm:function(e,t){return C(e,t,"IY","E")}},n[r("0164")]={mnemonic:"LD (IY+d),H",proc:function(){e.memory.poke(e.reg.IY+e.fetch(),e.reg.H)},cycle:19,disasm:function(e,t){return C(e,t,"IY","H")}},n[r("0165")]={mnemonic:"LD (IY+d),L",proc:function(){e.memory.poke(e.reg.IY+e.fetch(),e.reg.L)},cycle:19,disasm:function(e,t){return C(e,t,"IY","L")}},n[r("0167")]={mnemonic:"LD (IY+d),A",proc:function(){e.memory.poke(e.reg.IY+e.fetch(),e.reg.A)},cycle:19,disasm:function(e,t){return C(e,t,"IY","A")}};var k=function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=c.pair(i,r),s=n>>4&3;switch(s){case 0:s="BC";break;case 1:s="DE";break;case 2:s="HL";break;case 3:s="SP";break;default:throw"*** LD dd,nn; but unknown dd."}return{code:[n,r,i],mnemonic:["LD",s,o.HEX(4)+"H"]}};this.opecodeTable[r("0001")]={mnemonic:"LD BC,nn",cycle:10,proc:function(){e.reg.C=e.fetch(),e.reg.B=e.fetch()},disasm:k},this.opecodeTable[r("0021")]={mnemonic:"LD DE,nn",cycle:10,proc:function(){e.reg.E=e.fetch(),e.reg.D=e.fetch()},disasm:k},this.opecodeTable[r("0041")]={mnemonic:"LD HL,nn",cycle:10,proc:function(){e.reg.L=e.fetch(),e.reg.H=e.fetch()},disasm:k},this.opecodeTable[r("0061")]={mnemonic:"LD SP,nn",cycle:10,proc:function(){e.reg.SP=e.fetchPair()},disasm:k},this.opecodeTable[r("0052")]={mnemonic:"LD HL,(nn)",cycle:16,proc:function(){var t=e.fetchPair();e.reg.L=e.memory.peek(t+0),e.reg.H=e.memory.peek(t+1)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2);return{code:[n,r,i],mnemonic:["LD","HL","("+c.pair(i,r).HEX(4)+"H)"]}}},u[r("0113")]={mnemonic:"LD BC,(nn)",cycle:20,proc:function(){var t=e.fetchPair();e.reg.C=e.memory.peek(t+0),e.reg.B=e.memory.peek(t+1)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","BC","("+c.pair(o,i).HEX(4)+"H)"]}}},u[r("0133")]={mnemonic:"LD DE,(nn)",cycle:20,proc:function(){var t=e.fetchPair();e.reg.E=e.memory.peek(t+0),e.reg.D=e.memory.peek(t+1)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","DE","("+c.pair(o,i).HEX(4)+"H)"]}}},u[r("0153")]={mnemonic:"LD HL,(nn)",cycle:20,proc:function(){var t=e.fetchPair();e.reg.L=e.memory.peek(t+0),e.reg.H=e.memory.peek(t+1)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","HL","("+c.pair(o,i).HEX(4)+"H)"]}}},u[r("0173")]={mnemonic:"LD SP,(nn)",cycle:20,proc:function(){e.reg.SP=e.memory.peekPair(e.fetchPair())},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","SP","("+c.pair(o,i).HEX(4)+"H)"]}}},this.opecodeTable[r("0042")]={mnemonic:"LD (nn), HL",cycle:16,proc:function(){var t=e.fetchPair();e.memory.poke(t+0,e.reg.L),e.memory.poke(t+1,e.reg.H)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2);return{code:[n,r,i],mnemonic:["LD","("+c.pair(i,r).HEX(4)+"H)","HL"]}}},u[r("0103")]={mnemonic:"LD (nn),BC",cycle:20,proc:function(){var t=e.fetchPair();e.memory.poke(t+0,e.reg.C),e.memory.poke(t+1,e.reg.B)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","("+c.pair(o,i).HEX(4)+"H)","BC"]}}},u[r("0123")]={mnemonic:"LD (nn),DE",cycle:20,proc:function(){var t=e.fetchPair();e.memory.poke(t+0,e.reg.E),e.memory.poke(t+1,e.reg.D)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","("+c.pair(o,i).HEX(4)+"H)","DE"]}}},u[r("0143")]={mnemonic:"LD (nn),HL",cycle:20,proc:function(){var t=e.fetchPair();e.memory.poke(t+0,e.reg.L),e.memory.poke(t+1,e.reg.H)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","("+c.pair(o,i).HEX(4)+"H)","HL"]}}},u[r("0163")]={mnemonic:"LD (nn),SP",cycle:20,proc:function(){var t=e.fetchPair();e.memory.poke(t+0,e.reg.SP>>0&255),e.memory.poke(t+1,e.reg.SP>>8&255)},disasm:function(e,t){var n=e.peek(t),r=e.peek(t+1),i=e.peek(t+2),o=e.peek(t+3);return{code:[n,r,i,o],mnemonic:["LD","("+c.pair(o,i).HEX(4)+"H)","SP"]}}},this.opecodeTable[r("0371")]={mnemonic:"LD SP,HL",cycle:6,proc:function(){e.reg.SP=e.reg.getHL()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["LD","SP","HL"]}}},this.opecodeTable[197]={mnemonic:"PUSH BC",cycle:11,proc:function(){e.memory.poke(--e.reg.SP,e.reg.B),e.memory.poke(--e.reg.SP,e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["PUSH","BC"]}}},this.opecodeTable[213]={mnemonic:"PUSH DE",cycle:11,proc:function(){e.memory.poke(--e.reg.SP,e.reg.D),e.memory.poke(--e.reg.SP,e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["PUSH","DE"]}}},this.opecodeTable[229]={mnemonic:"PUSH HL",cycle:11,proc:function(){e.memory.poke(--e.reg.SP,e.reg.H),e.memory.poke(--e.reg.SP,e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["PUSH","HL"]}}},this.opecodeTable[245]={mnemonic:"PUSH AF",cycle:11,proc:function(){e.memory.poke(--e.reg.SP,e.reg.A),e.memory.poke(--e.reg.SP,e.reg.F)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["PUSH","AF"]}}},this.opecodeTable[193]={mnemonic:"POP BC",cycle:10,proc:function(){e.reg.C=e.memory.peek(e.reg.SP++),e.reg.B=e.memory.peek(e.reg.SP++)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["POP","BC"]}}},this.opecodeTable[209]={mnemonic:"POP DE",cycle:10,proc:function(){e.reg.E=e.memory.peek(e.reg.SP++),e.reg.D=e.memory.peek(e.reg.SP++)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["POP","DE"]}}},this.opecodeTable[225]={mnemonic:"POP HL",cycle:10,proc:function(){e.reg.L=e.memory.peek(e.reg.SP++),e.reg.H=e.memory.peek(e.reg.SP++)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["POP","HL"]}}},this.opecodeTable[241]={mnemonic:"POP AF",cycle:10,proc:function(){e.reg.F=e.memory.peek(e.reg.SP++),e.reg.A=e.memory.peek(e.reg.SP++)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["POP","AF"]}}},t[33]={mnemonic:"LD IX,nn",cycle:14,proc:function(){e.reg.IX=e.fetchPair()},disasm:function(e,t){return{code:[221,33,e.peek(t+2),e.peek(t+3)],mnemonic:["LD","IX",e.peekPair(t+2).HEX(4)+"H"]}}},t[42]={mnemonic:"LD IX,(nn)",cycle:20,proc:function(){e.reg.IX=e.memory.peekPair(e.fetchPair())},disasm:function(e,t){return{code:[221,42,e.peek(t+2),e.peek(t+3)],mnemonic:["LD","IX","("+e.peekPair(t+2).HEX(4)+"H)"]}}},t[54]={mnemonic:"LD (IX+d),n",cycle:19,proc:function(){var t=e.fetch(),n=e.fetch();e.memory.poke(e.reg.IX+t,n)},disasm:function(e,t){var n=e.peek(t+2),r=e.peek(t+3);return{code:[221,54,n,r],mnemonic:["LD","(IX + "+n.HEX(2)+"H)",r.HEX(2)+"H"]}}},t[249]={mnemonic:"LD SP,IX",cycle:10,proc:function(){e.reg.SP=e.reg.IX},disasm:function(){return{code:[221,249],mnemonic:["LD","SP","IX"]}}},t[229]={mnemonic:"PUSH IX",cycle:15,proc:function(){e.memory.poke(--e.reg.SP,c.hibyte(e.reg.IX)),e.memory.poke(--e.reg.SP,c.lobyte(e.reg.IX))},disasm:function(){return{code:[221,229],mnemonic:["PUSH","IX"]}}},t[225]={mnemonic:"POP IX",cycle:14,proc:function(){e.reg.IX=e.memory.peekPair(e.reg.SP),e.reg.SP+=2},disasm:function(){return{code:[221,225],mnemonic:["POP","IX"]}}},t[227]={mnemonic:"EX (SP),IX",cycle:23,proc:function(){var t=e.memory.peek(e.reg.SP+1);e.memory.poke(e.reg.SP+1,c.hibyte(e.reg.IX));var n=e.memory.peek(e.reg.SP);e.memory.poke(e.reg.SP,c.lobyte(e.reg.IX)),e.reg.IX=c.pair(t,n)},disasm:function(){return{code:[221,227],mnemonic:["EX","(SP)","IX"]}}},n[33]={mnemonic:"LD IY,nn",cycle:14,proc:function(){e.reg.IY=e.fetchPair()},disasm:function(e,t){return{code:[253,33,e.peek(t+2),e.peek(t+3)],mnemonic:["LD","IY",e.peekPair(t+2).HEX(4)+"H"]}}},n[42]={mnemonic:"LD IY,(nn)",cycle:20,proc:function(){e.reg.IY=e.memory.peekPair(e.fetchPair())},disasm:function(e,t){return{code:[253,42,e.peek(t+2),e.peek(t+3)],mnemonic:["LD","IY","("+e.peekPair(t+2).HEX(4)+"H)"]}}},n[54]={mnemonic:"LD (IY+d),n",cycle:19,proc:function(){var t=e.fetch(),n=e.fetch();e.memory.poke(e.reg.IY+t,n)},disasm:function(e,t){var n=e.peek(t+2),r=e.peek(t+3);return{code:[253,54,n,r],mnemonic:["LD","(IY + "+n.HEX(2)+"H)",r.HEX(2)+"H"]}}},n[249]={mnemonic:"LD SP,IY",cycle:10,proc:function(){e.reg.SP=e.reg.IY},disasm:function(){return{code:[253,249],mnemonic:["LD","SP","IY"]}}},n[229]={mnemonic:"PUSH IY",cycle:15,proc:function(){e.memory.poke(--e.reg.SP,c.hibyte(e.reg.IY)),e.memory.poke(--e.reg.SP,c.lobyte(e.reg.IY))},disasm:function(){return{code:[253,229],mnemonic:["PUSH","IY"]}}},n[225]={mnemonic:"POP IY",cycle:14,proc:function(){e.reg.IY=e.memory.peekPair(e.reg.SP),e.reg.SP+=2},disasm:function(){return{code:[253,225],mnemonic:["POP","IY"]}}},n[227]={mnemonic:"EX (SP),IY",cycle:23,proc:function(){var t=e.memory.peek(e.reg.SP+1);e.memory.poke(e.reg.SP+1,e.reg.IY>>8&255);var n=e.memory.peek(e.reg.SP);e.memory.poke(e.reg.SP,e.reg.IY>>0&255),e.reg.IY=(t<<8)+n},disasm:function(){return{code:[253,227],mnemonic:["EX","(SP)","IY"]}}},this.opecodeTable[235]={mnemonic:"EX DE,HL ",cycle:4,proc:function(){var t=e.reg.D;e.reg.D=e.reg.H,e.reg.H=t,t=e.reg.E,e.reg.E=e.reg.L,e.reg.L=t},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["EX","DE","HL"]}}},this.opecodeTable[8]={mnemonic:"EX AF,AF'",cycle:4,proc:function(){var t=e.reg.A;e.reg.A=e.regB.A,e.regB.A=t,t=e.reg.F,e.reg.F=e.regB.F,e.regB.F=t},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["EX","AF","AF'"]}}},this.opecodeTable[217]={mnemonic:"EXX",cycle:4,proc:function(){var t=e.reg.B;e.reg.B=e.regB.B,e.regB.B=t,t=e.reg.C,e.reg.C=e.regB.C,e.regB.C=t,t=e.reg.D,e.reg.D=e.regB.D,e.regB.D=t,t=e.reg.E,e.reg.E=e.regB.E,e.regB.E=t,t=e.reg.H,e.reg.H=e.regB.H,e.regB.H=t,t=e.reg.L,e.reg.L=e.regB.L,e.regB.L=t},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["EXX"]}}},this.opecodeTable[227]={mnemonic:"EX (SP),HL",cycle:19,proc:function(){var t=e.memory.peek(e.reg.SP+1);e.memory.poke(e.reg.SP+1,e.reg.H),e.reg.H=t,t=e.memory.peek(e.reg.SP),e.memory.poke(e.reg.SP,e.reg.L),e.reg.L=t},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["EX","(SP)","HL"]}}},u[r("0240")]={mnemonic:"LDI",cycle:16,proc:function(){e.memory.poke(e.reg.getDE(),e.memory.peek(e.reg.getHL())),e.reg.onLDI()},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LDI"]}}},u[r("0260")]={mnemonic:"LDIR",cycle:"BC≠0→21, BC=0→16",proc:function(){return e.memory.poke(e.reg.getDE(),e.memory.peek(e.reg.getHL())),e.reg.onLDI(),0!=e.reg.getBC()?(e.reg.PC-=2,21):16},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LDIR"]}}},u[r("0250")]={mnemonic:"LDD",cycle:16,proc:function(){e.memory.poke(e.reg.getDE(),e.memory.peek(e.reg.getHL())),e.reg.onLDD()},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LDD"]}}},u[r("0270")]={mnemonic:"LDDR",cycle:"BC≠0→21, BC=0→16",proc:function(){return e.memory.poke(e.reg.getDE(),e.memory.peek(e.reg.getHL())),e.reg.onLDD(),0!=e.reg.getBC()?(e.reg.PC-=2,21):16},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LDDR"]}}},u[r("0241")]={mnemonic:"CPI",cycle:16,proc:function(){e.reg.CPI(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["CPI"]}}},u[r("0261")]={mnemonic:"CPIR",cycle:"{BC≠0 && A≠(HL)}→21, {BC=0 || A=(HL)}→16",proc:function(){return e.reg.CPI(e.memory.peek(e.reg.getHL())),0==e.reg.getBC()||e.reg.flagZ()?16:(e.reg.PC-=2,21)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["CPIR"]}}},u[r("0251")]={mnemonic:"CPD",cycle:16,proc:function(){e.reg.CPD(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["CPD"]}}},u[r("0271")]={mnemonic:"CPDR",cycle:"{BC≠0 && A≠(HL)}→21, {BC=0 || A=(HL)}→16",proc:function(){return e.reg.CPD(e.memory.peek(e.reg.getHL())),0==e.reg.getBC()||e.reg.flagZ()?16:(e.reg.PC-=2,21)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["CPDR"]}}},this.opecodeTable[r("0200")]={mnemonic:"ADD A,B",cycle:4,proc:function(){e.reg.addAcc(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","B"]}}},this.opecodeTable[r("0201")]={mnemonic:"ADD A,C",cycle:4,proc:function(){e.reg.addAcc(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","C"]}}},this.opecodeTable[r("0202")]={mnemonic:"ADD A,D",cycle:4,proc:function(){e.reg.addAcc(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","D"]}}},this.opecodeTable[r("0203")]={mnemonic:"ADD A,E",cycle:4,proc:function(){e.reg.addAcc(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","E"]}}},this.opecodeTable[r("0204")]={mnemonic:"ADD A,H",cycle:4,proc:function(){e.reg.addAcc(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","H"]}}},this.opecodeTable[r("0205")]={mnemonic:"ADD A,L",cycle:4,proc:function(){e.reg.addAcc(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","L"]}}},this.opecodeTable[r("0207")]={mnemonic:"ADD A,A",cycle:4,proc:function(){e.reg.addAcc(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","A"]}}},this.opecodeTable[r("0306")]={mnemonic:"ADD A,n",cycle:7,proc:function(){e.reg.addAcc(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["ADD","A",n.HEX(2)+"H"]}}},this.opecodeTable[r("0206")]={mnemonic:"ADD A,(HL)",cycle:7,proc:function(){e.reg.addAcc(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","A","(HL)"]}}},t[r("0206")]={mnemonic:"ADD A,(IX+d)",cycle:19,proc:function(){e.reg.addAcc(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["ADD","A","(IX+"+n.HEX(2)+"H)"]}}},n[r("0206")]={mnemonic:"ADD A,(IY+d)",cycle:19,proc:function(){e.reg.addAcc(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["ADD","A","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0210")]={mnemonic:"ADC A,B",cycle:4,proc:function(){e.reg.addAccWithCarry(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","B"]}}},this.opecodeTable[r("0211")]={mnemonic:"ADC A,C",cycle:4,proc:function(){e.reg.addAccWithCarry(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","C"]}}},this.opecodeTable[r("0212")]={mnemonic:"ADC A,D",cycle:4,proc:function(){e.reg.addAccWithCarry(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","D"]}}},this.opecodeTable[r("0213")]={mnemonic:"ADC A,E",cycle:4,proc:function(){e.reg.addAccWithCarry(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","E"]}}},this.opecodeTable[r("0214")]={mnemonic:"ADC A,H",cycle:4,proc:function(){e.reg.addAccWithCarry(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","H"]}}},this.opecodeTable[r("0215")]={mnemonic:"ADC A,L",cycle:4,proc:function(){e.reg.addAccWithCarry(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","L"]}}},this.opecodeTable[r("0217")]={mnemonic:"ADC A,A",cycle:4,proc:function(){e.reg.addAccWithCarry(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","A"]}}},this.opecodeTable[r("0316")]={mnemonic:"ADC A,n",cycle:7,proc:function(){e.reg.addAccWithCarry(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["ADC","A",n.HEX(2)+"H"]}}},this.opecodeTable[r("0216")]={mnemonic:"ADC A,(HL)",cycle:7,proc:function(){e.reg.addAccWithCarry(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADC","A","(HL)"]}}},t[r("0216")]={mnemonic:"ADC A,(IX+d)",cycle:19,proc:function(){e.reg.addAccWithCarry(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["ADC","A","(IX+"+n.HEX(2)+"H)"]}}},n[r("0216")]={mnemonic:"ADC A,(IY+d)",cycle:19,proc:function(){e.reg.addAccWithCarry(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["ADC","A","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0220")]={mnemonic:"SUB A,B",cycle:4,proc:function(){e.reg.subAcc(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","B"]}}},this.opecodeTable[r("0221")]={mnemonic:"SUB A,C",cycle:4,proc:function(){e.reg.subAcc(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","C"]}}},this.opecodeTable[r("0222")]={mnemonic:"SUB A,D",cycle:4,proc:function(){e.reg.subAcc(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","D"]}}},this.opecodeTable[r("0223")]={mnemonic:"SUB A,E",cycle:4,proc:function(){e.reg.subAcc(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","E"]}}},this.opecodeTable[r("0224")]={mnemonic:"SUB A,H",cycle:4,proc:function(){e.reg.subAcc(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","H"]}}},this.opecodeTable[r("0225")]={mnemonic:"SUB A,L",cycle:4,proc:function(){e.reg.subAcc(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","L"]}}},this.opecodeTable[r("0227")]={mnemonic:"SUB A,A",cycle:4,proc:function(){e.reg.subAcc(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","A"]}}},this.opecodeTable[r("0326")]={mnemonic:"SUB A,n",cycle:7,proc:function(){e.reg.subAcc(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["SUB","A",n.HEX(2)+"H"]}}},this.opecodeTable[r("0226")]={mnemonic:"SUB A,(HL)",cycle:7,proc:function(){e.reg.subAcc(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SUB","A","(HL)"]}}},t[r("0226")]={mnemonic:"SUB A,(IX+d)",cycle:19,proc:function(){e.reg.subAcc(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["SUB","A","(IX+"+n.HEX(2)+"H)"]}}},n[r("0226")]={mnemonic:"SUB A,(IY+d)",cycle:19,proc:function(){e.reg.subAcc(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["SUB","A","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0230")]={mnemonic:"SBC A,B",cycle:4,proc:function(){e.reg.subAccWithCarry(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","B"]}}},this.opecodeTable[r("0231")]={mnemonic:"SBC A,C",cycle:4,proc:function(){e.reg.subAccWithCarry(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","C"]}}},this.opecodeTable[r("0232")]={mnemonic:"SBC A,D",cycle:4,proc:function(){e.reg.subAccWithCarry(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","D"]}}},this.opecodeTable[r("0233")]={mnemonic:"SBC A,E",cycle:4,proc:function(){e.reg.subAccWithCarry(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","E"]}}},this.opecodeTable[r("0234")]={mnemonic:"SBC A,H",cycle:4,proc:function(){e.reg.subAccWithCarry(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","H"]}}},this.opecodeTable[r("0235")]={mnemonic:"SBC A,L",cycle:4,proc:function(){e.reg.subAccWithCarry(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","L"]}}},this.opecodeTable[r("0237")]={mnemonic:"SBC A,A",cycle:4,proc:function(){e.reg.subAccWithCarry(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","A"]}}},this.opecodeTable[r("0336")]={mnemonic:"SBC A,n",cycle:7,proc:function(){e.reg.subAccWithCarry(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["SBC","A,"+n.HEX(2)+"H"]}}},this.opecodeTable[r("0236")]={mnemonic:"SBC A,(HL)",cycle:7,proc:function(){e.reg.subAccWithCarry(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SBC","A","(HL)"]}}},t[r("0236")]={mnemonic:"SBC A,(IX+d)",cycle:19,proc:function(){e.reg.subAccWithCarry(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["SBC","A","(IX+"+n.HEX(2)+"H)"]}}},n[r("0236")]={mnemonic:"SBC A,(IY+d)",cycle:19,proc:function(){e.reg.subAccWithCarry(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["SBC","A","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0240")]={mnemonic:"AND B",cycle:4,proc:function(){e.reg.andAcc(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","B"]}}},this.opecodeTable[r("0241")]={mnemonic:"AND C",cycle:4,proc:function(){e.reg.andAcc(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","C"]}}},this.opecodeTable[r("0242")]={mnemonic:"AND D",cycle:4,proc:function(){e.reg.andAcc(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","D"]}}},this.opecodeTable[r("0243")]={mnemonic:"AND E",cycle:4,proc:function(){e.reg.andAcc(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","E"]}}},this.opecodeTable[r("0244")]={mnemonic:"AND H",cycle:4,proc:function(){e.reg.andAcc(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","H"]}}},this.opecodeTable[r("0245")]={mnemonic:"AND L",cycle:4,proc:function(){e.reg.andAcc(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","L"]}}},this.opecodeTable[r("0247")]={mnemonic:"AND A",cycle:4,proc:function(){e.reg.andAcc(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","A"]}}},this.opecodeTable[r("0346")]={mnemonic:"AND n",cycle:7,proc:function(){e.reg.andAcc(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["AND",n.HEX(2)+"H"]}}},this.opecodeTable[r("0246")]={mnemonic:"AND (HL)",cycle:7,proc:function(){e.reg.andAcc(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["AND","(HL)"]}}},t[r("0246")]={mnemonic:"AND (IX+d)",cycle:19,proc:function(){e.reg.andAcc(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["AND","(IX+"+n.HEX(2)+"H)"]}}},n[r("0246")]={mnemonic:"AND (IY+d)",cycle:19,proc:function(){e.reg.andAcc(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["AND","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0260")]={mnemonic:"OR B",cycle:4,proc:function(){e.reg.orAcc(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","B"]}}},this.opecodeTable[r("0261")]={mnemonic:"OR C",cycle:4,proc:function(){e.reg.orAcc(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","C"]}}},this.opecodeTable[r("0262")]={mnemonic:"OR D",cycle:4,proc:function(){e.reg.orAcc(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","D"]}}},this.opecodeTable[r("0263")]={mnemonic:"OR E",cycle:4,proc:function(){e.reg.orAcc(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","E"]}}},this.opecodeTable[r("0264")]={mnemonic:"OR H",cycle:4,proc:function(){e.reg.orAcc(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","H"]}}},this.opecodeTable[r("0265")]={mnemonic:"OR L",cycle:4,proc:function(){e.reg.orAcc(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","L"]}}},this.opecodeTable[r("0267")]={mnemonic:"OR A",cycle:4,proc:function(){e.reg.orAcc(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","A"]}}},this.opecodeTable[r("0366")]={mnemonic:"OR n",cycle:7,proc:function(){e.reg.orAcc(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["OR",n.HEX(2)+"H"]}}},this.opecodeTable[r("0266")]={mnemonic:"OR (HL)",cycle:7,proc:function(){e.reg.orAcc(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["OR","(HL)"]}}},t[r("0266")]={mnemonic:"OR (IX+d)",cycle:19,proc:function(){e.reg.orAcc(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["OR","(IX+"+n.HEX(2)+"H)"]}}},n[r("0266")]={mnemonic:"OR (IY+d)",cycle:19,proc:function(){e.reg.orAcc(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["OR","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0250")]={mnemonic:"XOR B",cycle:4,proc:function(){e.reg.xorAcc(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","B"]}}},this.opecodeTable[r("0251")]={mnemonic:"XOR C",cycle:4,proc:function(){e.reg.xorAcc(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","C"]}}},this.opecodeTable[r("0252")]={mnemonic:"XOR D",cycle:4,proc:function(){e.reg.xorAcc(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","D"]}}},this.opecodeTable[r("0253")]={mnemonic:"XOR E",cycle:4,proc:function(){e.reg.xorAcc(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","E"]}}},this.opecodeTable[r("0254")]={mnemonic:"XOR H",cycle:4,proc:function(){e.reg.xorAcc(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","H"]}}},this.opecodeTable[r("0255")]={mnemonic:"XOR L",cycle:4,proc:function(){e.reg.xorAcc(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","L"]}}},this.opecodeTable[r("0257")]={mnemonic:"XOR A",cycle:4,proc:function(){e.reg.xorAcc(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","A"]}}},this.opecodeTable[r("0356")]={mnemonic:"XOR n",cycle:7,proc:function(){e.reg.xorAcc(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["XOR",n.HEX(2)+"H"]}}},this.opecodeTable[r("0256")]={mnemonic:"XOR (HL)",cycle:7,proc:function(){e.reg.xorAcc(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["XOR","(HL)"]}}},t[r("0256")]={mnemonic:"XOR (IX+d)",cycle:19,proc:function(){e.reg.xorAcc(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["XOR","(IX+"+n.HEX(2)+"H)"]}}},n[r("0256")]={mnemonic:"XOR (IY+d)",cycle:19,proc:function(){e.reg.xorAcc(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["XOR","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0270")]={mnemonic:"CP B",cycle:4,proc:function(){e.reg.compareAcc(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","B"]}}},this.opecodeTable[r("0271")]={mnemonic:"CP C",cycle:4,proc:function(){e.reg.compareAcc(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","C"]}}},this.opecodeTable[r("0272")]={mnemonic:"CP D",cycle:4,proc:function(){e.reg.compareAcc(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","D"]}}},this.opecodeTable[r("0273")]={mnemonic:"CP E",cycle:4,proc:function(){e.reg.compareAcc(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","E"]}}},this.opecodeTable[r("0274")]={mnemonic:"CP H",cycle:4,proc:function(){e.reg.compareAcc(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","H"]}}},this.opecodeTable[r("0275")]={mnemonic:"CP L",cycle:4,proc:function(){e.reg.compareAcc(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","L"]}}},this.opecodeTable[r("0277")]={mnemonic:"CP A",cycle:4,proc:function(){e.reg.compareAcc(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","A"]}}},this.opecodeTable[r("0376")]={mnemonic:"CP n",cycle:7,proc:function(){e.reg.compareAcc(e.fetch())},disasm:function(e,t){var n=e.peek(t+1);return{code:[e.peek(t),n],mnemonic:["CP",n.HEX(2)+"H"]}}},this.opecodeTable[r("0276")]={mnemonic:"CP (HL)",cycle:7,proc:function(){e.reg.compareAcc(e.memory.peek(e.reg.getHL()))},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CP","(HL)"]}}},t[r("0276")]={mnemonic:"CP (IX+d)",cycle:19,proc:function(){e.reg.compareAcc(e.memory.peek(e.reg.IX+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["CP","(IX+"+n.HEX(2)+"H)"]}}},n[r("0276")]={mnemonic:"CP (IY+d)",cycle:19,proc:function(){e.reg.compareAcc(e.memory.peek(e.reg.IY+e.fetch()))},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["CP","(IY+"+n.HEX(2)+"H)"]}}},this.opecodeTable[r("0004")]={mnemonic:"INC B",cycle:4,proc:function(){e.reg.increment("B")},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","B"]}}},this.opecodeTable[r("0014")]={mnemonic:"INC C",cycle:4,proc:function(){e.reg.increment("C")},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","C"]}}},this.opecodeTable[r("0024")]={mnemonic:"INC D",cycle:4,proc:function(){e.reg.increment("D")},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","D"]}}},this.opecodeTable[r("0034")]={mnemonic:"INC E",cycle:4,proc:function(){e.reg.increment("E")},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","E"]}}},this.opecodeTable[r("0044")]={mnemonic:"INC H",cycle:4,proc:function(){e.reg.increment("H")},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","H"]}}},this.opecodeTable[r("0054")]={mnemonic:"INC L",cycle:4,proc:function(){e.reg.increment("L")},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","L"]}}},this.opecodeTable[r("0074")]={mnemonic:"INC A",cycle:4,proc:function(){e.reg.increment("A")},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","A"]}}},this.opecodeTable[r("0064")]={mnemonic:"INC (HL)",cycle:11,proc:function(){e.incrementAt(e.reg.getHL())},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","(HL)"]}}},t[r("0064")]={mnemonic:"INC (IX+d)",cycle:23,proc:function(){e.incrementAt(e.reg.IX+e.fetch())},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["INC","(IX+ "+n+")"]}}},n[r("0064")]={mnemonic:"INC (IY+d)",cycle:23,proc:function(){e.incrementAt(e.reg.IY+e.fetch())},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["INC","(IY+ "+n+")"]}}},this.opecodeTable[r("0005")]={mnemonic:"DEC B",proc:function(){e.reg.decrement("B")},cycle:4,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","B"]}}},this.opecodeTable[r("0015")]={mnemonic:"DEC C",proc:function(){e.reg.decrement("C")},cycle:4,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","C"]}}},this.opecodeTable[r("0025")]={mnemonic:"DEC D",proc:function(){e.reg.decrement("D")},cycle:4,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","D"]}}},this.opecodeTable[r("0035")]={mnemonic:"DEC E",proc:function(){e.reg.decrement("E")},cycle:4,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","E"]}}},this.opecodeTable[r("0045")]={mnemonic:"DEC H",proc:function(){e.reg.decrement("H")},cycle:4,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","H"]}}},this.opecodeTable[r("0055")]={mnemonic:"DEC L",proc:function(){e.reg.decrement("L")},cycle:4,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","L"]}}},this.opecodeTable[r("0075")]={mnemonic:"DEC A",proc:function(){e.reg.decrement("A")},cycle:4,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","A"]}}},this.opecodeTable[r("0065")]={mnemonic:"DEC (HL)",proc:function(){e.decrementAt(e.reg.getHL())},cycle:11,disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","(HL)"]}}},t[r("0065")]={mnemonic:"DEC (IX+d)",cycle:23,proc:function(){e.decrementAt(e.reg.IX+e.fetch())},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["DEC","(IX+ "+n+")"]}}},n[r("0065")]={mnemonic:"DEC (IY+d)",cycle:23,proc:function(){e.decrementAt(e.reg.IY+e.fetch())},disasm:function(e,t){var n=e.peek(t+2);return{code:[e.peek(t),e.peek(t+1),n],mnemonic:["DEC","(IY+ "+n+")"]}}},this.opecodeTable[r("0047")]={mnemonic:"DAA",cycle:4,proc:function(){e.reg.DAA()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DAA"]}}},this.opecodeTable[r("0057")]={mnemonic:"CPL",cycle:4,proc:function(){e.reg.CPL()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CPL"]}}},this.opecodeTable[r("0077")]={mnemonic:"CCF",cycle:4,proc:function(){e.reg.flagC()?e.reg.clearFlagC():e.reg.setFlagC()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["CCF"]}}},this.opecodeTable[r("0067")]={mnemonic:"SCF",cycle:4,proc:function(){e.reg.setFlagC()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["SCF"]}}},this.opecodeTable[r("0000")]={mnemonic:"NOP",cycle:4,proc:function(){},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["NOP"]}}},this.opecodeTable[r("0166")]={mnemonic:"HALT",cycle:4,proc:function(){throw e.HALT=1,e.reg.PC-=1,e.exec=function(){throw e.reg.R=e.reg.R+1&255,"halt"},"halt"},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["HALT"]}}},this.opecodeTable[r("0363")]={mnemonic:"DI",cycle:4,proc:function(){e.IFF1=e.IFF2=0},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DI"]}}},this.opecodeTable[r("0373")]={mnemonic:"EI",cycle:4,proc:function(){e.IFF1?e.IFF2=1:(e.IFF1=this.IFF2=1,e.reg.R=e.reg.R+1&255,e.exec())},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["EI"]}}},u[r("0104")]={mnemonic:"NEG",cycle:8,proc:function(){e.reg.NEG()},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["NEG"]}}},u[r("0106")]={mnemonic:"IM0",cycle:8,proc:function(){e.IM=0},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IM0"]}}},u[r("0126")]={mnemonic:"IM1",cycle:8,proc:function(){e.IM=1},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IM1"]}}},u[r("0136")]={mnemonic:"IM2",cycle:8,proc:function(){e.IM=2},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IM2"]}}},this.opecodeTable[r("0011")]={mnemonic:"ADD HL,BC",cycle:11,proc:function(){e.reg.ADD_HL(e.reg.getBC())},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","HL","BC"]}}},this.opecodeTable[r("0031")]={mnemonic:"ADD HL,DE",cycle:11,proc:function(){e.reg.ADD_HL(e.reg.getDE())},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","HL","DE"]}}},this.opecodeTable[r("0051")]={mnemonic:"ADD HL,HL",cycle:11,proc:function(){e.reg.ADD_HL(e.reg.getHL())},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","HL","HL"]}}},this.opecodeTable[r("0071")]={mnemonic:"ADD HL,SP",cycle:11,proc:function(){e.reg.ADD_HL(e.reg.SP)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["ADD","HL","SP"]}}},u[r("0112")]={mnemonic:"ADC HL,BC",cycle:15,proc:function(){e.reg.ADC_HL(e.reg.getBC())},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["ADC","HL","BC"]}}},u[r("0132")]={mnemonic:"ADC HL,DE",cycle:15,proc:function(){e.reg.ADC_HL(e.reg.getDE())},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["ADC","HL","DE"]}}},u[r("0152")]={mnemonic:"ADC HL,HL",cycle:15,proc:function(){e.reg.ADC_HL(e.reg.getHL())},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["ADC","HL","HL"]}}},u[r("0172")]={mnemonic:"ADC HL,SP",cycle:15,proc:function(){e.reg.ADC_HL(e.reg.SP)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["ADC","HL","SP"]}}},u[r("0102")]={mnemonic:"SBC HL,BC",cycle:15,proc:function(){e.reg.SBC_HL(e.reg.getBC())},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SBC","HL","BC"]}}},u[r("0122")]={mnemonic:"SBC HL,DE",cycle:15,proc:function(){e.reg.SBC_HL(e.reg.getDE())},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SBC","HL","DE"]}}},u[r("0142")]={mnemonic:"SBC HL,HL",cycle:15,proc:function(){e.reg.SBC_HL(e.reg.getHL())},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SBC","HL","HL"]}}},u[r("0162")]={mnemonic:"SBC HL,SP",cycle:15,proc:function(){e.reg.SBC_HL(e.reg.SP)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SBC","HL","SP"]}}},t[r("0011")]={mnemonic:"ADD IX,BC",cycle:15,proc:function(){e.reg.ADD_IX(e.reg.getBC())},disasm:function(){return{code:[221,9],mnemonic:["ADD","IX","BC"]}}},t[r("0031")]={mnemonic:"ADD IX,DE",cycle:15,proc:function(){e.reg.ADD_IX(e.reg.getDE())},disasm:function(){return{code:[221,25],mnemonic:["ADD","IX","DE"]}}},t[r("0051")]={mnemonic:"ADD IX,IX",cycle:15,proc:function(){e.reg.ADD_IX(e.reg.IX)},disasm:function(){return{code:[221,41],mnemonic:["ADD","IX","IX"]}}},t[r("0071")]={mnemonic:"ADD IX,SP",cycle:15,proc:function(){e.reg.ADD_IX(e.reg.SP)},disasm:function(){return{code:[221,57],mnemonic:["ADD","IX","SP"]}}},n[r("0011")]={mnemonic:"ADD IY,BC",cycle:15,proc:function(){e.reg.ADD_IY(e.reg.getBC())},disasm:function(){return{code:[253,9],mnemonic:["ADD","IY","BC"]}}},n[r("0031")]={mnemonic:"ADD IY,DE",cycle:15,proc:function(){e.reg.ADD_IY(e.reg.getDE())},disasm:function(){return{code:[253,25],mnemonic:["ADD","IY","DE"]}}},n[r("0051")]={mnemonic:"ADD IY,IY",cycle:15,proc:function(){e.reg.ADD_IY(e.reg.IY)},disasm:function(){return{code:[253,41],mnemonic:["ADD","IY","IY"]}}},n[r("0071")]={mnemonic:"ADD IY,SP",cycle:15,proc:function(){e.reg.ADD_IY(e.reg.SP)},disasm:function(){return{code:[253,57],mnemonic:["ADD","IY","SP"]}}},this.opecodeTable[r("0003")]={mnemonic:"INC BC",cycle:6,proc:function(){e.reg.incBC()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","BC"]}}},this.opecodeTable[r("0023")]={mnemonic:"INC DE",cycle:6,proc:function(){e.reg.incDE()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","DE"]}}},this.opecodeTable[r("0043")]={mnemonic:"INC HL",cycle:6,proc:function(){e.reg.incHL()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","HL"]}}},this.opecodeTable[r("0063")]={mnemonic:"INC SP",cycle:6,proc:function(){e.reg.SP=e.reg.SP+1&65535},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["INC","SP"]}}},t[r("0043")]={mnemonic:"INC IX",cycle:10,proc:function(){e.reg.IX=e.reg.IX+1&65535},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["INC","IX"]}}},n[r("0043")]={mnemonic:"INC IY",cycle:10,proc:function(){e.reg.IY=e.reg.IY+1&65535},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["INC","IY"]}}},this.opecodeTable[r("0013")]={mnemonic:"DEC BC",cycle:6,proc:function(){e.reg.decBC()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","BC"]}}},this.opecodeTable[r("0033")]={mnemonic:"DEC DE",cycle:6,proc:function(){e.reg.decDE()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","DE"]}}},this.opecodeTable[r("0053")]={mnemonic:"DEC HL",cycle:6,proc:function(){e.reg.decHL()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","HL"]}}},this.opecodeTable[r("0073")]={mnemonic:"DEC SP",cycle:6,proc:function(){e.reg.SP=e.reg.SP-1&65535},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["DEC","SP"]}}},t[r("0053")]={mnemonic:"DEC IX",cycle:10,proc:function(){e.reg.IX=e.reg.IX-1&65535},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["DEC","IX"]}}},n[r("0053")]={mnemonic:"DEC IY",cycle:10,proc:function(){e.reg.IY=e.reg.IY-1&65535},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["DEC","IY"]}}},this.opecodeTable[r("0007")]={mnemonic:"RLCA",cycle:4,proc:function(){e.reg.RLCA()},disasm:function(){return{code:[r("0007")],mnemonic:["RLCA"]}}},this.opecodeTable[r("0027")]={mnemonic:"RLA",cycle:4,proc:function(){e.reg.RLA()},disasm:function(){return{code:[r("0027")],mnemonic:["RLA"]}}},this.opecodeTable[r("0017")]={mnemonic:"RRCA",cycle:4,proc:function(){e.reg.RRCA()},disasm:function(){return{code:[r("0017")],mnemonic:["RRCA"]}}},this.opecodeTable[r("0037")]={mnemonic:"RRA",cycle:4,proc:function(){e.reg.RRA()},disasm:function(){return{code:[r("0037")],mnemonic:["RRA"]}}},t[r("0313")]={mnemonic:function(){return s},proc:function(){var t=e.fetch(),n=e.fetch();s[n].proc(t)},disasm:function(e,t){var n=e.peek(t+3);return s[n].disasm(e,t)}},n[r("0313")]={mnemonic:function(){return a},proc:function(){var t=e.fetch(),n=e.fetch();a[n].proc(t)},disasm:function(e,t){var n=e.peek(t+3);return a[n].disasm(e,t)}},i[r("0000")]={mnemonic:"RLC B",cycle:4,proc:function(){e.reg.B=e.reg.RLC(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","B"]}}},i[r("0001")]={mnemonic:"RLC C",cycle:4,proc:function(){e.reg.C=e.reg.RLC(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","C"]}}},i[r("0002")]={mnemonic:"RLC D",cycle:4,proc:function(){e.reg.D=e.reg.RLC(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","D"]}}},i[r("0003")]={mnemonic:"RLC E",cycle:4,proc:function(){e.reg.E=e.reg.RLC(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","E"]}}},i[r("0004")]={mnemonic:"RLC H",cycle:4,proc:function(){e.reg.H=e.reg.RLC(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","H"]}}},i[r("0005")]={mnemonic:"RLC L",cycle:4,proc:function(){e.reg.L=e.reg.RLC(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","L"]}}},i[r("0007")]={mnemonic:"RLC A",cycle:4,proc:function(){e.reg.A=e.reg.RLC(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","A"]}}},i[r("0006")]={mnemonic:"RLC (HL)",cycle:15,proc:function(){var t=e.reg.getHL();e.memory.poke(t,e.reg.RLC(e.memory.peek(t)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLC","(HL)"]}}},s[r("0006")]={mnemonic:"RLC (IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,e.reg.RLC(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RLC","(IX+"+e.peek(t+2)+")"]}}},a[r("0006")]={mnemonic:"RLC (IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,e.reg.RLC(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RLC","(IY+"+e.peek(t+2)+")"]}}},i[r("0020")]={mnemonic:"RL B",cycle:8,proc:function(){e.reg.B=e.reg.RL(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","B"]}}},i[r("0021")]={mnemonic:"RL C",cycle:8,proc:function(){e.reg.C=e.reg.RL(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","C"]}}},i[r("0022")]={mnemonic:"RL D",cycle:8,proc:function(){e.reg.D=e.reg.RL(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","D"]}}},i[r("0023")]={mnemonic:"RL E",cycle:8,proc:function(){e.reg.E=e.reg.RL(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","E"]}}},i[r("0024")]={mnemonic:"RL H",cycle:8,proc:function(){e.reg.H=e.reg.RL(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","H"]}}},i[r("0025")]={mnemonic:"RL L",cycle:8,proc:function(){e.reg.L=e.reg.RL(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","L"]}}},i[r("0026")]={mnemonic:"RL (HL)",cycle:15,proc:function(){var t=e.reg.getHL();e.memory.poke(t,e.reg.RL(e.memory.peek(t)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","(HL)"]}}},i[r("0027")]={mnemonic:"RL A",cycle:8,proc:function(){e.reg.A=e.reg.RL(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RL","A"]}}},s[r("0026")]={mnemonic:"RL (IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,e.reg.RL(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RL","(IX+"+e.peek(t+2)+")"]}}},a[r("0026")]={mnemonic:"RL (IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,e.reg.RL(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RL","(IY+"+e.peek(t+2)+")"]}}},i[r("0010")]={mnemonic:"RRC B",cycle:4,proc:function(){e.reg.B=e.reg.RRC(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","B"]}}},i[r("0011")]={mnemonic:"RRC C",cycle:4,proc:function(){e.reg.C=e.reg.RRC(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","C"]}}},i[r("0012")]={mnemonic:"RRC D",cycle:4,proc:function(){e.reg.D=e.reg.RRC(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","D"]}}},i[r("0013")]={mnemonic:"RRC E",cycle:4,proc:function(){e.reg.E=e.reg.RRC(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","E"]}}},i[r("0014")]={mnemonic:"RRC H",cycle:4,proc:function(){e.reg.H=e.reg.RRC(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","H"]}}},i[r("0015")]={mnemonic:"RRC L",cycle:4,proc:function(){e.reg.L=e.reg.RRC(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","L"]}}},i[r("0017")]={mnemonic:"RRC A",cycle:4,proc:function(){e.reg.A=e.reg.RRC(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","A"]}}},i[r("0016")]={mnemonic:"RRC (HL)",cycle:15,proc:function(){var t=e.reg.getHL();e.memory.poke(t,e.reg.RRC(e.memory.peek(t)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRC","(HL)"]}}},s[r("0016")]={mnemonic:"RRC (IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,e.reg.RRC(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RRC","(IX+"+e.peek(t+2)+")"]}}},a[r("0016")]={mnemonic:"RRC (IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,e.reg.RRC(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RRC","(IY+"+e.peek(t+2)+")"]}}},i[r("0030")]={mnemonic:"RR B",cycle:8,proc:function(){e.reg.B=e.reg.RR(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","B"]}}},i[r("0031")]={mnemonic:"RR C",cycle:8,proc:function(){e.reg.C=e.reg.RR(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","C"]}}},i[r("0032")]={mnemonic:"RR D",cycle:8,proc:function(){e.reg.D=e.reg.RR(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","D"]}}},i[r("0033")]={mnemonic:"RR E",cycle:8,proc:function(){e.reg.E=e.reg.RR(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","E"]}}},i[r("0034")]={mnemonic:"RR H",cycle:8,proc:function(){e.reg.H=e.reg.RR(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","H"]}}},i[r("0035")]={mnemonic:"RR L",cycle:8,proc:function(){e.reg.L=e.reg.RR(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","L"]}}},i[r("0036")]={mnemonic:"RR (HL)",cycle:15,proc:function(){var t=e.reg.getHL();e.memory.poke(t,e.reg.RR(e.memory.peek(t)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","(HL)"]}}},i[r("0037")]={mnemonic:"RR A",cycle:8,proc:function(){e.reg.A=e.reg.RR(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RR","A"]}}},s[r("0036")]={mnemonic:"RR (IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,e.reg.RR(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RR","(IX+"+e.peek(t+2)+")"]}}},a[r("0036")]={mnemonic:"RR (IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,e.reg.RR(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["RR","(IY+"+e.peek(t+2)+")"]}}},i[r("0040")]={mnemonic:"SLA B",cycle:8,proc:function(){e.reg.B=e.reg.SLA(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","B"]}}},i[r("0041")]={mnemonic:"SLA C",cycle:8,proc:function(){e.reg.C=e.reg.SLA(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","C"]}}},i[r("0042")]={mnemonic:"SLA D",cycle:8,proc:function(){e.reg.D=e.reg.SLA(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","D"]}}},i[r("0043")]={mnemonic:"SLA E",cycle:8,proc:function(){e.reg.E=e.reg.SLA(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","E"]}}},i[r("0044")]={mnemonic:"SLA H",cycle:8,proc:function(){e.reg.H=e.reg.SLA(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","H"]}}},i[r("0045")]={mnemonic:"SLA L",cycle:8,proc:function(){e.reg.L=e.reg.SLA(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","L"]}}},i[r("0047")]={mnemonic:"SLA A",cycle:8,proc:function(){e.reg.A=e.reg.SLA(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","A"]}}},i[r("0046")]={mnemonic:"SLA (HL)",cycle:15,proc:function(){var t=e.reg.getHL();e.memory.poke(t,e.reg.SLA(e.memory.peek(t)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SLA","(HL)"]}}},s[r("0046")]={mnemonic:"SLA (IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,e.reg.SLA(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["SLA","(IX+"+e.peek(t+2)+")"]}}},a[r("0046")]={mnemonic:"SLA (IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,e.reg.SLA(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["SLA","(IY+"+e.peek(t+2)+")"]}}},i[r("0050")]={mnemonic:"SRA B",cycle:8,proc:function(){e.reg.B=e.reg.SRA(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","B"]}}},i[r("0051")]={mnemonic:"SRA C",cycle:8,proc:function(){e.reg.C=e.reg.SRA(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","C"]}}},i[r("0052")]={mnemonic:"SRA D",cycle:8,proc:function(){e.reg.D=e.reg.SRA(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","D"]}}},i[r("0053")]={mnemonic:"SRA E",cycle:8,proc:function(){e.reg.E=e.reg.SRA(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","E"]}}},i[r("0054")]={mnemonic:"SRA H",cycle:8,proc:function(){e.reg.H=e.reg.SRA(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","H"]}}},i[r("0055")]={mnemonic:"SRA L",cycle:8,proc:function(){e.reg.L=e.reg.SRA(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","L"]}}},i[r("0057")]={mnemonic:"SRA A",cycle:8,proc:function(){e.reg.A=e.reg.SRA(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","A"]}}},i[r("0056")]={mnemonic:"SRA (HL)",cycle:15,proc:function(){var t=e.reg.getHL();e.memory.poke(t,e.reg.SRA(e.memory.peek(t)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRA","(HL)"]}}},s[r("0056")]={mnemonic:"SRA (IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,e.reg.SRA(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["SRA","(IX+"+e.peek(t+2)+")"]}}},a[r("0056")]={mnemonic:"SRA (IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,e.reg.SRA(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["SRA","(IY+"+e.peek(t+2)+")"]}}},i[r("0070")]={mnemonic:"SRL B",cycle:8,proc:function(){e.reg.B=e.reg.SRL(e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","B"]}}},i[r("0071")]={mnemonic:"SRL C",cycle:8,proc:function(){e.reg.C=e.reg.SRL(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","C"]}}},i[r("0072")]={mnemonic:"SRL D",cycle:8,proc:function(){e.reg.D=e.reg.SRL(e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","D"]}}},i[r("0073")]={mnemonic:"SRL E",cycle:8,proc:function(){e.reg.E=e.reg.SRL(e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","E"]}}},i[r("0074")]={mnemonic:"SRL H",cycle:8,proc:function(){e.reg.H=e.reg.SRL(e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","H"]}}},i[r("0075")]={mnemonic:"SRL L",cycle:8,proc:function(){e.reg.L=e.reg.SRL(e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","L"]}}},i[r("0077")]={mnemonic:"SRL A",cycle:8,proc:function(){e.reg.A=e.reg.SRL(e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","A"]}}},i[r("0076")]={mnemonic:"SRL (HL)",cycle:15,proc:function(){var t=e.reg.getHL();e.memory.poke(t,e.reg.SRL(e.memory.peek(t)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["SRL","(HL)"]}}},s[r("0076")]={mnemonic:"SRL (IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,e.reg.SRL(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["SRL","(IX+"+e.peek(t+2)+")"]}}},a[r("0076")]={mnemonic:"SRL (IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,e.reg.SRL(e.memory.peek(n)))},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1),e.peek(t+2),e.peek(t+3)],mnemonic:["SRL","(IY+"+e.peek(t+2)+")"]}}},u[r("0157")]={mnemonic:"RLD",cycle:18,proc:function(){var t=e.reg.getHL(),n=e.memory.peek(t),r=240&e.reg.A,i=15&e.reg.A,o=n>>4&15,c=n>>0&15;e.reg.A=r|o,n=c<<4|i,e.memory.poke(t,n)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RLD"]}}},u[r("0147")]={mnemonic:"RRD",cycle:18,proc:function(){var t=e.reg.getHL(),n=e.memory.peek(t),r=240&e.reg.A,i=15&e.reg.A,o=n>>4&15,c=n>>0&15;e.reg.A=r|c,n=i<<4|o,e.memory.poke(t,n)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RRD"]}}};var v,b,A=["B","C","D","E","H","L","(HL)","A"];for(v=0;v<A.length;v++)for(b=0;b<8;b++)i[r("0100")|b<<3|v]={mnemonic:"BIT "+b+","+A[v],cycle:6!=v?8:12,proc:function(t,n){return 6!=n?function(){0!=(e.reg[A[n]]&1<<t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()}:function(){var n=e.reg.getHL();0!=(e.memory.peek(n)&1<<t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()}}(b,v),disasm:function(e,t){return function(n,r){return{code:[n.peek(r),n.peek(r+1)],mnemonic:["BIT",e,t]}}}(b,A[v])};var L=function(t,n,r,i){var o=e.memory.peek(n+2);return{code:[e.memory.peek(n),e.memory.peek(n+1),o,e.memory.peek(n+3)],mnemonic:["BIT",""+r,"("+i+"+"+o.HEX(2)+"H)"]}};for(s[r("0106")]={mnemonic:"BIT 0,(IX+d)",cycle:20,proc:function(t){1&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,0,"IX")}},s[r("0116")]={mnemonic:"BIT 1,(IX+d)",cycle:20,proc:function(t){2&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,1,"IX")}},s[r("0126")]={mnemonic:"BIT 2,(IX+d)",cycle:20,proc:function(t){4&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,2,"IX")}},s[r("0136")]={mnemonic:"BIT 3,(IX+d)",cycle:20,proc:function(t){8&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,3,"IX")}},s[r("0146")]={mnemonic:"BIT 4,(IX+d)",cycle:20,proc:function(t){16&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,4,"IX")}},s[r("0156")]={mnemonic:"BIT 5,(IX+d)",cycle:20,proc:function(t){32&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,5,"IX")}},s[r("0166")]={mnemonic:"BIT 6,(IX+d)",cycle:20,proc:function(t){64&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,6,"IX")}},s[r("0176")]={mnemonic:"BIT 7,(IX+d)",cycle:20,proc:function(t){128&e.memory.peek(e.reg.IX+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,7,"IX")}},a[r("0106")]={mnemonic:"BIT 0,(IY+d)",cycle:20,proc:function(t){1&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,0,"IY")}},a[r("0116")]={mnemonic:"BIT 1,(IY+d)",cycle:20,proc:function(t){2&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,1,"IY")}},a[r("0126")]={mnemonic:"BIT 2,(IY+d)",cycle:20,proc:function(t){4&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,2,"IY")}},a[r("0136")]={mnemonic:"BIT 3,(IY+d)",cycle:20,proc:function(t){8&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,3,"IY")}},a[r("0146")]={mnemonic:"BIT 4,(IY+d)",cycle:20,proc:function(t){16&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,4,"IY")}},a[r("0156")]={mnemonic:"BIT 5,(IY+d)",cycle:20,proc:function(t){32&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,5,"IY")}},a[r("0166")]={mnemonic:"BIT 6,(IY+d)",cycle:20,proc:function(t){64&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,6,"IY")}},a[r("0176")]={mnemonic:"BIT 7,(IY+d)",cycle:20,proc:function(t){128&e.memory.peek(e.reg.IY+t)?e.reg.clearFlagZ():e.reg.setFlagZ(),e.reg.setFlagH(),e.reg.clearFlagN()},disasm:function(e,t){return L(0,t,7,"IY")}},v=0;v<A.length;v++)for(b=0;b<8;b++)i[r("0300")|b<<3|v]={mnemonic:"SET "+b+","+A[v],cycle:6!=v?4:15,proc:function(t,n){return 6!=n?function(){e.reg[A[n]]|=1<<t}:function(){var n=e.reg.getHL();e.memory.poke(n,e.memory.peek(n)|1<<t)}}(b,v),disasm:function(e,t){return function(n,r){return{code:[n.peek(r),n.peek(r+1)],mnemonic:["SET",e,t]}}}(b,A[v])};var D=function(t,n,r,i){var o=e.memory.peek(n+2);return{code:[e.memory.peek(n+0),e.memory.peek(n+1),o,e.memory.peek(n+3)],mnemonic:["SET",""+r,"("+i+"+"+o.HEX(2)+"H)"]}};s[r("0306")]={mnemonic:"SET 0,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,1|e.memory.peek(n))},disasm:function(e,t){return D(0,t,0,"IX")}},s[r("0316")]={mnemonic:"SET 1,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,2|e.memory.peek(n))},disasm:function(e,t){return D(0,t,1,"IX")}},s[r("0326")]={mnemonic:"SET 2,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,4|e.memory.peek(n))},disasm:function(e,t){return D(0,t,2,"IX")}},s[r("0336")]={mnemonic:"SET 3,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,8|e.memory.peek(n))},disasm:function(e,t){return D(0,t,3,"IX")}},s[r("0346")]={mnemonic:"SET 4,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,16|e.memory.peek(n))},disasm:function(e,t){return D(0,t,4,"IX")}},s[r("0356")]={mnemonic:"SET 5,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,32|e.memory.peek(n))},disasm:function(e,t){return D(0,t,5,"IX")}},s[r("0366")]={mnemonic:"SET 6,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,64|e.memory.peek(n))},disasm:function(e,t){return D(0,t,6,"IX")}},s[r("0376")]={mnemonic:"SET 7,(IX+d)",cycle:23,proc:function(t){var n=e.reg.IX+t;e.memory.poke(n,128|e.memory.peek(n))},disasm:function(e,t){return D(0,t,7,"IX")}},a[r("0306")]={mnemonic:"SET 0,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,1|e.memory.peek(n))},disasm:function(e,t){return D(0,t,0,"IY")}},a[r("0316")]={mnemonic:"SET 1,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,2|e.memory.peek(n))},disasm:function(e,t){return D(0,t,1,"IY")}},a[r("0326")]={mnemonic:"SET 2,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,4|e.memory.peek(n))},disasm:function(e,t){return D(0,t,2,"IY")}},a[r("0336")]={mnemonic:"SET 3,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,8|e.memory.peek(n))},disasm:function(e,t){return D(0,t,3,"IY")}},a[r("0346")]={mnemonic:"SET 4,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,16|e.memory.peek(n))},disasm:function(e,t){return D(0,t,4,"IY")}},a[r("0356")]={mnemonic:"SET 5,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,32|e.memory.peek(n))},disasm:function(e,t){return D(0,t,5,"IY")}},a[r("0366")]={mnemonic:"SET 6,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,64|e.memory.peek(n))},disasm:function(e,t){return D(0,t,6,"IY")}},a[r("0376")]={mnemonic:"SET 7,(IY+d)",cycle:23,proc:function(t){var n=e.reg.IY+t;e.memory.poke(n,128|e.memory.peek(n))},disasm:function(e,t){return D(0,t,7,"IY")}};var I=function(t,n){var r=~(1<<t);return function(){e.reg[n]&=r}},E=function(e,t){var n="BCDEHL A".indexOf(t),i=e<<3;return function(){return{code:[203,r("0200")|i|n],mnemonic:["RES",e,t]}}},R=function(t){return function(t){return function(){var n=e.reg.getHL(),r=e.memory.peek(n)&t;e.memory.poke(n,r)}}(255&~(1<<t))},w=function(e){return function(t){return function(){return{code:[203,r("0200")|t|6],mnemonic:["RES",e,"(HL)"]}}}(e<<3)},H=function(t,n){return function(t){return function(r){var i=e.reg[n]+r,o=e.memory.peek(i)&t;e.memory.poke(i,o)}}(255&~(1<<t))},T=function(e,t){return function(n,r){return function(n,i){var o=n.peek(i+2),c=n.peek(i+3);return{code:[r,203,o,c],mnemonic:["RES",e,"("+t+"+"+o.HEX(2)+"H)"]}}}(0,{IX:221,IY:253}[t])};i[r("0200")]={mnemonic:"RES 0,B",cycle:8,proc:I(0,"B"),disasm:E(0,"B")},i[r("0210")]={mnemonic:"RES 1,B",cycle:8,proc:I(1,"B"),disasm:E(1,"B")},i[r("0220")]={mnemonic:"RES 2,B",cycle:8,proc:I(2,"B"),disasm:E(2,"B")},i[r("0230")]={mnemonic:"RES 3,B",cycle:8,proc:I(3,"B"),disasm:E(3,"B")},i[r("0240")]={mnemonic:"RES 4,B",cycle:8,proc:I(4,"B"),disasm:E(4,"B")},i[r("0250")]={mnemonic:"RES 5,B",cycle:8,proc:I(5,"B"),disasm:E(5,"B")},i[r("0260")]={mnemonic:"RES 6,B",cycle:8,proc:I(6,"B"),disasm:E(6,"B")},i[r("0270")]={mnemonic:"RES 7,B",cycle:8,proc:I(7,"B"),disasm:E(7,"B")},i[r("0201")]={mnemonic:"RES 0,C",cycle:8,proc:I(0,"C"),disasm:E(0,"C")},i[r("0211")]={mnemonic:"RES 1,C",cycle:8,proc:I(1,"C"),disasm:E(1,"C")},i[r("0221")]={mnemonic:"RES 2,C",cycle:8,proc:I(2,"C"),disasm:E(2,"C")},i[r("0231")]={mnemonic:"RES 3,C",cycle:8,proc:I(3,"C"),disasm:E(3,"C")},i[r("0241")]={mnemonic:"RES 4,C",cycle:8,proc:I(4,"C"),disasm:E(4,"C")},i[r("0251")]={mnemonic:"RES 5,C",cycle:8,proc:I(5,"C"),disasm:E(5,"C")},i[r("0261")]={mnemonic:"RES 6,C",cycle:8,proc:I(6,"C"),disasm:E(6,"C")},i[r("0271")]={mnemonic:"RES 7,C",cycle:8,proc:I(7,"C"),disasm:E(7,"C")},i[r("0202")]={mnemonic:"RES 0,D",cycle:8,proc:I(0,"D"),disasm:E(0,"D")},i[r("0212")]={mnemonic:"RES 1,D",cycle:8,proc:I(1,"D"),disasm:E(1,"D")},i[r("0222")]={mnemonic:"RES 2,D",cycle:8,proc:I(2,"D"),disasm:E(2,"D")},i[r("0232")]={mnemonic:"RES 3,D",cycle:8,proc:I(3,"D"),disasm:E(3,"D")},i[r("0242")]={mnemonic:"RES 4,D",cycle:8,proc:I(4,"D"),disasm:E(4,"D")},i[r("0252")]={mnemonic:"RES 5,D",cycle:8,proc:I(5,"D"),disasm:E(5,"D")},i[r("0262")]={mnemonic:"RES 6,D",cycle:8,proc:I(6,"D"),disasm:E(6,"D")},i[r("0272")]={mnemonic:"RES 7,D",cycle:8,proc:I(7,"D"),disasm:E(7,"D")},i[r("0203")]={mnemonic:"RES 0,E",cycle:8,proc:I(0,"E"),disasm:E(0,"E")},i[r("0213")]={mnemonic:"RES 1,E",cycle:8,proc:I(1,"E"),disasm:E(1,"E")},i[r("0223")]={mnemonic:"RES 2,E",cycle:8,proc:I(2,"E"),disasm:E(2,"E")},i[r("0233")]={mnemonic:"RES 3,E",cycle:8,proc:I(3,"E"),disasm:E(3,"E")},i[r("0243")]={mnemonic:"RES 4,E",cycle:8,proc:I(4,"E"),disasm:E(4,"E")},i[r("0253")]={mnemonic:"RES 5,E",cycle:8,proc:I(5,"E"),disasm:E(5,"E")},i[r("0263")]={mnemonic:"RES 6,E",cycle:8,proc:I(6,"E"),disasm:E(6,"E")},i[r("0273")]={mnemonic:"RES 7,E",cycle:8,proc:I(7,"E"),disasm:E(7,"E")},i[r("0204")]={mnemonic:"RES 0,H",cycle:8,proc:I(0,"H"),disasm:E(0,"H")},i[r("0214")]={mnemonic:"RES 1,H",cycle:8,proc:I(1,"H"),disasm:E(1,"H")},i[r("0224")]={mnemonic:"RES 2,H",cycle:8,proc:I(2,"H"),disasm:E(2,"H")},i[r("0234")]={mnemonic:"RES 3,H",cycle:8,proc:I(3,"H"),disasm:E(3,"H")},i[r("0244")]={mnemonic:"RES 4,H",cycle:8,proc:I(4,"H"),disasm:E(4,"H")},i[r("0254")]={mnemonic:"RES 5,H",cycle:8,proc:I(5,"H"),disasm:E(5,"H")},i[r("0264")]={mnemonic:"RES 6,H",cycle:8,proc:I(6,"H"),disasm:E(6,"H")},i[r("0274")]={mnemonic:"RES 7,H",cycle:8,proc:I(7,"H"),disasm:E(7,"H")},i[r("0205")]={mnemonic:"RES 0,L",cycle:8,proc:I(0,"L"),disasm:E(0,"L")},i[r("0215")]={mnemonic:"RES 1,L",cycle:8,proc:I(1,"L"),disasm:E(1,"L")},i[r("0225")]={mnemonic:"RES 2,L",cycle:8,proc:I(2,"L"),disasm:E(2,"L")},i[r("0235")]={mnemonic:"RES 3,L",cycle:8,proc:I(3,"L"),disasm:E(3,"L")},i[r("0245")]={mnemonic:"RES 4,L",cycle:8,proc:I(4,"L"),disasm:E(4,"L")},i[r("0255")]={mnemonic:"RES 5,L",cycle:8,proc:I(5,"L"),disasm:E(5,"L")},i[r("0265")]={mnemonic:"RES 6,L",cycle:8,proc:I(6,"L"),disasm:E(6,"L")},i[r("0275")]={mnemonic:"RES 7,L",cycle:8,proc:I(7,"L"),disasm:E(7,"L")},i[r("0207")]={mnemonic:"RES 0,A",cycle:8,proc:I(0,"A"),disasm:E(0,"A")},i[r("0217")]={mnemonic:"RES 1,A",cycle:8,proc:I(1,"A"),disasm:E(1,"A")},i[r("0227")]={mnemonic:"RES 2,A",cycle:8,proc:I(2,"A"),disasm:E(2,"A")},i[r("0237")]={mnemonic:"RES 3,A",cycle:8,proc:I(3,"A"),disasm:E(3,"A")},i[r("0247")]={mnemonic:"RES 4,A",cycle:8,proc:I(4,"A"),disasm:E(4,"A")},i[r("0257")]={mnemonic:"RES 5,A",cycle:8,proc:I(5,"A"),disasm:E(5,"A")},i[r("0267")]={mnemonic:"RES 6,A",cycle:8,proc:I(6,"A"),disasm:E(6,"A")},i[r("0277")]={mnemonic:"RES 7,A",cycle:8,proc:I(7,"A"),disasm:E(7,"A")},i[r("0206")]={mnemonic:"RES 0,(HL)",cycle:15,proc:R(0),disasm:w(0)},i[r("0216")]={mnemonic:"RES 1,(HL)",cycle:15,proc:R(1),disasm:w(1)},i[r("0226")]={mnemonic:"RES 2,(HL)",cycle:15,proc:R(2),disasm:w(2)},i[r("0236")]={mnemonic:"RES 3,(HL)",cycle:15,proc:R(3),disasm:w(3)},i[r("0246")]={mnemonic:"RES 4,(HL)",cycle:15,proc:R(4),disasm:w(4)},i[r("0256")]={mnemonic:"RES 5,(HL)",cycle:15,proc:R(5),disasm:w(5)},i[r("0266")]={mnemonic:"RES 6,(HL)",cycle:15,proc:R(6),disasm:w(6)},i[r("0276")]={mnemonic:"RES 7,(HL)",cycle:15,proc:R(7),disasm:w(7)},s[r("0206")]={mnemonic:"RES 0,(IX+d)",cycle:23,proc:H(0,"IX"),disasm:T(0,"IX")},s[r("0216")]={mnemonic:"RES 1,(IX+d)",cycle:23,proc:H(1,"IX"),disasm:T(1,"IX")},s[r("0226")]={mnemonic:"RES 2,(IX+d)",cycle:23,proc:H(2,"IX"),disasm:T(2,"IX")},s[r("0236")]={mnemonic:"RES 3,(IX+d)",cycle:23,proc:H(3,"IX"),disasm:T(3,"IX")},s[r("0246")]={mnemonic:"RES 4,(IX+d)",cycle:23,proc:H(4,"IX"),disasm:T(4,"IX")},s[r("0256")]={mnemonic:"RES 5,(IX+d)",cycle:23,proc:H(5,"IX"),disasm:T(5,"IX")},s[r("0266")]={mnemonic:"RES 6,(IX+d)",cycle:23,proc:H(6,"IX"),disasm:T(6,"IX")},s[r("0276")]={mnemonic:"RES 7,(IX+d)",cycle:23,proc:H(7,"IX"),disasm:T(7,"IX")},a[r("0206")]={mnemonic:"RES 0,(IY+d)",cycle:23,proc:H(0,"IY"),disasm:T(0,"IY")},a[r("0216")]={mnemonic:"RES 1,(IY+d)",cycle:23,proc:H(1,"IY"),disasm:T(1,"IY")},a[r("0226")]={mnemonic:"RES 2,(IY+d)",cycle:23,proc:H(2,"IY"),disasm:T(2,"IY")},a[r("0236")]={mnemonic:"RES 3,(IY+d)",cycle:23,proc:H(3,"IY"),disasm:T(3,"IY")},a[r("0246")]={mnemonic:"RES 4,(IY+d)",cycle:23,proc:H(4,"IY"),disasm:T(4,"IY")},a[r("0256")]={mnemonic:"RES 5,(IY+d)",cycle:23,proc:H(5,"IY"),disasm:T(5,"IY")},a[r("0266")]={mnemonic:"RES 6,(IY+d)",cycle:23,proc:H(6,"IY"),disasm:T(6,"IY")},a[r("0276")]={mnemonic:"RES 7,(IY+d)",cycle:23,proc:H(7,"IY"),disasm:T(7,"IY")};var S=function(e,t){var n,i,o,s=e.peek(t),a=[s],u=[],p=null;switch(s&r("0300")){case r("0000"):switch(u.push("JR"),n=c.getSignedByte(e.peek(t+1)),p=t+n+2,a.push(255&n),n=n+2>=0?"+"+(n+2):""+(n+2),s&r("0070")){case r("0030"):break;case r("0070"):u.push("C");break;case r("0050"):u.push("Z");break;case r("0060"):u.push("NC");break;case r("0040"):u.push("NZ");break;default:throw"UNKNOWN OPCODE"}u.push(p.HEX(4)+"H;("+n+")");break;case r("0300"):switch(u.push("JP"),s&r("0003")){case 1:u.push("(HL)");break;case 2:switch(i=e.peek(t+1),o=e.peek(t+2),p=c.pair(o,i),a.push(i),a.push(o),s&r("0070")){case r("0000"):u.push("NZ");break;case r("0010"):u.push("Z");break;case r("0020"):u.push("NC");break;case r("0030"):u.push("C");break;case r("0040"):u.push("PO");break;case r("0050"):u.push("PE");break;case r("0060"):u.push("P");break;case r("0070"):u.push("M")}u.push(o.HEX(2)+i.HEX(2)+"H");break;case 3:i=e.peek(t+1),o=e.peek(t+2),p=c.pair(o,i),a.push(i),a.push(o),u.push(o.HEX(2)+i.HEX(2)+"H")}break;default:throw"UNKNOWN OPCODE"}return{code:a,mnemonic:u,ref_addr_to:p}};this.opecodeTable[r("0303")]={mnemonic:"JP nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.PC=t},disasm:S},this.opecodeTable[r("0302")]={mnemonic:"JP NZ,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagZ()||(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0312")]={mnemonic:"JP Z,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagZ()&&(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0322")]={mnemonic:"JP NC,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagC()||(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0332")]={mnemonic:"JP C,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagC()&&(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0342")]={mnemonic:"JP PO,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagP()||(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0352")]={mnemonic:"JP PE,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagP()&&(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0362")]={mnemonic:"JP P,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagS()||(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0372")]={mnemonic:"JP M,nn",cycle:10,proc:function(){var t=e.fetchPair();e.reg.flagS()&&(e.reg.PC=t)},disasm:S},this.opecodeTable[r("0030")]={mnemonic:"JR e",cycle:12,proc:function(){var t=e.fetch();e.reg.jumpRel(t)},disasm:S},this.opecodeTable[r("0070")]={mnemonic:"JR C,e",cycle:12,proc:function(){var t=e.fetch();e.reg.flagC()&&e.reg.jumpRel(t)},disasm:S},this.opecodeTable[r("0050")]={mnemonic:"JR Z,e",cycle:12,proc:function(){var t=e.fetch();e.reg.flagZ()&&e.reg.jumpRel(t)},disasm:S},this.opecodeTable[r("0060")]={mnemonic:"JR NC,e",cycle:12,proc:function(){var t=e.fetch();e.reg.flagC()||e.reg.jumpRel(t)},disasm:S},this.opecodeTable[r("0040")]={mnemonic:"JR NZ,e",proc:function(){var t=e.fetch();e.reg.flagZ()||e.reg.jumpRel(t)},cycle:12,disasm:S},this.opecodeTable[r("0351")]={mnemonic:"JP (HL)",cycle:4,proc:function(){e.reg.PC=e.reg.getHL()},disasm:S},t[r("0351")]={mnemonic:"JP (IX)",cycle:8,proc:function(){e.reg.PC=e.reg.IX},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["JP","(IX)"]}}},n[r("0351")]={mnemonic:"JP (IY)",cycle:8,proc:function(){e.reg.PC=e.reg.IY},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["JP","(IY)"]}}},t[r("0104")]={mnemonic:"LD B,IXH",proc:function(){e.reg.B=e.reg.IX>>8&255},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","B","IXH"]}}},t[r("0115")]={mnemonic:"LD C,IXL",proc:function(){e.reg.C=255&e.reg.IX},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","C","IXL"]}}},t[r("0140")]={mnemonic:"LD IXH,B",proc:function(){e.reg.IX=65280&e.reg.B<<8|255&e.reg.IX},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","IXH","B"]}}},t[r("0147")]={mnemonic:"LD IXH,A",proc:function(){e.reg.IX=65280&e.reg.A<<8|255&e.reg.IX},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","IXH","A"]}}},t[r("0151")]={mnemonic:"LD IXL,C",proc:function(){e.reg.IX=65280&e.reg.IX|255&e.reg.C},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","IXL","C"]}}},t[r("0157")]={mnemonic:"LD IXL,A",proc:function(){e.reg.IX=65280&e.reg.IX|255&e.reg.A},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","IXL","A"]}}},t[r("0175")]={mnemonic:"LD A,IXL",proc:function(){e.reg.A=255&e.reg.IX},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["LD","A","IXL"]}}},t[r("0204")]={mnemonic:"ADD A,IXH",proc:function(){e.reg.addAcc(e.reg.IX>>8&255)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["ADD","A","IXH"]}}},t[r("0205")]={mnemonic:"ADD A,IXL",proc:function(){e.reg.addAcc(255&e.reg.IX)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["ADD","A","IXL"]}}},t[r("0275")]={mnemonic:"CP IXL",proc:function(){e.reg.compareAcc(255&e.reg.IX)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["CP","IXL"]}}},this.opecodeTable[r("0020")]={mnemonic:"DJNZ",cycle:13,proc:function(){var t=e.fetch();e.reg.decrement("B"),e.reg.B&&e.reg.jumpRel(t)},disasm:function(e,t){var n=c.getSignedByte(e.peek(t+1)),r=t+n+2;return{code:[e.peek(t),e.peek(t+1)],mnemonic:["DJNZ",r.HEX(4)+"H;("+(n+2>=0?"+":"")+(n+2)+")"],ref_addr_to:r}}},this.opecodeTable[r("0315")]={mnemonic:"CALL nn",cycle:17,proc:function(){var t=e.fetchPair();e.pushPair(e.reg.PC),e.reg.PC=t},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0304")]={mnemonic:"CALL NZ,nn",cycle:"NZ→17,Z→10",proc:function(){var t=e.fetchPair();return e.reg.flagZ()?10:(e.pushPair(e.reg.PC),e.reg.PC=t,17)},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","NZ",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0314")]={mnemonic:"CALL Z,nn",cycle:"Z→17,NZ→10",proc:function(){var t=e.fetchPair();return e.reg.flagZ()?(e.pushPair(e.reg.PC),e.reg.PC=t,17):10},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","Z",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0324")]={mnemonic:"CALL NC,nn",cycle:"NC→17, C→10",proc:function(){var t=e.fetchPair();return e.reg.flagC()?10:(e.pushPair(e.reg.PC),e.reg.PC=t,17)},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","NC",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0334")]={mnemonic:"CALL C,nn",cycle:"C→17, NC→10",proc:function(){var t=e.fetchPair();return e.reg.flagC()?(e.pushPair(e.reg.PC),e.reg.PC=t,17):10},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","C",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0344")]={mnemonic:"CALL PO,nn",cycle:"Parity Odd→17, Even→10",proc:function(){var t=e.fetchPair();return e.reg.flagP()?10:(e.pushPair(e.reg.PC),e.reg.PC=t,17)},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","PO",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0354")]={mnemonic:"CALL PE,nn",cycle:"Parity Even→17, Odd→10",proc:function(){var t=e.fetchPair();return e.reg.flagP()?(e.pushPair(e.reg.PC),e.reg.PC=t,17):10},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","PE",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0364")]={mnemonic:"CALL P,nn",cycle:"P→17, M→10",proc:function(){var t=e.fetchPair();return e.reg.flagS()?10:(e.pushPair(e.reg.PC),e.reg.PC=t,17)},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","P",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0374")]={mnemonic:"CALL M,nn",cycle:"M→17, P→10",proc:function(){var t=e.fetchPair();return e.reg.flagS()?(e.pushPair(e.reg.PC),e.reg.PC=t,17):10},disasm:function(e,t){var n=e.peek(t+1),r=e.peek(t+2),i=c.pair(r,n);return{code:[e.peek(t),n,r],mnemonic:["CALL","M",i.HEX(4)+"H"],ref_addr_to:i}}},this.opecodeTable[r("0311")]={mnemonic:"RET",cycle:10,proc:function(){e.reg.PC=e.popPair()},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET"]}}},this.opecodeTable[r("0300")]={mnemonic:"RET NZ",cycle:"NZ→11, Z→5",proc:function(){return e.reg.flagZ()?5:(e.reg.PC=e.popPair(),11)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","NZ"]}}},this.opecodeTable[r("0310")]={mnemonic:"RET Z",cycle:"Z→5, NZ→11",proc:function(){return e.reg.flagZ()?(e.reg.PC=e.popPair(),11):5},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","Z"]}}},this.opecodeTable[r("0320")]={mnemonic:"RET NC",cycle:"NC→11,C→5",proc:function(){return e.reg.flagC()?5:(e.reg.PC=e.popPair(),11)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","NC"]}}},this.opecodeTable[r("0330")]={mnemonic:"RET C",cycle:"C→11,NC→5",proc:function(){return e.reg.flagC()?(e.reg.PC=e.popPair(),11):5},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","C"]}}},this.opecodeTable[r("0340")]={mnemonic:"RET PO",cycle:"Parity Odd→11, Parity Even→5",proc:function(){return e.reg.flagP()?5:(e.reg.PC=e.popPair(),11)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","PO"]}}},this.opecodeTable[r("0350")]={mnemonic:"RET PE",cycle:"Parity Even→11, Parity Odd→5",proc:function(){return e.reg.flagP()?(e.reg.PC=e.popPair(),11):5},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","PE"]}}},this.opecodeTable[r("0360")]={mnemonic:"RET P",cycle:"P→11, M→5",proc:function(){return e.reg.flagS()?5:(e.reg.PC=e.popPair(),11)},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","P"]}}},this.opecodeTable[r("0370")]={mnemonic:"RET M",cycle:"M→11, P→5",proc:function(){return e.reg.flagS()?(e.reg.PC=e.popPair(),11):5},disasm:function(e,t){return{code:[e.peek(t)],mnemonic:["RET","M"]}}},u[r("0115")]={mnemonic:"RETI",cycle:15,proc:function(){e.reg.PC=e.popPair(),e.IFF1=e.IFF2},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RETI"]}}},u[r("0105")]={mnemonic:"RETN",cycle:14,proc:function(){e.reg.PC=e.popPair(),e.IFF1=e.IFF2},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["RETN"]}}};for(var P=[0,8,16,24,32,40,48,56],_=0;_<P.length;_++)this.opecodeTable[r("0307")|_<<3]={mnemonic:"RST "+P[_].HEX(2)+"H",proc:function(t){return function(){e.pushPair(e.reg.PC),e.reg.PC=t}}(P[_]),cycle:12,disasm:function(e){return function(t,n){return{code:[t.peek(n)],mnemonic:["RST",e.HEX(2)+"H"]}}}(P[_])};this.opecodeTable[r("0333")]={mnemonic:"IN A,(n)",cycle:11,proc:function(){e.reg.A=e.readIoPort(e.fetch())},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","A","("+e.peek(t+1)+")"]}}},u[r("0100")]={mnemonic:"IN B,(C)",cycle:12,proc:function(){e.reg.B=e.readIoPort(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","B","(C)"]}}},u[r("0110")]={mnemonic:"IN C,(C)",cycle:12,proc:function(){e.reg.C=e.readIoPort(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","C","(C)"]}}},u[r("0120")]={mnemonic:"IN D,(C)",cycle:12,proc:function(){e.reg.D=e.readIoPort(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","D","(C)"]}}},u[r("0130")]={mnemonic:"IN E,(C)",cycle:12,proc:function(){e.reg.E=e.readIoPort(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","E","(C)"]}}},u[r("0140")]={mnemonic:"IN H,(C)",cycle:12,proc:function(){e.reg.H=e.readIoPort(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","H","(C)"]}}},u[r("0150")]={mnemonic:"IN L,(C)",cycle:12,proc:function(){e.reg.L=e.readIoPort(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","L","(C)"]}}},u[r("0170")]={mnemonic:"IN A,(C)",cycle:12,proc:function(){e.reg.A=e.readIoPort(e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IN","A","(C)"]}}},u[r("0242")]={mnemonic:"INI",cycle:16,proc:function(){e.reg.B=e.reg.B-1&255,e.memory.poke(e.reg.getHL(),e.readIoPort(e.reg.C)),e.postINI()},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["INI"]}}},u[r("0262")]={mnemonic:"INIR",cycle:"21 x reg B",proc:function(){return e.reg.B=e.reg.B-1&255,e.memory.poke(e.reg.getHL(),e.readIoPort(e.reg.C)),e.postINI(),0!=e.reg.B&&(e.reg.PC-=2),21},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["INIR"]}}},u[r("0252")]={mnemonic:"IND",cycle:16,proc:function(){e.reg.B=e.reg.B-1&255,e.memory.poke(e.reg.getHL(),e.readIoPort(e.reg.C)),e.postIND()},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["IND"]}}},u[r("0272")]={mnemonic:"INDR",cycle:"21 x reg B",proc:function(){return e.reg.B=e.reg.B-1&255,e.memory.poke(e.reg.getHL(),e.readIoPort(e.reg.C)),e.postIND(),0!=e.reg.B&&(e.reg.PC-=2),21},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["INDR"]}}},this.opecodeTable[r("0323")]={mnemonic:"OUT (n),A",cycle:11,proc:function(){e.writeIoPort(e.fetch(),e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","("+e.peek(t+1)+")","A"]}}},u[r("0101")]={mnemonic:"OUT (C),B",cycle:12,proc:function(){e.writeIoPort(e.reg.C,e.reg.B)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","(C)","B"]}}},u[r("0111")]={mnemonic:"OUT (C),C",cycle:12,proc:function(){e.writeIoPort(e.reg.C,e.reg.C)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","(C)","C"]}}},u[r("0121")]={mnemonic:"OUT (C),D",cycle:12,proc:function(){e.writeIoPort(e.reg.C,e.reg.D)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","(C)","D"]}}},u[r("0131")]={mnemonic:"OUT (C),E",cycle:12,proc:function(){e.writeIoPort(e.reg.C,e.reg.E)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","(C)","E"]}}},u[r("0141")]={mnemonic:"OUT (C),H",cycle:12,proc:function(){e.writeIoPort(e.reg.C,e.reg.H)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","(C)","H"]}}},u[r("0151")]={mnemonic:"OUT (C),L",cycle:12,proc:function(){e.writeIoPort(e.reg.C,e.reg.L)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","(C)","L"]}}},u[r("0171")]={mnemonic:"OUT (C),A",cycle:12,proc:function(){e.writeIoPort(e.reg.C,e.reg.A)},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUT","(C)","A"]}}},u[r("0243")]={mnemonic:"OUTI",cycle:16,proc:function(){e.reg.B=e.reg.B-1&255,e.writeIoPort(e.reg.C,e.memory.peek(e.reg.getHL())),e.postOUTI()},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUTI"]}}},u[r("0263")]={mnemonic:"OTIR",cycle:"21 x reg B",proc:function(){return e.reg.B=e.reg.B-1&255,e.writeIoPort(e.reg.C,e.memory.peek(e.reg.getHL())),e.postOUTI(),0!=e.reg.B&&(e.reg.PC-=2),21},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OTIR"]}}},u[r("0253")]={mnemonic:"OUTD",cycle:16,proc:function(){e.reg.B=e.reg.B-1&255,e.writeIoPort(e.reg.C,e.memory.peek(e.reg.getHL())),e.postOUTD()},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OUTD"]}}},u[r("0273")]={mnemonic:"OTDR",cycle:"21 x reg B",proc:function(){return e.reg.B=e.reg.B-1&255,e.writeIoPort(e.reg.C,e.memory.peek(e.reg.getHL())),e.postOUTD(),0!=e.reg.B&&(e.reg.PC-=2),21},disasm:function(e,t){return{code:[e.peek(t),e.peek(t+1)],mnemonic:["OTDR"]}}}},t.exports=a},{"../lib/oct":35,"./bin-util.js":12,"./memory-block.js":16,"./register.js":17,"./z80-line-assembler":18}],14:[function(e,t,n){!function(){var n=e("./bin-util.js"),r=function(){};r.prototype.create=function(e){e=e||{},this.onPeek=e.onPeek||function(){},this.onPoke=e.onPoke||function(){},this.size=e.size||65536,this.startAddr=e.startAddr||0},r.prototype.peekByte=function(){var e="Error: peekByte was not overrided and supported in class of this:"+JSON.stringify(this,null,"    ");throw console.error(e),new Error(e)},r.prototype.pokeByte=function(){var e="Error: pokeByte was not overrided and supported in class of this:"+JSON.stringify(this,null,"    ");throw console.error(e),new Error(e)},r.prototype.clear=function(){for(var e=0;e<this.size;e++)this.pokeByte(0)},r.prototype.peek=function(e){var t=this.peekByte(e),n=this.onPeek.call(this,e,t);return null!=n&&void 0!=n&&(t=n),t},r.prototype.poke=function(e,t){this.pokeByte(e,t),this.onPoke.call(this,e,this.peekByte(e))},r.prototype.peekPair=function(e){var t=this.peek(e+1),r=this.peek(e+0);return n.pair(t,r)},t.exports=r}()},{"./bin-util.js":12}],15:[function(e,t,n){var r=e("./imem"),i=function(e){this.create(e)};(i.prototype=new r).create=function(e){r.prototype.create.call(this,e),this.mem=new Array(this.size),this.memblk={}},i.prototype.setMemoryBlock=function(e,t){var n,r,i;if(null==t){if(e in this.memblk){for(n=this.memblk[e].size,r=this.memblk[e].startAddr,i=0;i<n;i++)this.mem[r+i]=null;delete this.memblk[e]}}else for(this.memblk[e]=t,n=this.memblk[e].size,r=this.memblk[e].startAddr,i=0;i<n;i++)this.mem[r+i]=t},i.prototype.peekByte=function(e){return 255&this.mem[e-this.startAddr&65535].peek(e)},i.prototype.pokeByte=function(e,t){this.mem[e-this.startAddr&65535].poke(e,255&t)},t.exports=i},{"./imem":14}],16:[function(e,t,n){var r=e("./imem"),i=function(e){this.create(e)};(i.prototype=new r).create=function(e){r.prototype.create.call(this,e),this.mem=new Array(this.size)},i.prototype.peekByte=function(e){return 255&this.mem[e-this.startAddr&65535]},i.prototype.pokeByte=function(e,t){this.mem[e-this.startAddr&65535]=255&t},t.exports=i},{"./imem":14}],17:[function(e,t,n){!function(){var n=e("./bin-util.js"),r=function(){this.B=0,this.C=0,this.D=0,this.E=0,this.H=0,this.L=0,this.A=0,this.F=0,this.PC=0,this.SP=0,this.IX=0,this.IY=0,this.R=0,this.I=0};!function(){var e,t=new Array(512),i=new Array(512),o=new Array(512);for(e=0;e<256;++e){var c=0;0==e&&(c|=64),128&e&&(c|=128);var s=0;1&e&&++s,2&e&&++s,4&e&&++s,8&e&&++s,16&e&&++s,32&e&&++s,64&e&&++s,128&e&&++s,t[e]=1&s?0:4,i[e]=c,o[e]=c|t[e]}for(e=0;e<256;++e)i[e+256]=1|i[e],o[e+256]=1|o[e],t[e+256]=1|t[e];r.prototype.clear=function(){this.B=0,this.C=0,this.D=0,this.E=0,this.H=0,this.L=0,this.A=0,this.F=0,this.PC=0,this.SP=0,this.IX=0,this.IY=0,this.R=0,this.I=0},r.prototype.setFrom=function(e){this.B=e.B,this.C=e.C,this.D=e.D,this.E=e.E,this.H=e.H,this.L=e.L,this.A=e.A,this.F=e.F,this.PC=e.PC,this.SP=e.SP,this.IX=e.IX,this.IY=e.IY,this.R=e.R,this.I=e.I},r.prototype.setPair=function(e,t){"SP"==e||"PC"==e||"IX"==e||"IY"==e?this[e]=t:(this[e.substring(1,2)]=n.lobyte(t),this[e.substring(0,1)]=n.hibyte(t))},r.prototype.debugDump=function(){console.info("B:"+this.B.HEX(2)+"H "+this.B+" C:"+this.C.HEX(2)+"H "+this.C+" / "+this.getBC()),console.info("D:"+this.D.HEX(2)+"H "+this.D+" E:"+this.E.HEX(2)+"H "+this.E+" / "+this.getDE()),console.info("H:"+this.H.HEX(2)+"H "+this.H+" L:"+this.L.HEX(2)+"H "+this.L+" / "+this.getHL()),console.info("A:"+this.A.HEX(2)+"H "+this.A),console.info("SZ-HPN-C"),console.info(this.F.bin(8)),console.info("PC:"+this.PC.HEX(4)+"H "+this.PC.bin(16)+"(2) "+this.PC),console.info("SP:"+this.SP.HEX(4)+"H "+this.SP.bin(16)+"(2) "+this.SP),console.info("I:"+this.I.HEX(2)+"H "+this.I.bin(8)+"(2) "+this.I+" R:"+this.R.HEX(2)+"H "+this.R.bin(8)+"(2) "+this.R)},r.prototype.getHL=function(){return n.pair(this.H,this.L)},r.prototype.getBC=function(){return n.pair(this.B,this.C)},r.prototype.getDE=function(){return n.pair(this.D,this.E)},r.prototype.getAF=function(){return n.pair(this.A,this.F)},r.prototype.setHL=function(e){this.H=n.hibyte(e),this.L=n.lobyte(e)},r.prototype.setBC=function(e){this.B=n.hibyte(e),this.C=n.lobyte(e)},r.prototype.setDE=function(e){this.D=n.hibyte(e),this.E=n.lobyte(e)},r.prototype.setAF=function(e){this.A=n.hibyte(e),this.F=n.lobyte(e)},r.prototype.testFlag=function(e){return 0!=(this.F&e)},r.prototype.flagS=function(){return this.testFlag(128)},r.prototype.flagZ=function(){return this.testFlag(64)},r.prototype.flagH=function(){return this.testFlag(16)},r.prototype.flagP=function(){return this.testFlag(4)},r.prototype.flagN=function(){return this.testFlag(2)},r.prototype.flagC=function(){return this.testFlag(1)},r.prototype.setFlag=function(e){this.F|=e},r.prototype.setFlagS=function(){this.setFlag(128)},r.prototype.setFlagZ=function(){this.setFlag(64)},r.prototype.setFlagH=function(){this.setFlag(16)},r.prototype.setFlagP=function(){this.setFlag(4)},r.prototype.setFlagN=function(){this.setFlag(2)},r.prototype.setFlagC=function(){this.setFlag(1)},r.prototype.clearFlag=function(e){this.F&=~e},r.prototype.clearFlagS=function(){this.clearFlag(128)},r.prototype.clearFlagZ=function(){this.clearFlag(64)},r.prototype.clearFlagH=function(){this.clearFlag(16)},r.prototype.clearFlagP=function(){this.clearFlag(4)},r.prototype.clearFlagN=function(){this.clearFlag(2)},r.prototype.clearFlagC=function(){this.clearFlag(1)},r.prototype.ADD_HL=function(e){this.setHL(this._ADD(this.getHL(),e))},r.prototype.ADC_HL=function(e){var t=this.getHL(),n=t+e+(1&this.F);this.F=(4096&(t^n^e))>>8|n>>16&1|(32768&n)>>8|(65535&n?0:64)|((e^t^32768)&(e^n)&32768)>>13,this.setHL(65535&n)},r.prototype.SBC_HL=function(e){var t=this.getHL(),n=t-e-(1&this.F);this.F=(4096&(t^n^e))>>8|n>>16&1|(32768&n)>>8|(65535&n?0:64)|(e&t&(e^n)&32768)>>13|2,this.setHL(65535&n)},r.prototype.ADD_IX=function(e){this.IX=this._ADD(this.IX,e)},r.prototype.ADD_IY=function(e){this.IY=this._ADD(this.IY,e)},r.prototype._ADD=function(e,t){var n=e+t;return this.F=196&this.F|(4096&(e^n^t))>>8|n>>16&1,65535&n},r.prototype.jumpRel=function(e){this.PC+=n.getSignedByte(e)},r.prototype.CPL=function(){this.A=255&(255^this.A),this.F=18},r.prototype.NEG=function(){var e=this.A;this.A=0,this.subAcc(e)},r.prototype.addAcc=function(e){var t=this.A+e;this.F=i[255&t]|(256&t)>>8|16&(this.A^t^e)|((e^this.A^128)&(e^t)&128)>>5,this.A=255&t},r.prototype.addAccWithCarry=function(e){var t=this.A+e+(1&this.F);this.F=i[255&t]|(256&t)>>8|16&(this.A^t^e)|((e^this.A^128)&(e^t)&128)>>5,this.A=255&t},r.prototype.subAcc=function(e){var t=this.A-e&511;this.F=i[255&t]|(256&t)>>8|2|16&(this.A^t^e)|((e^this.A^128)&(e^t)&128)>>5,this.A=255&t},r.prototype.subAccWithCarry=function(e){var t=this.A-e-(1&this.F)&511;this.F=i[255&t]|(256&t)>>8|2|16&(this.A^t^e)|((e^this.A^128)&(e^t)&128)>>5,this.A=255&t},r.prototype.andAcc=function(e){this.A&=255&e,this.F=16|o[this.A]},r.prototype.orAcc=function(e){this.A|=255&e,this.F=o[this.A]},r.prototype.xorAcc=function(e){this.A^=255&e,this.F=o[this.A]},r.prototype.increment=function(e){this[e]=this.getINCValue(this[e])},r.prototype.getINCValue=function(e){return e=e+1&255,this.F=1&this.F|i[e]|(128==e?4:0)|(15&e?0:16),e},r.prototype.decrement=function(e){this[e]=this.getDECValue(this[e])},r.prototype.getDECValue=function(e){return this.F=1&this.F|2|(128==e?4:0)|(15&e?0:16),e=e-1&255,this.F|=i[e],e},r.prototype.compareAcc=function(e){var t=this.A-e;this.F=i[255&t]|(256&t)>>8|2|16&(this.A^t^e)|((e^this.A)&(e^t)&128)>>5},r.prototype.CPI=function(e){var t=this.A-e;this.incHL(),this.decBC(),this.F=1&this.F|i[255&t]|16&(this.A^e^t)|(this.getBC()?4:0)|2},r.prototype.CPD=function(e){var t=this.A-e;this.decHL(),this.decBC(),this.F=1&this.F|i[255&t]|16&(this.A^e^t)|(this.getBC()?4:0)|2},r.prototype.RLCA=function(){this.A=255&(this.A<<1|(128&this.A)>>7),this.F=236&this.F|1&this.A},r.prototype.RLC=function(e){var t=e>>7;return e=255&(e<<1|t),this.F=o[e]|t,e},r.prototype.RLA=function(){var e=1&this.F;this.F=236&this.F|(128&this.A)>>7,this.A=255&(this.A<<1|e)},r.prototype.RL=function(e){var t=e>>7;return e=255&(e<<1|1&this.F),this.F=o[e]|t,e},r.prototype.RRCA=function(){this.F=236&this.F|1&this.A,this.A=this.A>>1|this.A<<7&255},r.prototype.RRC=function(e){var t=1&e;return e=e>>1|t<<7&255,this.F=o[e]|t,e},r.prototype.RRA=function(){var e=1&this.F;this.F=236&this.F|1&this.A,this.A=this.A>>1|e<<7},r.prototype.RR=function(e){var t=1&e;return e=e>>1|this.F<<7&255,this.F=o[e]|t,e},r.prototype.SLA=function(e){var t=e>>7;return e=e<<1&255,this.F=o[e]|t,e},r.prototype.SRA=function(e){var t=1&e;return e=e>>1|128&e,this.F=o[e]|t,e},r.prototype.SRL=function(e){var t=1&e;return e>>=1,this.F=o[e]|t,e},r.prototype.onReadIoPort=function(e){this.F=1&this.F|o[e]},r.prototype.postIND=function(){this.decHL(),this.F=this.B?2:66},r.prototype.postINI=function(){this.incHL(),this.F=this.B?2:66},r.prototype.postOUTD=function(){this.decHL(),this.F=this.B?2:66},r.prototype.postOUTI=function(){this.incHL(),this.F=this.B?2:66},r.prototype.LD_A_I=function(e){this.A=this.I,this.F=1&this.F|i[this.I]|e<<2},r.prototype.LD_A_R=function(e,t){this.A=127&this.R|128&t,this.F=1&this.F|i[this.A]|e<<2},r.prototype.incBC=function(){this.setBC(this.getBC()+1&65535)},r.prototype.decBC=function(){this.setBC(this.getBC()-1&65535)},r.prototype.incHL=function(){this.setHL(this.getHL()+1&65535)},r.prototype.decHL=function(){this.setHL(this.getHL()-1&65535)},r.prototype.incDE=function(){this.setDE(this.getDE()+1&65535)},r.prototype.decDE=function(){this.setDE(this.getDE()-1&65535)},r.prototype.onLDD=function(){this.decDE(),this.decHL(),this.decBC(),this.F=233&this.F|(this.getBC()?4:0)},r.prototype.onLDI=function(){this.incDE(),this.incHL(),this.decBC(),this.F=233&this.F|(this.getBC()?4:0)},r.REG_r_ID2NAME={0:"B",1:"C",2:"D",3:"E",4:"H",5:"L",7:"A"},r.CONDITION_INDEX={NZ:0,Z:1,NC:2,C:3,PO:4,PE:5,P:6,N:7},r.prototype.DAA=function(){var e=this.A;1&this.F&&(e|=256),16&this.F&&(e|=512),2&this.F&&(e|=1024);var t=65535&a[e];this.A=t>>8&255,this.F=t>>0&255};var a=[68,256,512,772,1024,1284,1540,1792,2056,2316,4112,4372,4628,4880,5140,5392,4096,4356,4612,4864,5124,5376,5632,5892,6156,6408,8240,8500,8756,9008,9268,9520,8224,8484,8740,8992,9252,9504,9760,10020,10284,10536,12340,12592,12848,13108,13360,13620,12324,12576,12832,13092,13344,13604,13860,14112,14376,14636,16400,16660,16916,17168,17428,17680,16384,16644,16900,17152,17412,17664,17920,18180,18444,18696,20500,20752,21008,21268,21520,21780,20484,20736,20992,21252,21504,21764,22020,22272,22536,22796,24628,24880,25136,25396,25648,25908,24612,24864,25120,25380,25632,25892,26148,26400,26664,26924,28720,28980,29236,29488,29748,3e4,28704,28964,29220,29472,29732,29984,30240,30500,30764,31016,-32624,-32364,-32108,-31856,-31596,-31344,-32640,-32380,-32124,-31872,-31612,-31360,-31104,-30844,-30580,-30328,-28524,-28272,-28016,-27756,-27504,-27244,-28540,-28288,-28032,-27772,-27520,-27260,-27004,-26752,-26488,-26228,85,273,529,789,1041,1301,69,257,513,773,1025,1285,1541,1793,2057,2317,4113,4373,4629,4881,5141,5393,4097,4357,4613,4865,5125,5377,5633,5893,6157,6409,8241,8501,8757,9009,9269,9521,8225,8485,8741,8993,9253,9505,9761,10021,10285,10537,12341,12593,12849,13109,13361,13621,12325,12577,12833,13093,13345,13605,13861,14113,14377,14637,16401,16661,16917,17169,17429,17681,16385,16645,16901,17153,17413,17665,17921,18181,18445,18697,20501,20753,21009,21269,21521,21781,20485,20737,20993,21253,21505,21765,22021,22273,22537,22797,24629,24881,25137,25397,25649,25909,24613,24865,25121,25381,25633,25893,26149,26401,26665,26925,28721,28981,29237,29489,29749,30001,28705,28965,29221,29473,29733,29985,30241,30501,30765,31017,-32623,-32363,-32107,-31855,-31595,-31343,-32639,-32379,-32123,-31871,-31611,-31359,-31103,-30843,-30579,-30327,-28523,-28271,-28015,-27755,-27503,-27243,-28539,-28287,-28031,-27771,-27519,-27259,-27003,-26751,-26487,-26227,-24395,-24143,-23887,-23627,-23375,-23115,-24411,-24159,-23903,-23643,-23391,-23131,-22875,-22623,-22359,-22099,-20303,-20043,-19787,-19535,-19275,-19023,-20319,-20059,-19803,-19551,-19291,-19039,-18783,-18523,-18259,-18007,-16235,-15983,-15727,-15467,-15215,-14955,-16251,-15999,-15743,-15483,-15231,-14971,-14715,-14463,-14199,-13939,-12143,-11883,-11627,-11375,-11115,-10863,-12159,-11899,-11643,-11391,-11131,-10879,-10623,-10363,-10099,-9847,-8015,-7755,-7499,-7247,-6987,-6735,-8031,-7771,-7515,-7263,-7003,-6751,-6495,-6235,-5971,-5719,-3915,-3663,-3407,-3147,-2895,-2635,-3931,-3679,-3423,-3163,-2911,-2651,-2395,-2143,-1879,-1619,85,273,529,789,1041,1301,69,257,513,773,1025,1285,1541,1793,2057,2317,4113,4373,4629,4881,5141,5393,4097,4357,4613,4865,5125,5377,5633,5893,6157,6409,8241,8501,8757,9009,9269,9521,8225,8485,8741,8993,9253,9505,9761,10021,10285,10537,12341,12593,12849,13109,13361,13621,12325,12577,12833,13093,13345,13605,13861,14113,14377,14637,16401,16661,16917,17169,17429,17681,16385,16645,16901,17153,17413,17665,17921,18181,18445,18697,20501,20753,21009,21269,21521,21781,20485,20737,20993,21253,21505,21765,22021,22273,22537,22797,24629,24881,25137,25397,25649,25909,1540,1792,2056,2316,2572,2824,3084,3336,3592,3852,4112,4372,4628,4880,5140,5392,5632,5892,6156,6408,6664,6924,7176,7436,7692,7944,8240,8500,8756,9008,9268,9520,9760,10020,10284,10536,10792,11052,11304,11564,11820,12072,12340,12592,12848,13108,13360,13620,13860,14112,14376,14636,14892,15144,15404,15656,15912,16172,16400,16660,16916,17168,17428,17680,17920,18180,18444,18696,18952,19212,19464,19724,19980,20232,20500,20752,21008,21268,21520,21780,22020,22272,22536,22796,23052,23304,23564,23816,24072,24332,24628,24880,25136,25396,25648,25908,26148,26400,26664,26924,27180,27432,27692,27944,28200,28460,28720,28980,29236,29488,29748,3e4,30240,30500,30764,31016,31272,31532,31784,32044,32300,32552,-32624,-32364,-32108,-31856,-31596,-31344,-31104,-30844,-30580,-30328,-30072,-29812,-29560,-29300,-29044,-28792,-28524,-28272,-28016,-27756,-27504,-27244,-27004,-26752,-26488,-26228,-25972,-25720,-25460,-25208,-24952,-24692,85,273,529,789,1041,1301,1541,1793,2057,2317,2573,2825,3085,3337,3593,3853,4113,4373,4629,4881,5141,5393,5633,5893,6157,6409,6665,6925,7177,7437,7693,7945,8241,8501,8757,9009,9269,9521,9761,10021,10285,10537,10793,11053,11305,11565,11821,12073,12341,12593,12849,13109,13361,13621,13861,14113,14377,14637,14893,15145,15405,15657,15913,16173,16401,16661,16917,17169,17429,17681,17921,18181,18445,18697,18953,19213,19465,19725,19981,20233,20501,20753,21009,21269,21521,21781,22021,22273,22537,22797,23053,23305,23565,23817,24073,24333,24629,24881,25137,25397,25649,25909,26149,26401,26665,26925,27181,27433,27693,27945,28201,28461,28721,28981,29237,29489,29749,30001,30241,30501,30765,31017,31273,31533,31785,32045,32301,32553,-32623,-32363,-32107,-31855,-31595,-31343,-31103,-30843,-30579,-30327,-30071,-29811,-29559,-29299,-29043,-28791,-28523,-28271,-28015,-27755,-27503,-27243,-27003,-26751,-26487,-26227,-25971,-25719,-25459,-25207,-24951,-24691,-24395,-24143,-23887,-23627,-23375,-23115,-22875,-22623,-22359,-22099,-21843,-21591,-21331,-21079,-20823,-20563,-20303,-20043,-19787,-19535,-19275,-19023,-18783,-18523,-18259,-18007,-17751,-17491,-17239,-16979,-16723,-16471,-16235,-15983,-15727,-15467,-15215,-14955,-14715,-14463,-14199,-13939,-13683,-13431,-13171,-12919,-12663,-12403,-12143,-11883,-11627,-11375,-11115,-10863,-10623,-10363,-10099,-9847,-9591,-9331,-9079,-8819,-8563,-8311,-8015,-7755,-7499,-7247,-6987,-6735,-6495,-6235,-5971,-5719,-5463,-5203,-4951,-4691,-4435,-4183,-3915,-3663,-3407,-3147,-2895,-2635,-2395,-2143,-1879,-1619,-1363,-1111,-851,-599,-343,-83,85,273,529,789,1041,1301,1541,1793,2057,2317,2573,2825,3085,3337,3593,3853,4113,4373,4629,4881,5141,5393,5633,5893,6157,6409,6665,6925,7177,7437,7693,7945,8241,8501,8757,9009,9269,9521,9761,10021,10285,10537,10793,11053,11305,11565,11821,12073,12341,12593,12849,13109,13361,13621,13861,14113,14377,14637,14893,15145,15405,15657,15913,16173,16401,16661,16917,17169,17429,17681,17921,18181,18445,18697,18953,19213,19465,19725,19981,20233,20501,20753,21009,21269,21521,21781,22021,22273,22537,22797,23053,23305,23565,23817,24073,24333,24629,24881,25137,25397,25649,25909,70,258,514,774,1026,1286,1542,1794,2058,2318,1026,1286,1542,1794,2058,2318,4098,4358,4614,4866,5126,5378,5634,5894,6158,6410,5126,5378,5634,5894,6158,6410,8226,8486,8742,8994,9254,9506,9762,10022,10286,10538,9254,9506,9762,10022,10286,10538,12326,12578,12834,13094,13346,13606,13862,14114,14378,14638,13346,13606,13862,14114,14378,14638,16386,16646,16902,17154,17414,17666,17922,18182,18446,18698,17414,17666,17922,18182,18446,18698,20486,20738,20994,21254,21506,21766,22022,22274,22538,22798,21506,21766,22022,22274,22538,22798,24614,24866,25122,25382,25634,25894,26150,26402,26666,26926,25634,25894,26150,26402,26666,26926,28706,28966,29222,29474,29734,29986,30242,30502,30766,31018,29734,29986,30242,30502,30766,31018,-32638,-32378,-32122,-31870,-31610,-31358,-31102,-30842,-30578,-30326,-31610,-31358,-31102,-30842,-30578,-30326,-28538,-28286,-28030,-27770,-27518,-27258,-27002,-26750,-26486,-26226,13347,13607,13863,14115,14379,14639,16387,16647,16903,17155,17415,17667,17923,18183,18447,18699,17415,17667,17923,18183,18447,18699,20487,20739,20995,21255,21507,21767,22023,22275,22539,22799,21507,21767,22023,22275,22539,22799,24615,24867,25123,25383,25635,25895,26151,26403,26667,26927,25635,25895,26151,26403,26667,26927,28707,28967,29223,29475,29735,29987,30243,30503,30767,31019,29735,29987,30243,30503,30767,31019,-32637,-32377,-32121,-31869,-31609,-31357,-31101,-30841,-30577,-30325,-31609,-31357,-31101,-30841,-30577,-30325,-28537,-28285,-28029,-27769,-27517,-27257,-27001,-26749,-26485,-26225,-27517,-27257,-27001,-26749,-26485,-26225,-24409,-24157,-23901,-23641,-23389,-23129,-22873,-22621,-22357,-22097,-23389,-23129,-22873,-22621,-22357,-22097,-20317,-20057,-19801,-19549,-19289,-19037,-18781,-18521,-18257,-18005,-19289,-19037,-18781,-18521,-18257,-18005,-16249,-15997,-15741,-15481,-15229,-14969,-14713,-14461,-14197,-13937,-15229,-14969,-14713,-14461,-14197,-13937,-12157,-11897,-11641,-11389,-11129,-10877,-10621,-10361,-10097,-9845,-11129,-10877,-10621,-10361,-10097,-9845,-8029,-7769,-7513,-7261,-7001,-6749,-6493,-6233,-5969,-5717,-7001,-6749,-6493,-6233,-5969,-5717,-3929,-3677,-3421,-3161,-2909,-2649,-2393,-2141,-1877,-1617,-2909,-2649,-2393,-2141,-1877,-1617,71,259,515,775,1027,1287,1543,1795,2059,2319,1027,1287,1543,1795,2059,2319,4099,4359,4615,4867,5127,5379,5635,5895,6159,6411,5127,5379,5635,5895,6159,6411,8227,8487,8743,8995,9255,9507,9763,10023,10287,10539,9255,9507,9763,10023,10287,10539,12327,12579,12835,13095,13347,13607,13863,14115,14379,14639,13347,13607,13863,14115,14379,14639,16387,16647,16903,17155,17415,17667,17923,18183,18447,18699,17415,17667,17923,18183,18447,18699,20487,20739,20995,21255,21507,21767,22023,22275,22539,22799,21507,21767,22023,22275,22539,22799,24615,24867,25123,25383,25635,25895,26151,26403,26667,26927,25635,25895,26151,26403,26667,26927,28707,28967,29223,29475,29735,29987,30243,30503,30767,31019,29735,29987,30243,30503,30767,31019,-32637,-32377,-32121,-31869,-31609,-31357,-31101,-30841,-30577,-30325,-31609,-31357,-31101,-30841,-30577,-30325,-28537,-28285,-28029,-27769,-27517,-27257,-27001,-26749,-26485,-26225,-27517,-27257,-27001,-26749,-26485,-26225,-1346,-1094,-834,-582,-326,-66,70,258,514,774,1026,1286,1542,1794,2058,2318,2590,2842,3102,3354,3610,3870,4098,4358,4614,4866,5126,5378,5634,5894,6158,6410,6682,6942,7194,7454,7710,7962,8226,8486,8742,8994,9254,9506,9762,10022,10286,10538,10810,11070,11322,11582,11838,12090,12326,12578,12834,13094,13346,13606,13862,14114,14378,14638,14910,15162,15422,15674,15930,16190,16386,16646,16902,17154,17414,17666,17922,18182,18446,18698,18970,19230,19482,19742,19998,20250,20486,20738,20994,21254,21506,21766,22022,22274,22538,22798,23070,23322,23582,23834,24090,24350,24614,24866,25122,25382,25634,25894,26150,26402,26666,26926,27198,27450,27710,27962,28218,28478,28706,28966,29222,29474,29734,29986,30242,30502,30766,31018,31290,31550,31802,32062,32318,32570,-32638,-32378,-32122,-31870,-31610,-31358,-31102,-30842,-30578,-30326,-30054,-29794,-29542,-29282,-29026,-28774,-28538,-28286,-28030,-27770,13347,13607,13863,14115,14379,14639,14911,15163,15423,15675,15931,16191,16387,16647,16903,17155,17415,17667,17923,18183,18447,18699,18971,19231,19483,19743,19999,20251,20487,20739,20995,21255,21507,21767,22023,22275,22539,22799,23071,23323,23583,23835,24091,24351,24615,24867,25123,25383,25635,25895,26151,26403,26667,26927,27199,27451,27711,27963,28219,28479,28707,28967,29223,29475,29735,29987,30243,30503,30767,31019,31291,31551,31803,32063,32319,32571,-32637,-32377,-32121,-31869,-31609,-31357,-31101,-30841,-30577,-30325,-30053,-29793,-29541,-29281,-29025,-28773,-28537,-28285,-28029,-27769,-27517,-27257,-27001,-26749,-26485,-26225,-25953,-25701,-25441,-25189,-24933,-24673,-24409,-24157,-23901,-23641,-23389,-23129,-22873,-22621,-22357,-22097,-21825,-21573,-21313,-21061,-20805,-20545,-20317,-20057,-19801,-19549,-19289,-19037,-18781,-18521,-18257,-18005,-17733,-17473,-17221,-16961,-16705,-16453,-16249,-15997,-15741,-15481,-15229,-14969,-14713,-14461,-14197,-13937,-13665,-13413,-13153,-12901,-12645,-12385,-12157,-11897,-11641,-11389,-11129,-10877,-10621,-10361,-10097,-9845,-9573,-9313,-9061,-8801,-8545,-8293,-8029,-7769,-7513,-7261,-7001,-6749,-6493,-6233,-5969,-5717,-5445,-5185,-4933,-4673,-4417,-4165,-3929,-3677,-3421,-3161,-2909,-2649,-2393,-2141,-1877,-1617,-1345,-1093,-833,-581,-325,-65,71,259,515,775,1027,1287,1543,1795,2059,2319,2591,2843,3103,3355,3611,3871,4099,4359,4615,4867,5127,5379,5635,5895,6159,6411,6683,6943,7195,7455,7711,7963,8227,8487,8743,8995,9255,9507,9763,10023,10287,10539,10811,11071,11323,11583,11839,12091,12327,12579,12835,13095,13347,13607,13863,14115,14379,14639,14911,15163,15423,15675,15931,16191,16387,16647,16903,17155,17415,17667,17923,18183,18447,18699,18971,19231,19483,19743,19999,20251,20487,20739,20995,21255,21507,21767,22023,22275,22539,22799,23071,23323,23583,23835,24091,24351,24615,24867,25123,25383,25635,25895,26151,26403,26667,26927,27199,27451,27711,27963,28219,28479,28707,28967,29223,29475,29735,29987,30243,30503,30767,31019,31291,31551,31803,32063,32319,32571,-32637,-32377,-32121,-31869,-31609,-31357,-31101,-30841,-30577,-30325,-30053,-29793,-29541,-29281,-29025,-28773,-28537,-28285,-28029,-27769,-27517,-27257,-27001,-26749,-26485,-26225]}(),t.exports=r}()},{"./bin-util.js":12}],18:[function(e,t,n){"use strict";function r(e){var t=0;switch(e){case"IX":t=u("0335");break;case"IY":t=u("0375")}return t}function i(e){var t=0;switch(e){case"ADD":t=0;break;case"ADC":t=1;break;case"SUB":t=2;break;case"SBC":t=3;break;case"AND":t=4;break;case"OR":t=6;break;case"XOR":t=5;break;case"CP":t=7}return t}function o(e){var t=null;switch(e){case"BC":t=0;break;case"DE":t=1;break;case"HL":t=2;break;case"SP":t=3}return t}function c(e){var t=null;switch(e){case"BC":t=0;break;case"DE":t=1;break;case"HL":t=2;break;case"AF":t=3}return t}function s(e){var t=null;switch(e){case"B":t=0;break;case"C":t=1;break;case"D":t=2;break;case"E":t=3;break;case"H":t=4;break;case"L":t=5;break;case"A":t=7}return t}function a(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(null!=t[n])if("string"==typeof t[n]){if(e[n]!=t[n])return!1}else if("object"==typeof t[n]&&"RegExp"==t[n].constructor.name&&!t[n].test(e[n]))return!1;return!0}var u=e("../lib/oct"),p=function(){this.address=null,this.bytecode=[],this.label=null,this.mnemonic=null,this.operand=null,this.comment="",this.ref_addr_to=null,this.referenced_count=0};p.prototype.setAddress=function(e){this.address=e},p.prototype.setRefAddrTo=function(e){this.ref_addr_to=e},p.prototype.setLabel=function(e){this.label=e},p.prototype.setComment=function(e){this.address=this.address||0,this.comment=e},p.create=function(e,t,n){var r=new p;return r.mnemonic=e,r.operand=t||"",r.bytecode=n||[],r},p.assemble=function(e,t,n){var r=new p;r.address=t;for(var i=p.tokenize(e),o=-1,c=-1,s=0;s<i.length;s++)switch(i[s]){case":":o<0&&c<0&&(o=s);break;case";":c<0&&(c=s)}if(o>=0&&(r.label=i.slice(0,o).join(""),i.splice(0,o+1),c-=o+1),c>=0&&(r.comment=i.slice(c).join(""),i.splice(c)),i.length>0&&(r.mnemonic=i[0],r.operand=i.slice(1).join("")),i.length>0)try{r.bytecode=r.assembleMnemonic(i,n)}catch(e){r.comment+="*** ASSEMBLE ERROR - "+e}return r},p.prototype.getNextAddress=function(){return this.address+this.bytecode.length},p.prototype.getLastAddress=function(){return this.address+this.bytecode.length-1},p.prototype.resolveAddress=function(e){for(var t=0;t<this.bytecode.length;t++)"function"==typeof this.bytecode[t]&&(this.bytecode[t]=this.bytecode[t](e))},p.tokenize=function(e){var t=0,n=e.length,r=0,i=[],o="";for(e=e.toUpperCase();r<n;){var c=e.charAt(r);switch(t){case 0:if(/\s/.test(c))r++;else if("-"==c||"+"==c)o+=c,r++,t=2;else if(/[0-9]/.test(c))t=2;else if(/[A-Z_\?\.\*#!\$]/.test(c))o+=c,r++,t=3;else if("'"==c)o+=c,r++,t=4;else if("("==c||")"==c||","==c||"+"==c||":"==c)i.push(c),r++;else{if(";"!=c)throw"unrecognized char "+c+" at column "+r;i.push(c),r++;var s=e.substr(r);i.push(s),r+=s.length,o=""}break;case 2:/[0-9A-F]/.test(c)?(o+=c,r++):"H"==c?(o+=c,r++,i.push(o),o="",t=0):(i.push(o),o="",t=0);break;case 3:/[A-Z_0-9\?\.\*#!\$']/.test(c)?(o+=c,r++):(i.push(o),o="",t=0);break;case 4:"\\"==c?++r<n&&(o+=c=e.charAt(r),r++):"'"!=c?(o+=c,r++):(o+=c,r++,i.push(o),o="",t=0);break;default:throw"unrecognized status "}}return""!=o&&i.push(o),i},p.prototype.assembleMnemonic=function(e,t){var n=this.label;if(a(e,["ORG",null]))return this.address=p._parseNumLiteral(e[1]),[];if(a(e,["ENT"]))return t[n]=this.address,[];if(a(e,["EQU",null])){if(null==n||""==n)throw"empty label for EQU";return t[n]=p._parseNumLiteral(e[1]),[]}if(a(e,["DEFB",null]))return[p.parseNumLiteral(e[1])];if(a(e,["DEFW",null]))return p.parseNumLiteralPair(e[1]);if(a(e,["DEFS",null])){var d=p._parseNumLiteral(e[1]);if(d<0)throw"negative DEFS number "+e[1];for(var l=[],m=0;m<d;m++)l.push(0);return l}if(a(e,["LD","A",",","I"]))return[u("0355"),u("0127")];if(a(e,["LD","A",",","R"]))return[u("0355"),u("0137")];if(a(e,["LD","I",",","A"]))return[u("0355"),u("0107")];if(a(e,["LD","R",",","A"]))return[u("0355"),u("0117")];if(a(e,["LD","B",",","IXH"]))return[221,68];if(a(e,["LD","C",",","IXL"]))return[221,77];if(a(e,["LD","A",",","IXL"]))return[221,125];if(a(e,["ADD","A",",","IXH"]))return[221,132];if(a(e,["ADD","A",",","IXL"]))return[221,133];if(a(e,["LD",/^[BCDEHLA]$/,",",/^[BCDEHLA]$/])){var f=s(e[1]),h=s(e[3]);return[u("0100")|f<<3|h<<0]}if(a(e,["LD",/^[BCDEHLA]$/,",",null]))return function(){var t=s(e[1]),n=p.parseNumLiteral(e[3]);return[u("0006")|t<<3,n]}();if(a(e,["LD",/^[BCDEHLA]$/,",","(","HL",")"]))return function(){var t=s(e[1]);return[u("0106")|t<<3]}();if(a(e,["LD","(","HL",")",",",/^[BCDEHLA]$/]))return function(){var t=s(e[5]);return[u("0160")|t]}();if(a(e,["LD","(","HL",")",",",null]))return function(){var t=p.parseNumLiteral(e[5]);return[u("0066"),t]}();if(a(e,["LD","A",",","(",/^(BC|DE)$/,")"]))return function(){var t=o(e[4]);return[u("0012")|t<<4]}();if(a(e,["LD","A",",","(",null,")"]))return function(){var t=p.parseNumLiteralPair(e[4]);return[u("0072"),t[0],t[1]]}();if(a(e,["LD","(",/^(BC|DE)$/,")",",","A"]))return function(){var t=o(e[2]);return[u("0002")|t<<4]}();if(a(e,["LD","(",null,")",",","A"]))return function(){var t=p.parseNumLiteralPair(e[2]);return[u("0062"),t[0],t[1]]}();if(a(e,["LD","SP",",","HL"]))return[u("0371")];if(a(e,["LD","SP",",","IX"]))return[221,249];if(a(e,["LD","SP",",","IY"]))return[253,249];if(a(e,["LD",/^(BC|DE|HL|SP)$/,",",null]))return function(){var t=o(e[1]),n=p.parseNumLiteralPair(e[3]);return[u("0001")|t<<4,n[0],n[1]]}();if(a(e,["LD","HL",",","(",null,")"]))return function(){var t=p.parseNumLiteralPair(e[4]);return[u("0052"),t[0],t[1]]}();if(a(e,["LD","BC",",","(",null,")"]))return function(){var t=p.parseNumLiteralPair(e[4]);return[u("0355"),u("0113"),t[0],t[1]]}();if(a(e,["LD","DE",",","(",null,")"]))return function(){var t=p.parseNumLiteralPair(e[4]);return[u("0355"),u("0133"),t[0],t[1]]}();if(a(e,["LD","SP",",","(",null,")"]))return function(){var t=p.parseNumLiteralPair(e[4]);return[u("0355"),u("0173"),t[0],t[1]]}();if(a(e,["LD","(",null,")",",","HL"]))return function(){var t=p.parseNumLiteralPair(e[2]);return[u("0042"),t[0],t[1]]}();if(a(e,["LD","(",null,")",",","BC"]))return function(){var t=p.parseNumLiteralPair(e[2]);return[u("0355"),u("0103"),t[0],t[1]]}();if(a(e,["LD","(",null,")",",","DE"]))return function(){var t=p.parseNumLiteralPair(e[2]);return[u("0355"),u("0123"),t[0],t[1]]}();if(a(e,["LD","(",null,")",",","SP"]))return function(){var t=p.parseNumLiteralPair(e[2]);return[u("0355"),u("0163"),t[0],t[1]]}();if(a(e,["PUSH",/^(BC|DE|HL|AF)$/]))return function(){var t=c(e[1]);return[u("0305")|t<<4]}();if(a(e,["POP",/^(BC|DE|HL|AF)$/]))return function(){var t=c(e[1]);return[u("0301")|t<<4]}();if(a(e,["LD","IXH",",","B"]))return[221,96];if(a(e,["LD","IXL",",","C"]))return[221,105];if(a(e,["LD","IXH",",","A"]))return[221,103];if(a(e,["LD","IXL",",","A"]))return[221,111];if(a(e,["CP","IXL"]))return[221,189];if(a(e,["EX","DE",",","HL"]))return[235];if(a(e,["EX","AF",",","AF'"]))return[8];if(a(e,["EXX"]))return[217];if(a(e,["EX","(","SP",")",",","HL"]))return[227];if(a(e,["LDI"]))return[u("0355"),u("0240")];if(a(e,["LDIR"]))return[u("0355"),u("0260")];if(a(e,["LDD"]))return[u("0355"),u("0250")];if(a(e,["LDDR"]))return[u("0355"),u("0270")];if(a(e,["CPI"]))return[u("0355"),u("0241")];if(a(e,["CPIR"]))return[u("0355"),u("0261")];if(a(e,["CPD"]))return[u("0355"),u("0251")];if(a(e,["CPDR"]))return[u("0355"),u("0271")];if(a(e,["DAA"]))return[u("0047")];if(a(e,["CPL"]))return[u("0057")];if(a(e,["NEG"]))return[u("0355"),u("0104")];if(a(e,["CCF"]))return[u("0077")];if(a(e,["SCF"]))return[u("0067")];if(a(e,["NOP"]))return[u("0000")];if(a(e,["HALT"]))return[u("0166")];if(a(e,["DI"]))return[u("0363")];if(a(e,["EI"]))return[u("0373")];if(a(e,["IM0"]))return[u("0355"),u("0106")];if(a(e,["IM1"]))return[u("0355"),u("0126")];if(a(e,["IM2"]))return[u("0355"),u("0136")];if(a(e,["IM","0"]))return[u("0355"),u("0106")];if(a(e,["IM","1"]))return[u("0355"),u("0126")];if(a(e,["IM","2"]))return[u("0355"),u("0136")];if(a(e,[/^(ADD|ADC|SBC)$/,"HL",",",/^(BC|DE|HL|SP)$/])){var g=0;switch(e[3]){case"BC":g=0;break;case"DE":g=1;break;case"HL":g=2;break;case"SP":g=3}switch(e[0]){case"ADD":return[u("0011")|g<<4];case"ADC":return[u("0355"),u("0112")|g<<4];case"SBC":return[u("0355"),u("0102")|g<<4]}return[]}if(a(e,["ADD","IX",",",/^(BC|DE|IX|SP)$/])){switch(e[3]){case"BC":return[u("0335"),u("0011")];case"DE":return[u("0335"),u("0031")];case"IX":return[u("0335"),u("0051")];case"SP":return[u("0335"),u("0071")]}return[]}if(a(e,["ADD","IY",",",/^(BC|DE|IY|SP)$/])){switch(e[3]){case"BC":return[u("0375"),u("0011")];case"DE":return[u("0375"),u("0031")];case"IY":return[u("0375"),u("0051")];case"SP":return[u("0375"),u("0071")]}return[]}if(a(e,[/^(INC|DEC)$/,/^(BC|DE|HL|SP|IX|IY)$/])){switch(e[0]){case"INC":switch(e[1]){case"BC":return[u("0003")];case"DE":return[u("0023")];case"HL":return[u("0043")];case"SP":return[u("0063")];case"IX":return[u("0335"),u("0043")];case"IY":return[u("0375"),u("0043")]}break;case"DEC":switch(e[1]){case"BC":return[u("0013")];case"DE":return[u("0033")];case"HL":return[u("0053")];case"SP":return[u("0073")];case"IX":return[u("0335"),u("0053")];case"IY":return[u("0375"),u("0053")]}}return[]}if(a(e,["RLCA"]))return[u("0007")];if(a(e,["RLA"]))return[u("0027")];if(a(e,["RRCA"]))return[u("0017")];if(a(e,["RRA"]))return[u("0037")];if(a(e,[/^(RLC|RL|RRC|RR|SLA|SRA|SRL)$/,/^[BCDEHLA]$/])){switch(e[0]){case"RLC":return[u("0313"),u("0000")|s(e[1])];case"RL":return[u("0313"),u("0020")|s(e[1])];case"RRC":return[u("0313"),u("0010")|s(e[1])];case"RR":return[u("0313"),u("0030")|s(e[1])];case"SLA":return[u("0313"),u("0040")|s(e[1])];case"SRA":return[u("0313"),u("0050")|s(e[1])];case"SRL":return[u("0313"),u("0070")|s(e[1])]}return[]}if(a(e,[/^(RLC|RL|RRC|RR|SLA|SRA|SRL)$/,"(","HL",")"])){switch(e[0]){case"RLC":return[u("0313"),u("0006")];case"RL":return[u("0313"),u("0026")];case"RRC":return[u("0313"),u("0016")];case"RR":return[u("0313"),u("0036")];case"SLA":return[u("0313"),u("0046")];case"SRA":return[u("0313"),u("0056")];case"SRL":return[u("0313"),u("0076")]}return[]}if(a(e,[/^(RLC|RL|RRC|RR|SLA|SRA|SRL)$/,"(",/^(IX|IY)$/,"+",null,")"])||a(e,[/^(RLC|RL|RRC|RR|SLA|SRA|SRL)$/,"(",/^(IX|IY)$/,/^\+.*/,")"]))return function(){var t="+"==e[3]?4:3,n=0;switch(e[2]){case"IX":n=u("0335");break;case"IY":n=u("0375")}var r=p.parseNumLiteral(e[t]);switch(e[0]){case"RLC":return[n,u("0313"),r,u("0006")];case"RL":return[n,u("0313"),r,u("0026")];case"RRC":return[n,u("0313"),r,u("0016")];case"RR":return[n,u("0313"),r,u("0036")];case"SLA":return[n,u("0313"),r,u("0046")];case"SRA":return[n,u("0313"),r,u("0056")];case"SRL":return[n,u("0313"),r,u("0076")]}return[]}();if(a(e,["RLD"]))return[u("0355"),u("0157")];if(a(e,["RRD"]))return[u("0355"),u("0147")];if(a(e,[/^(BIT|SET|RES)$/,/^[0-7]$/,",",/^[BCDEHLA]$/])){switch(e[0]){case"BIT":return[u("0313"),u("0100")|e[1]<<3|s(e[3])];case"SET":return[u("0313"),u("0300")|e[1]<<3|s(e[3])];case"RES":return[u("0313"),u("0200")|e[1]<<3|s(e[3])]}return[]}if(a(e,[/^(BIT|SET|RES)$/,/^[0-7]$/,",","(","HL",")"])){switch(e[0]){case"BIT":return[u("0313"),u("0106")|e[1]<<3];case"SET":return[u("0313"),u("0306")|e[1]<<3];case"RES":return[u("0313"),u("0206")|e[1]<<3]}return[]}if(a(e,[/^(BIT|SET|RES)$/,/^[0-7]$/,",","(",/^(IX|IY)$/,"+",null,")"])||a(e,[/^(BIT|SET|RES)$/,/^[0-7]$/,",","(",/^(IX|IY)$/,/^\+.*$/,")"]))return function(){var t="+"==e[5]?6:5,n=0;switch(e[4]){case"IX":n=u("0335");break;case"IY":n=u("0375")}var r=p.parseNumLiteral(e[t]);switch(e[0]){case"BIT":return[n,u("0313"),r,u("0106")|e[1]<<3];case"SET":return[n,u("0313"),r,u("0306")|e[1]<<3];case"RES":return[n,u("0313"),r,u("0206")|e[1]<<3]}return[]}();if(a(e,["JP",null]))return function(){var t=p.parseNumLiteralPair(e[1]);return[u("0303"),t[0],t[1]]}();if(a(e,["JP",/^(NZ|Z|NC|C|PO|PE|P|M)$/,",",null]))return function(){var t=p.parseNumLiteralPair(e[3]);switch(e[1]){case"NZ":return[u("0302"),t[0],t[1]];case"Z":return[u("0312"),t[0],t[1]];case"NC":return[u("0322"),t[0],t[1]];case"C":return[u("0332"),t[0],t[1]];case"PO":return[u("0342"),t[0],t[1]];case"PE":return[u("0352"),t[0],t[1]];case"P":return[u("0362"),t[0],t[1]];case"M":return[u("0372"),t[0],t[1]]}return[]}();if(a(e,["JR",null]))return function(){var t=p.parseRelAddr(e[1],this.address+2);return[u("0030"),t]}.bind(this)();if(a(e,["JR",/^(NZ|Z|NC|C)$/,",",null]))return function(){var t=p.parseRelAddr(e[3],this.address+2);switch(e[1]){case"NZ":return[u("0040"),t];case"Z":return[u("0050"),t];case"NC":return[u("0060"),t];case"C":return[u("0070"),t]}return[]}.bind(this)();if(a(e,["JP","(",/^(HL|IX|IY)$/,")"])){switch(e[2]){case"HL":return[u("0351")];case"IX":return[u("0335"),u("0351")];case"IY":return[u("0375"),u("0351")]}return[]}if(a(e,["DJNZ",null]))return function(){var t=p.parseRelAddr(e[1],this.address+2);return[u("0020"),t]}.bind(this)();if(a(e,["CALL",null]))return function(){var t=p.parseNumLiteralPair(e[1]);return[u("0315"),t[0],t[1]]}();if(a(e,["CALL",/^(NZ|Z|NC|C|PO|PE|P|M)$/,",",null]))return function(){var t=p.parseNumLiteralPair(e[3]);switch(e[1]){case"NZ":return[u("0304"),t[0],t[1]];case"Z":return[u("0314"),t[0],t[1]];case"NC":return[u("0324"),t[0],t[1]];case"C":return[u("0334"),t[0],t[1]];case"PO":return[u("0344"),t[0],t[1]];case"PE":return[u("0354"),t[0],t[1]];case"P":return[u("0364"),t[0],t[1]];case"M":return[u("0374"),t[0],t[1]]}return[]}();if(a(e,["RET"]))return[u("0311")];if(a(e,["RET",/^(NZ|Z|NC|C|PO|PE|P|M)$/])){switch(e[1]){case"NZ":return[u("0300")];case"Z":return[u("0310")];case"NC":return[u("0320")];case"C":return[u("0330")];case"PO":return[u("0340")];case"PE":return[u("0350")];case"P":return[u("0360")];case"M":return[u("0370")]}return[]}if(a(e,["RETI"]))return[u("0355"),u("0115")];if(a(e,["RETN"]))return[u("0355"),u("0105")];if(a(e,["RST",/^(00H|08H|10H|18H|20H|28H|30H|38H)$/])){switch(e[1]){case"00H":return[u("0307")];case"08H":return[u("0317")];case"10H":return[u("0327")];case"18H":return[u("0337")];case"20H":return[u("0347")];case"28H":return[u("0357")];case"30H":return[u("0367")];case"38H":return[u("0377")]}return[]}if(a(e,["IN",/^[BCDEHLA]$/,",","(","C",")"]))return function(){var t=s(e[1]);return[u("0355"),u("0100")|t<<3]}();if(a(e,["IN","A",",","(",null,")"]))return function(){var t=p.parseNumLiteral(e[4]);return[u("0333"),t]}();if(a(e,["OUT","(","C",")",",",/^[BCDEHLA]$/]))return function(){var t=s(e[5]);return[u("0355"),u("0101")|t<<3]}();if(a(e,["OUT","(",null,")",",","A"]))return function(){var t=p.parseNumLiteral(e[2]);return[u("0323"),t]}();if(a(e,["INI"]))return[u("0355"),u("0242")];if(a(e,["INIR"]))return[u("0355"),u("0262")];if(a(e,["IND"]))return[u("0355"),u("0252")];if(a(e,["INDR"]))return[u("0355"),u("0272")];if(a(e,["OUTI"]))return[u("0355"),u("0243")];if(a(e,["OTIR"]))return[u("0355"),u("0263")];if(a(e,["OUTD"]))return[u("0355"),u("0253")];if(a(e,["OTDR"]))return[u("0355"),u("0273")];if(a(e,["LD",/^[BCDEHLA]$/,",","(",/^(IX|IY)$/,"+",null,")"])||a(e,["LD",/^[BCDEHLA]$/,",","(",/^(IX|IY)$/,null,")"]))return function(){var t="+"==e[5]?6:5,n=s(e[1]),i=p.parseNumLiteral(e[t]);return[r(e[4]),u("0106")|n<<3,i]}();if(a(e,["LD","(",/^(IX|IY)$/,"+",null,")",",",/^[BCDEHLA]$/])||a(e,["LD","(",/^(IX|IY)$/,/^\+.*$/,")",",",/^[BCDEHLA]$/]))return function(){var t="+"==e[3]?4:3,n="+"==e[3]?7:6,i=p.parseNumLiteral(e[t]),o=s(e[n]);return[r(e[2]),u("0160")|o,i]}();if(a(e,["LD","(",/^(IX|IY)$/,"+",null,")",",",null])||a(e,["LD","(",/^(IX|IY)$/,/^\+.*$/,")",",",null]))return function(){var t="+"==e[3]?4:3,n="+"==e[3]?7:6,i=p.parseNumLiteral(e[t]),o=p.parseNumLiteral(e[n]);return[r(e[2]),54,i,o]}();if(a(e,["LD",/^(IX|IY)$/,",",null]))return function(){var t=p.parseNumLiteralPair(e[3]);return[r(e[1]),33,t[0],t[1]]}();if(a(e,["LD",/^(IX|IY)$/,",","(",null,")"]))return function(){var t=p.parseNumLiteralPair(e[4]);return[r(e[1]),42,t[0],t[1]]}();if(a(e,["PUSH",/^(IX|IY)$/]))return[r(e[1]),229];if(a(e,["POP",/^(IX|IY)$/]))return[r(e[1]),225];if(a(e,["EX","(","SP",")",",",/^(IX|IY)$/]))return[r(e[5]),227];if(a(e,[/^(ADD|ADC|SUB|SBC)$/,"A",",",/^[BCDEHLA]$/]))return function(){var t=i(e[0]),n=s(e[3]);return[u("0200")|t<<3|n]}();if(a(e,[/^(ADD|ADC|SUB|SBC)$/,"A",",",null]))return function(){var t=i(e[0]),n=p.parseNumLiteral(e[3]);return[u("0306")|t<<3,n]}();if(a(e,[/^(ADD|ADC|SUB|SBC)$/,"A",",","(","HL",")"]))return function(){var t=i(e[0]);return[u("0206")|t<<3]}();if(a(e,[/^(ADD|ADC|SUB|SBC)$/,"A",",","(",/^(IX|IY)$/,"+",null,")"])||a(e,[/^(ADD|ADC|SUB|SBC)$/,"A",",","(",/^(IX|IY)$/,/^\+.*/,")"]))return function(){var t="+"==e[5]?6:5,n=i(e[0]),o=p.parseNumLiteral(e[t]);return[r(e[4]),u("0206")|n<<3,o]}();if(a(e,[/^(AND|OR|XOR|CP)$/,/^[BCDEHLA]$/]))return function(){var t=i(e[0]),n=s(e[1]);return[u("0200")|t<<3|n]}();if(a(e,[/^(AND|OR|XOR|CP)$/,null]))return function(){var t=i(e[0]),n=p.parseNumLiteral(e[1]);return[u("0306")|t<<3,n]}();if(a(e,[/^(AND|OR|XOR|CP)$/,"(","HL",")"]))return function(){var t=i(e[0]);return[u("0206")|t<<3]}();if(a(e,[/^(AND|OR|XOR|CP)$/,"(",/^(IX|IY)$/,"+",null,")"])||a(e,[/^(AND|OR|XOR|CP)$/,"(",/^(IX|IY)$/,/^\+.*$/,")"]))return function(){var t="+"==e[3]?4:3,n=i(e[0]),o=p.parseNumLiteral(e[t]);return[r(e[2]),u("0206")|n<<3,o]}();if(a(e,[/^(INC|DEC)$/,/^[BCDEHLA]$/]))return function(){var t=s(e[1]);switch(e[0]){case"INC":return[u("0004")|t<<3];case"DEC":return[u("0005")|t<<3]}}();if(a(e,[/^(INC|DEC)$/,"(","HL",")"]))switch(e[0]){case"INC":return[u("0064")];case"DEC":return[u("0065")]}return a(e,[/^(INC|DEC)$/,"(",/^(IX|IY)$/,"+",null,")"])||a(e,[/^(INC|DEC)$/,"(",/^(IX|IY)$/,/^\+.*$/,")"])?function(){var t=r(e[2]),n="+"==e[3]?4:3,i=p.parseNumLiteral(e[n]);switch(e[0]){case"INC":return[t,u("0064"),i];case"DEC":return[t,u("0065"),i]}}():(console.warn("**** ERROR: CANNOT ASSEMBLE:"+e.join(" / ")),[])},p.parseNumLiteral=function(e){var t=p._parseNumLiteral(e);if("number"==typeof t){if(t<-128||256<=t)throw"operand "+e+" out of range";return 255&t}return function(t){return p.dereferLowByte(e,t)}},p.parseNumLiteralPair=function(e){var t=p._parseNumLiteral(e);if("number"==typeof t){if(t<-32768||65535<t)throw"operand "+e+" out of range";return[255&t,t>>8&255]}return[function(t){return p.dereferLowByte(e,t)},function(t){return p.dereferHighByte(e,t)}]},p.parseRelAddr=function(e,t){var n=p._parseNumLiteral(e);if("number"==typeof n){var r=e.charAt(0);if("+"!=r&&"-"!=r&&(n=n-t+2),(n-=2)<-128||256<=n)throw"operand "+e+" out of range";return 255&n}return function(n){return p.derefer(e,n)-t&255}},p.dereferLowByte=function(e,t){return 255&p.derefer(e,t)},p.dereferHighByte=function(e,t){return p.derefer(e,t)>>8&255},p.derefer=function(e,t){return e in t?t[e]:0},p._parseNumLiteral=function(e){if(/^[\+\-]?[0-9]+$/.test(e)||/^[\+\-]?[0-9A-F]+H$/i.test(e)){var t,n=0,r=/^\-/.test(e)?-1:1;return/[hH]$/.test(e)?(t=e.match(/^[\+\-]?([0-9a-fA-F]+)[hH]$/),n=parseInt(t[1],16)):/^[\+\-]?0/.test(e)?(t=e.match(/^[\+\-]?([0-7]+)$/),n=parseInt(t[1],8)):(t=e.match(/^[\+\-]?([0-9]+)$/),n=parseInt(t[1],10)),r*n}return e},t.exports=p},{"../lib/oct":35}],19:[function(e,t,n){!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){var n=(t=t||te).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=me.type(e);return"function"!==n&&!me.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function o(e,t,n){return me.isFunction(t)?me.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?me.grep(e,function(e){return e===t!==n}):"string"!=typeof t?me.grep(e,function(e){return ce.call(t,e)>-1!==n}):Le.test(t)?me.filter(t,e,n):(t=me.filter(t,e),me.grep(e,function(e){return ce.call(t,e)>-1!==n&&1===e.nodeType}))}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return me.each(e.match(we)||[],function(e,n){t[n]=!0}),t}function a(e){return e}function u(e){throw e}function p(e,t,n,r){var i;try{e&&me.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&me.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function d(){te.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),me.ready()}function l(){this.expando=me.expando+l.uid++}function m(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Be.test(e)?JSON.parse(e):e)}function f(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=m(n)}catch(e){}xe.set(e,t,n)}else n=void 0;return n}function h(e,t,n,r){var i,o=1,c=20,s=r?function(){return r.cur()}:function(){return me.css(e,t,"")},a=s(),u=n&&n[3]||(me.cssNumber[t]?"":"px"),p=(me.cssNumber[t]||"px"!==u&&+a)&&Xe.exec(me.css(e,t));if(p&&p[3]!==u){u=u||p[3],n=n||[],p=+a||1;do{p/=o=o||".5",me.style(e,t,p+u)}while(o!==(o=s()/a)&&1!==o&&--c)}return n&&(p=+p||+a||0,i=n[1]?p+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=p,r.end=i)),i}function g(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ye[r];return i||(t=n.body.appendChild(n.createElement(r)),i=me.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ye[r]=i,i)}function y(e,t){for(var n,r,i=[],o=0,c=e.length;o<c;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=_e.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Me(r)&&(i[o]=g(r))):"none"!==n&&(i[o]="none",_e.set(r,"display",n)));for(o=0;o<c;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function C(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?me.merge([e],n):n}function k(e,t){for(var n=0,r=e.length;n<r;n++)_e.set(e[n],"globalEval",!t||_e.get(t[n],"globalEval"))}function v(e,t,n,r,i){for(var o,c,s,a,u,p,d=t.createDocumentFragment(),l=[],m=0,f=e.length;m<f;m++)if((o=e[m])||0===o)if("object"===me.type(o))me.merge(l,o.nodeType?[o]:o);else if(Ue.test(o)){for(c=c||d.appendChild(t.createElement("div")),s=(ze.exec(o)||["",""])[1].toLowerCase(),a=Ze[s]||Ze._default,c.innerHTML=a[1]+me.htmlPrefilter(o)+a[2],p=a[0];p--;)c=c.lastChild;me.merge(l,c.childNodes),(c=d.firstChild).textContent=""}else l.push(t.createTextNode(o));for(d.textContent="",m=0;o=l[m++];)if(r&&me.inArray(o,r)>-1)i&&i.push(o);else if(u=me.contains(o.ownerDocument,o),c=C(d.appendChild(o),"script"),u&&k(c),n)for(p=0;o=c[p++];)qe.test(o.type||"")&&n.push(o);return d}function b(){return!0}function A(){return!1}function L(){try{return te.activeElement}catch(e){}}function D(e,t,n,r,i,o){var c,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)D(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=A;else if(!i)return e;return 1===o&&(c=i,(i=function(e){return me().off(e),c.apply(this,arguments)}).guid=c.guid||(c.guid=me.guid++)),e.each(function(){me.event.add(this,t,i,r,n)})}function I(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?me(">tbody",e)[0]||e:e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function R(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,r,i,o,c,s,a,u;if(1===t.nodeType){if(_e.hasData(e)&&(o=_e.access(e),c=_e.set(t,o),u=o.events)){delete c.handle,c.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)me.event.add(t,i,u[i][n])}xe.hasData(e)&&(s=xe.access(e),a=me.extend({},s),xe.set(t,a))}}function H(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$e.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function T(e,t,r,i){t=ie.apply([],t);var o,c,s,a,u,p,d=0,l=e.length,m=l-1,f=t[0],h=me.isFunction(f);if(h||l>1&&"string"==typeof f&&!le.checkClone&&et.test(f))return e.each(function(n){var o=e.eq(n);h&&(t[0]=f.call(this,n,o.html())),T(o,t,r,i)});if(l&&(o=v(t,e[0].ownerDocument,!1,e,i),c=o.firstChild,1===o.childNodes.length&&(o=c),c||i)){for(a=(s=me.map(C(o,"script"),E)).length;d<l;d++)u=o,d!==m&&(u=me.clone(u,!0,!0),a&&me.merge(s,C(u,"script"))),r.call(e[d],u,d);if(a)for(p=s[s.length-1].ownerDocument,me.map(s,R),d=0;d<a;d++)u=s[d],qe.test(u.type||"")&&!_e.access(u,"globalEval")&&me.contains(p,u)&&(u.src?me._evalUrl&&me._evalUrl(u.src):n(u.textContent.replace(nt,""),p))}return e}function S(e,t,n){for(var r,i=t?me.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||me.cleanData(C(r)),r.parentNode&&(n&&me.contains(r.ownerDocument,r)&&k(C(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,i,o,c,s=e.style;return(n=n||ot(e))&&(""!==(c=n.getPropertyValue(t)||n[t])||me.contains(e.ownerDocument,e)||(c=me.style(e,t)),!le.pixelMarginRight()&&it.test(c)&&rt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=c,c=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==c?c+"":c}function _(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function x(e){if(e in dt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=pt.length;n--;)if((e=pt[n]+t)in dt)return e}function B(e){var t=me.cssProps[e];return t||(t=me.cssProps[e]=x(e)||e),t}function N(e,t,n){var r=Xe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function F(e,t,n,r,i){var o,c=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(c+=me.css(e,n+Oe[o],!0,i)),r?("content"===n&&(c-=me.css(e,"padding"+Oe[o],!0,i)),"margin"!==n&&(c-=me.css(e,"border"+Oe[o]+"Width",!0,i))):(c+=me.css(e,"padding"+Oe[o],!0,i),"padding"!==n&&(c+=me.css(e,"border"+Oe[o]+"Width",!0,i)));return c}function X(e,t,n){var r,i=ot(e),o=P(e,t,i),c="border-box"===me.css(e,"boxSizing",!1,i);return it.test(o)?o:(r=c&&(le.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+F(e,t,n||(c?"border":"content"),r,i)+"px")}function O(e,t,n,r,i){return new O.prototype.init(e,t,n,r,i)}function M(){mt&&(!1===te.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(M):e.setTimeout(M,me.fx.interval),me.fx.tick())}function j(){return e.setTimeout(function(){lt=void 0}),lt=me.now()}function Y(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function $(e,t,n){for(var r,i=(q.tweeners[t]||[]).concat(q.tweeners["*"]),o=0,c=i.length;o<c;o++)if(r=i[o].call(n,t,e))return r}function z(e,t){var n,r,i,o,c;for(n in e)if(r=me.camelCase(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(c=me.cssHooks[r])&&"expand"in c){o=c.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function q(e,t,n){var r,i,o=0,c=q.prefilters.length,s=me.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=lt||j(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),o=0,c=u.tweens.length;o<c;o++)u.tweens[o].run(r);return s.notifyWith(e,[u,r,n]),r<1&&c?n:(c||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:me.extend({},t),opts:me.extend(!0,{specialEasing:{},easing:me.easing._default},n),originalProperties:t,originalOptions:n,startTime:lt||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=me.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),p=u.props;for(z(p,u.opts.specialEasing);o<c;o++)if(r=q.prefilters[o].call(u,e,p,u.opts))return me.isFunction(r.stop)&&(me._queueHooks(u.elem,u.opts.queue).stop=me.proxy(r.stop,r)),r;return me.map(p,$,u),me.isFunction(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),me.fx.timer(me.extend(a,{elem:e,anim:u,queue:u.opts.queue})),u}function Z(e){return(e.match(we)||[]).join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e,t,n,r){var i;if(Array.isArray(t))me.each(t,function(t,i){n||It.test(e)?r(e,i):K(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==me.type(t))r(e,t);else for(i in t)K(e+"["+i+"]",t[i],n,r)}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(we)||[];if(me.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function G(e,t,n,r){function i(s){var a;return o[s]=!0,me.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||c||o[u]?c?!(a=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),a}var o={},c=e===Ft;return i(t.dataTypes[0])||!o["*"]&&i("*")}function V(e,t){var n,r,i=me.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&me.extend(!0,e,r),e}function J(e,t,n){for(var r,i,o,c,s=e.contents,a=e.dataTypes;"*"===a[0];)a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){a.unshift(i);break}if(a[0]in n)o=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){o=i;break}c||(c=i)}o=o||c}if(o)return o!==a[0]&&a.unshift(o),n[o]}function Q(e,t,n,r){var i,o,c,s,a,u={},p=e.dataTypes.slice();if(p[1])for(c in e.converters)u[c.toLowerCase()]=e.converters[c];for(o=p.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=o,o=p.shift())if("*"===o)o=a;else if("*"!==a&&a!==o){if(!(c=u[a+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(c=u[a+" "+s[0]]||u["* "+s[0]])){!0===c?c=u[i]:!0!==u[i]&&(o=s[0],p.unshift(s[1]));break}if(!0!==c)if(c&&e.throws)t=c(t);else try{t=c(t)}catch(e){return{state:"parsererror",error:c?e:"No conversion from "+a+" to "+o}}}return{state:"success",data:t}}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,ie=ee.concat,oe=ee.push,ce=ee.indexOf,se={},ae=se.toString,ue=se.hasOwnProperty,pe=ue.toString,de=pe.call(Object),le={},me=function(e,t){return new me.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^-ms-/,ge=/-([a-z])/g,ye=function(e,t){return t.toUpperCase()};me.fn=me.prototype={jquery:"3.2.1",constructor:me,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=me.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return me.each(this,e)},map:function(e){return this.pushStack(me.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},me.extend=me.fn.extend=function(){var e,t,n,r,i,o,c=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof c&&(u=c,c=arguments[s]||{},s++),"object"==typeof c||me.isFunction(c)||(c={}),s===a&&(c=this,s--);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=c[t],c!==(r=e[t])&&(u&&r&&(me.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&me.isPlainObject(n)?n:{},c[t]=me.extend(u,o,r)):void 0!==r&&(c[t]=r));return c},me.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===me.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=me.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ae.call(e))&&(!(t=ne(e))||"function"==typeof(n=ue.call(t,"constructor")&&t.constructor)&&pe.call(n)===de)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[ae.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(he,"ms-").replace(ge,ye)},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?me.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ce.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,c=!n;i<o;i++)!t(e[i],i)!==c&&r.push(e[i]);return r},map:function(e,t,n){var i,o,c=0,s=[];if(r(e))for(i=e.length;c<i;c++)null!=(o=t(e[c],c,n))&&s.push(o);else for(c in e)null!=(o=t(e[c],c,n))&&s.push(o);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),me.isFunction(e))return r=re.call(arguments,2),i=function(){return e.apply(t||this,r.concat(re.call(arguments)))},i.guid=e.guid=e.guid||me.guid++,i},now:Date.now,support:le}),"function"==typeof Symbol&&(me.fn[Symbol.iterator]=ee[Symbol.iterator]),me.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var Ce=function(e){function t(e,t,n,r){var i,o,c,s,a,p,l,m=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&((t?t.ownerDocument||t:O)!==S&&T(t),t=t||S,_)){if(11!==f&&(a=he.exec(e)))if(i=a[1]){if(9===f){if(!(c=t.getElementById(i)))return n;if(c.id===i)return n.push(c),n}else if(m&&(c=m.getElementById(i))&&F(t,c)&&c.id===i)return n.push(c),n}else{if(a[2])return G.apply(n,t.getElementsByTagName(e)),n;if((i=a[3])&&v.getElementsByClassName&&t.getElementsByClassName)return G.apply(n,t.getElementsByClassName(i)),n}if(v.qsa&&!z[e+" "]&&(!x||!x.test(e))){if(1!==f)m=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ke,ve):t.setAttribute("id",s=X),o=(p=D(e)).length;o--;)p[o]="#"+s+" "+d(p[o]);l=p.join(","),m=ge.test(e)&&u(t.parentNode)||t}if(l)try{return G.apply(n,m.querySelectorAll(l)),n}catch(e){}finally{s===X&&t.removeAttribute("id")}}}return E(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[X]=!0,e}function i(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function c(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function a(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),c=o.length;c--;)n[i=o[c]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function l(e,t,n){var r=t.dir,i=t.next,o=i||r,c=n&&"parentNode"===o,s=j++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||c)return e(t,n,i);return!1}:function(t,n,a){var u,p,d,l=[M,s];if(a){for(;t=t[r];)if((1===t.nodeType||c)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||c)if(d=t[X]||(t[X]={}),p=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=p[o])&&u[0]===M&&u[1]===s)return l[2]=u[2];if(p[o]=l,l[2]=e(t,n,a))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function f(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function h(e,t,n,r,i){for(var o,c=[],s=0,a=e.length,u=null!=t;s<a;s++)(o=e[s])&&(n&&!n(o,r,i)||(c.push(o),u&&t.push(s)));return c}function g(e,t,n,i,o,c){return i&&!i[X]&&(i=g(i)),o&&!o[X]&&(o=g(o,c)),r(function(r,c,s,a){var u,p,d,l=[],m=[],g=c.length,y=r||f(t||"*",s.nodeType?[s]:s,[]),C=!e||!r&&t?y:h(y,l,e,s,a),k=n?o||(r?e:g||i)?[]:c:C;if(n&&n(C,k,s,a),i)for(u=h(k,m),i(u,[],s,a),p=u.length;p--;)(d=u[p])&&(k[m[p]]=!(C[m[p]]=d));if(r){if(o||e){if(o){for(u=[],p=k.length;p--;)(d=k[p])&&u.push(C[p]=d);o(null,k=[],u,a)}for(p=k.length;p--;)(d=k[p])&&(u=o?J(r,d):l[p])>-1&&(r[u]=!(c[u]=d))}}else k=h(k===c?k.splice(g,k.length):k),o?o(null,c,k,a):G.apply(c,k)})}function y(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],c=o||b.relative[" "],s=o?1:0,a=l(function(e){return e===t},c,!0),u=l(function(e){return J(t,e)>-1},c,!0),p=[function(e,n,r){var i=!o&&(r||n!==R)||((t=n).nodeType?a(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=b.relative[e[s].type])p=[l(m(p),n)];else{if((n=b.filter[e[s].type].apply(null,e[s].matches))[X]){for(r=++s;r<i&&!b.relative[e[r].type];r++);return g(s>1&&m(p),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&d(e))}p.push(n)}return m(p)}function C(e,n){var i=n.length>0,o=e.length>0,c=function(r,c,s,a,u){var p,d,l,m=0,f="0",g=r&&[],y=[],C=R,k=r||o&&b.find.TAG("*",u),v=M+=null==C?1:Math.random()||.1,A=k.length;for(u&&(R=c===S||c||u);f!==A&&null!=(p=k[f]);f++){if(o&&p){for(d=0,c||p.ownerDocument===S||(T(p),s=!_);l=e[d++];)if(l(p,c||S,s)){a.push(p);break}u&&(M=v)}i&&((p=!l&&p)&&m--,r&&g.push(p))}if(m+=f,i&&f!==m){for(d=0;l=n[d++];)l(g,y,c,s);if(r){if(m>0)for(;f--;)g[f]||y[f]||(y[f]=K.call(a));y=h(y)}G.apply(a,y),u&&!r&&y.length>0&&m+n.length>1&&t.uniqueSort(a)}return u&&(M=v,R=C),g};return i?r(c):c}var k,v,b,A,L,D,I,E,R,w,H,T,S,P,_,x,B,N,F,X="sizzle"+1*new Date,O=e.document,M=0,j=0,Y=n(),$=n(),z=n(),q=function(e,t){return e===t&&(H=!0),0},Z={}.hasOwnProperty,U=[],K=U.pop,W=U.push,G=U.push,V=U.slice,J=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ce=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ae=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(re),pe=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},le=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,he=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),Ce=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ke=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ve=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},be=function(){T()},Ae=l(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{G.apply(U=V.call(O.childNodes),O.childNodes),U[O.childNodes.length].nodeType}catch(e){G={apply:U.length?function(e,t){W.apply(e,V.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}v=t.support={},L=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:O;return r!==S&&9===r.nodeType&&r.documentElement?(S=r,P=S.documentElement,_=!L(S),O!==S&&(n=S.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",be,!1):n.attachEvent&&n.attachEvent("onunload",be)),v.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=i(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=fe.test(S.getElementsByClassName),v.getById=i(function(e){return P.appendChild(e).id=X,!S.getElementsByName||!S.getElementsByName(X).length}),v.getById?(b.filter.ID=function(e){var t=e.replace(ye,Ce);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var t=e.replace(ye,Ce);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=v.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):v.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=v.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&_)return t.getElementsByClassName(e)},B=[],x=[],(v.qsa=fe.test(S.querySelectorAll))&&(i(function(e){P.appendChild(e).innerHTML="<a id='"+X+"'></a><select id='"+X+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&x.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||x.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+X+"-]").length||x.push("~="),e.querySelectorAll(":checked").length||x.push(":checked"),e.querySelectorAll("a#"+X+"+*").length||x.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&x.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&x.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&x.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),x.push(",.*:")})),(v.matchesSelector=fe.test(N=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){v.disconnectedMatch=N.call(e,"*"),N.call(e,"[s!='']:x"),B.push("!=",re)}),x=x.length&&new RegExp(x.join("|")),B=B.length&&new RegExp(B.join("|")),t=fe.test(P.compareDocumentPosition),F=t||fe.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return H=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===S||e.ownerDocument===O&&F(O,e)?-1:t===S||t.ownerDocument===O&&F(O,t)?1:w?J(w,e)-J(w,t):0:4&n?-1:1)}:function(e,t){if(e===t)return H=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e===S?-1:t===S?1:i?-1:o?1:w?J(w,e)-J(w,t):0;if(i===o)return c(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?c(s[r],a[r]):s[r]===O?-1:a[r]===O?1:0},S):S},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==S&&T(e),n=n.replace(ae,"='$1']"),v.matchesSelector&&_&&!z[n+" "]&&(!B||!B.test(n))&&(!x||!x.test(n)))try{var r=N.call(e,n);if(r||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,S,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==S&&T(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==S&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&Z.call(b.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:v.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(ke,ve)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(H=!v.detectDuplicates,w=!v.sortStable&&e.slice(0),e.sort(q),H){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return w=null,e},A=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=A(t);return n},(b=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=D(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Y[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&Y(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),c="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var u,p,d,l,m,f,h=o!==c?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),C=!a&&!s,k=!1;if(g){if(o){for(;h;){for(l=t;l=l[h];)if(s?l.nodeName.toLowerCase()===y:1===l.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[c?g.firstChild:g.lastChild],c&&C){for(k=(m=(u=(p=(d=(l=g)[X]||(l[X]={}))[l.uniqueID]||(d[l.uniqueID]={}))[e]||[])[0]===M&&u[1])&&u[2],l=m&&g.childNodes[m];l=++m&&l&&l[h]||(k=m=0)||f.pop();)if(1===l.nodeType&&++k&&l===t){p[e]=[M,m,k];break}}else if(C&&(k=m=(u=(p=(d=(l=t)[X]||(l[X]={}))[l.uniqueID]||(d[l.uniqueID]={}))[e]||[])[0]===M&&u[1]),!1===k)for(;(l=++m&&l&&l[h]||(k=m=0)||f.pop())&&((s?l.nodeName.toLowerCase()!==y:1!==l.nodeType)||!++k||(C&&((p=(d=l[X]||(l[X]={}))[l.uniqueID]||(d[l.uniqueID]={}))[e]=[M,k]),l!==t)););return(k-=i)===r||k%r==0&&k/r>=0}}},PSEUDO:function(e,n){var i,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[X]?o(n):o.length>1?(i=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),c=i.length;c--;)e[r=J(e,i[c])]=!(t[r]=i[c])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=I(e.replace(oe,"$1"));return i[X]?r(function(e,t,n,r){for(var o,c=i(e,null,r,[]),s=e.length;s--;)(o=c[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,Ce),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,Ce).toLowerCase(),function(t){var n;do{if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return le.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[k]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(k);for(k in{submit:!0,reset:!0})b.pseudos[k]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(k);return p.prototype=b.filters=b.pseudos,b.setFilters=new p,D=t.tokenize=function(e,n){var r,i,o,c,s,a,u,p=$[e+" "];if(p)return n?0:p.slice(0);for(s=e,a=[],u=b.preFilter;s;){r&&!(i=ce.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(c in b.filter)!(i=de[c].exec(s))||u[c]&&!(i=u[c](i))||(r=i.shift(),o.push({value:r,type:c,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):$(e,a).slice(0)},I=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=D(e)),n=t.length;n--;)(o=y(t[n]))[X]?r.push(o):i.push(o);(o=z(e,C(i,r))).selector=e}return o},E=t.select=function(e,t,n,r){var i,o,c,s,a,p="function"==typeof e&&e,l=!r&&D(e=p.selector||e);if(n=n||[],1===l.length){if((o=l[0]=l[0].slice(0)).length>2&&"ID"===(c=o[0]).type&&9===t.nodeType&&_&&b.relative[o[1].type]){if(!(t=(b.find.ID(c.matches[0].replace(ye,Ce),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(c=o[i],!b.relative[s=c.type]);)if((a=b.find[s])&&(r=a(c.matches[0].replace(ye,Ce),ge.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&d(o)))return G.apply(n,r),n;break}}return(p||I(e,l))(r,t,!_,n,!t||ge.test(e)&&u(t.parentNode)||t),n},v.sortStable=X.split("").sort(q).join("")===X,v.detectDuplicates=!!H,T(),v.sortDetached=i(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Q,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);me.find=Ce,me.expr=Ce.selectors,me.expr[":"]=me.expr.pseudos,me.uniqueSort=me.unique=Ce.uniqueSort,me.text=Ce.getText,me.isXMLDoc=Ce.isXML,me.contains=Ce.contains,me.escapeSelector=Ce.escape;var ke=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&me(e).is(n))break;r.push(e)}return r},ve=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},be=me.expr.match.needsContext,Ae=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Le=/^.[^:#\[\.,]*$/;me.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?me.find.matchesSelector(r,e)?[r]:[]:me.find.matches(e,me.grep(t,function(e){return 1===e.nodeType}))},me.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(me(e).filter(function(){for(t=0;t<r;t++)if(me.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)me.find(e,i[t],n);return r>1?me.uniqueSort(n):n},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&be.test(e)?me(e):e||[],!1).length}});var De,Ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(me.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||De,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ie.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof me?t[0]:t,me.merge(this,me.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Ae.test(r[1])&&me.isPlainObject(t))for(r in t)me.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=te.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):me.isFunction(e)?void 0!==n.ready?n.ready(e):e(me):me.makeArray(e,this)}).prototype=me.fn,De=me(te);var Ee=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};me.fn.extend({has:function(e){var t=me(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(me.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],c="string"!=typeof e&&me(e);if(!be.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(c?c.index(n)>-1:1===n.nodeType&&me.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?me.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ce.call(me(e),this[0]):ce.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(me.uniqueSort(me.merge(this.get(),me(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),me.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ke(e,"parentNode")},parentsUntil:function(e,t,n){return ke(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return ke(e,"nextSibling")},prevAll:function(e){return ke(e,"previousSibling")},nextUntil:function(e,t,n){return ke(e,"nextSibling",n)},prevUntil:function(e,t,n){return ke(e,"previousSibling",n)},siblings:function(e){return ve((e.parentNode||{}).firstChild,e)},children:function(e){return ve(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),me.merge([],e.childNodes))}},function(e,t){me.fn[e]=function(n,r){var i=me.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=me.filter(r,i)),this.length>1&&(Re[e]||me.uniqueSort(i),Ee.test(e)&&i.reverse()),this.pushStack(i)}});var we=/[^\x20\t\r\n\f]+/g;me.Callbacks=function(e){e="string"==typeof e?s(e):me.extend({},e);var t,n,r,i,o=[],c=[],a=-1,u=function(){for(i=i||e.once,r=t=!0;c.length;a=-1)for(n=c.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},p={add:function(){return o&&(n&&!t&&(a=o.length-1,c.push(n)),function t(n){me.each(n,function(n,r){me.isFunction(r)?e.unique&&p.has(r)||o.push(r):r&&r.length&&"string"!==me.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return me.each(arguments,function(e,t){for(var n;(n=me.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?me.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=c=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=c=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],c.push(n),t||u()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},me.extend({Deferred:function(t){var n=[["notify","progress",me.Callbacks("memory"),me.Callbacks("memory"),2],["resolve","done",me.Callbacks("once memory"),me.Callbacks("once memory"),0,"resolved"],["reject","fail",me.Callbacks("once memory"),me.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return me.Deferred(function(t){me.each(n,function(n,r){var i=me.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&me.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,p=arguments,d=function(){var e,d;if(!(t<c)){if((e=r.apply(s,p))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,me.isFunction(d)?i?d.call(e,o(c,n,a,i),o(c,n,u,i)):(c++,d.call(e,o(c,n,a,i),o(c,n,u,i),o(c,n,a,n.notifyWith))):(r!==a&&(s=void 0,p=[e]),(i||n.resolveWith)(s,p))}},l=i?d:function(){try{d()}catch(e){me.Deferred.exceptionHook&&me.Deferred.exceptionHook(e,l.stackTrace),t+1>=c&&(r!==u&&(s=void 0,p=[e]),n.rejectWith(s,p))}};t?l():(me.Deferred.getStackHook&&(l.stackTrace=me.Deferred.getStackHook()),e.setTimeout(l))}}var c=0;return me.Deferred(function(e){n[0][3].add(o(0,e,me.isFunction(i)?i:a,e.notifyWith)),n[1][3].add(o(0,e,me.isFunction(t)?t:a)),n[2][3].add(o(0,e,me.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?me.extend(e,i):i}},o={};return me.each(n,function(e,t){var c=t[2],s=t[5];i[t[1]]=c.add,s&&c.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),c.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=c.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=re.call(arguments),o=me.Deferred(),c=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?re.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(p(e,o.done(c(n)).resolve,o.reject,!t),"pending"===o.state()||me.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)p(i[n],c(n),o.reject);return o.promise()}});var He=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;me.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&He.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},me.readyException=function(t){e.setTimeout(function(){throw t})};var Te=me.Deferred();me.fn.ready=function(e){return Te.then(e).catch(function(e){me.readyException(e)}),this},me.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--me.readyWait:me.isReady)||(me.isReady=!0,!0!==e&&--me.readyWait>0||Te.resolveWith(te,[me]))}}),me.ready.then=Te.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(me.ready):(te.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var Se=function(e,t,n,r,i,o,c){var s=0,a=e.length,u=null==n;if("object"===me.type(n)){i=!0;for(s in n)Se(e,t,s,n[s],!0,o,c)}else if(void 0!==r&&(i=!0,me.isFunction(r)||(c=!0),u&&(c?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(me(e),n)})),t))for(;s<a;s++)t(e[s],n,c?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):a?t(e[0],n):o},Pe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};l.uid=1,l.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Pe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[me.camelCase(t)]=n;else for(r in t)i[me.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][me.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(me.camelCase):(t=me.camelCase(t))in r?[t]:t.match(we)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||me.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!me.isEmptyObject(t)}};var _e=new l,xe=new l,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;me.extend({hasData:function(e){return xe.hasData(e)||_e.hasData(e)},data:function(e,t,n){return xe.access(e,t,n)},removeData:function(e,t){xe.remove(e,t)},_data:function(e,t,n){return _e.access(e,t,n)},_removeData:function(e,t){_e.remove(e,t)}}),me.fn.extend({data:function(e,t){var n,r,i,o=this[0],c=o&&o.attributes;if(void 0===e){if(this.length&&(i=xe.get(o),1===o.nodeType&&!_e.get(o,"hasDataAttrs"))){for(n=c.length;n--;)c[n]&&0===(r=c[n].name).indexOf("data-")&&(r=me.camelCase(r.slice(5)),f(o,r,i[r]));_e.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){xe.set(this,e)}):Se(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=xe.get(o,e)))return n;if(void 0!==(n=f(o,e)))return n}else this.each(function(){xe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){xe.remove(this,e)})}}),me.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_e.get(e,t),n&&(!r||Array.isArray(n)?r=_e.access(e,t,me.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=me.queue(e,t),r=n.length,i=n.shift(),o=me._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){me.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _e.get(e,n)||_e.access(e,n,{empty:me.Callbacks("once memory").add(function(){_e.remove(e,[t+"queue",n])})})}}),me.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?me.queue(this[0],e):void 0===t?this:this.each(function(){var n=me.queue(this,e,t);me._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&me.dequeue(this,e)})},dequeue:function(e){return this.each(function(){me.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=me.Deferred(),o=this,c=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";c--;)(n=_e.get(o[c],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xe=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me.contains(e.ownerDocument,e)&&"none"===me.css(e,"display")},je=function(e,t,n,r){var i,o,c={};for(o in t)c[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=c[o];return i},Ye={};me.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?me(this).show():me(this).hide()})}});var $e=/^(?:checkbox|radio)$/i,ze=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qe=/^$|\/(?:java|ecma)script/i,Ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td;var Ue=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment().appendChild(te.createElement("div")),t=te.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),le.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ke=te.documentElement,We=/^key/,Ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ve=/^([^.]*)(?:\.(.+)|)/;me.event={global:{},add:function(e,t,n,r,i){var o,c,s,a,u,p,d,l,m,f,h,g=_e.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&me.find.matchesSelector(Ke,i),n.guid||(n.guid=me.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(t){return void 0!==me&&me.event.triggered!==t.type?me.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(we)||[""]).length;u--;)m=h=(s=Ve.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),m&&(d=me.event.special[m]||{},m=(i?d.delegateType:d.bindType)||m,d=me.event.special[m]||{},p=me.extend({type:m,origType:h,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&me.expr.match.needsContext.test(i),namespace:f.join(".")},o),(l=a[m])||((l=a[m]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,c)||e.addEventListener&&e.addEventListener(m,c)),d.add&&(d.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),i?l.splice(l.delegateCount++,0,p):l.push(p),me.event.global[m]=!0)},remove:function(e,t,n,r,i){var o,c,s,a,u,p,d,l,m,f,h,g=_e.hasData(e)&&_e.get(e);if(g&&(a=g.events)){for(u=(t=(t||"").match(we)||[""]).length;u--;)if(s=Ve.exec(t[u])||[],m=h=s[1],f=(s[2]||"").split(".").sort(),m){for(d=me.event.special[m]||{},l=a[m=(r?d.delegateType:d.bindType)||m]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=l.length;o--;)p=l[o],!i&&h!==p.origType||n&&n.guid!==p.guid||s&&!s.test(p.namespace)||r&&r!==p.selector&&("**"!==r||!p.selector)||(l.splice(o,1),p.selector&&l.delegateCount--,d.remove&&d.remove.call(e,p));c&&!l.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||me.removeEvent(e,m,g.handle),delete a[m])}else for(m in a)me.event.remove(e,m+t[u],n,r,!0);me.isEmptyObject(a)&&_e.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,c,s=me.event.fix(e),a=new Array(arguments.length),u=(_e.get(this,"events")||{})[s.type]||[],p=me.event.special[s.type]||{};for(a[0]=s,t=1;t<arguments.length;t++)a[t]=arguments[t];if(s.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,s)){for(c=me.event.handlers.call(this,s,u),t=0;(i=c[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((me.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,c,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],c={},n=0;n<a;n++)void 0===c[i=(r=t[n]).selector+" "]&&(c[i]=r.needsContext?me(i,this).index(u)>-1:me.find(i,this,null,[u]).length),c[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,a<t.length&&s.push({elem:u,handlers:t.slice(a)}),s},addProp:function(e,t){Object.defineProperty(me.Event.prototype,e,{enumerable:!0,configurable:!0,get:me.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[me.expando]?e:new me.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==L()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===L()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},me.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},me.Event=function(e,t){if(!(this instanceof me.Event))return new me.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?b:A,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&me.extend(this,t),this.timeStamp=e&&e.timeStamp||me.now(),this[me.expando]=!0},me.Event.prototype={constructor:me.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},me.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&We.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ge.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},me.event.addProp),me.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){me.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||me.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),me.fn.extend({on:function(e,t,n,r){return D(this,e,t,n,r)},one:function(e,t,n,r){return D(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,me(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=A),this.each(function(){me.event.remove(this,e,n,t)})}});var Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Qe=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;me.extend({htmlPrefilter:function(e){return e.replace(Je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,c,s=e.cloneNode(!0),a=me.contains(e.ownerDocument,e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||me.isXMLDoc(e)))for(c=C(s),r=0,i=(o=C(e)).length;r<i;r++)H(o[r],c[r]);if(t)if(n)for(o=o||C(e),c=c||C(s),r=0,i=o.length;r<i;r++)w(o[r],c[r]);else w(e,s);return(c=C(s,"script")).length>0&&k(c,!a&&C(e,"script")),s},cleanData:function(e){for(var t,n,r,i=me.event.special,o=0;void 0!==(n=e[o]);o++)if(Pe(n)){if(t=n[_e.expando]){if(t.events)for(r in t.events)i[r]?me.event.remove(n,r):me.removeEvent(n,r,t.handle);n[_e.expando]=void 0}n[xe.expando]&&(n[xe.expando]=void 0)}}}),me.fn.extend({detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Se(this,function(e){return void 0===e?me.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,e).appendChild(e)})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=I(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(me.cleanData(C(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return me.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Qe.test(e)&&!Ze[(ze.exec(e)||["",""])[1].toLowerCase()]){e=me.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(me.cleanData(C(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;me.inArray(this,e)<0&&(me.cleanData(C(this)),n&&n.replaceChild(t,this))},e)}}),me.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){me.fn[e]=function(e){for(var n,r=[],i=me(e),o=i.length-1,c=0;c<=o;c++)n=c===o?this:this.clone(!0),me(i[c])[t](n),oe.apply(r,n.get());return this.pushStack(r)}});var rt=/^margin/,it=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),ot=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ke.appendChild(c);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Ke.removeChild(c),s=null}}var n,r,i,o,c=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===s.style.backgroundClip,c.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.appendChild(s),me.extend(le,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var ct=/^(none|table(?!-c[ea]).+)/,st=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},pt=["Webkit","Moz","ms"],dt=te.createElement("div").style;me.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,c,s=me.camelCase(t),a=st.test(t),u=e.style;if(a||(t=B(s)),c=me.cssHooks[t]||me.cssHooks[s],void 0===n)return c&&"get"in c&&void 0!==(i=c.get(e,!1,r))?i:u[t];"string"==(o=typeof n)&&(i=Xe.exec(n))&&i[1]&&(n=h(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(me.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),c&&"set"in c&&void 0===(n=c.set(e,n,r))||(a?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,c,s=me.camelCase(t);return st.test(t)||(t=B(s)),(c=me.cssHooks[t]||me.cssHooks[s])&&"get"in c&&(i=c.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in ut&&(i=ut[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),me.each(["height","width"],function(e,t){me.cssHooks[t]={get:function(e,n,r){if(n)return!ct.test(me.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?X(e,t,r):je(e,at,function(){return X(e,t,r)})},set:function(e,n,r){var i,o=r&&ot(e),c=r&&F(e,t,r,"border-box"===me.css(e,"boxSizing",!1,o),o);return c&&(i=Xe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=me.css(e,t)),N(0,n,c)}}}),me.cssHooks.marginLeft=_(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),me.each({margin:"",padding:"",border:"Width"},function(e,t){me.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Oe[r]+t]=o[r]||o[r-2]||o[0];return i}},rt.test(e)||(me.cssHooks[e+t].set=N)}),me.fn.extend({css:function(e,t){return Se(this,function(e,t,n){var r,i,o={},c=0;if(Array.isArray(t)){for(r=ot(e),i=t.length;c<i;c++)o[t[c]]=me.css(e,t[c],!1,r);return o}return void 0!==n?me.style(e,t,n):me.css(e,t)},e,t,arguments.length>1)}}),me.Tween=O,O.prototype={constructor:O,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||me.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(me.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=me.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=me.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){me.fx.step[e.prop]?me.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[me.cssProps[e.prop]]&&!me.cssHooks[e.prop]?e.elem[e.prop]=e.now:me.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},me.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},me.fx=O.prototype.init,me.fx.step={};var lt,mt,ft=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;me.Animation=me.extend(q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,Xe.exec(t),n),n}]},tweener:function(e,t){me.isFunction(e)?(t=e,e=["*"]):e=e.match(we);for(var n,r=0,i=e.length;r<i;r++)n=e[r],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,c,s,a,u,p,d="width"in t||"height"in t,l=this,m={},f=e.style,h=e.nodeType&&Me(e),g=_e.get(e,"fxshow");n.queue||(null==(c=me._queueHooks(e,"fx")).unqueued&&(c.unqueued=0,s=c.empty.fire,c.empty.fire=function(){c.unqueued||s()}),c.unqueued++,l.always(function(){l.always(function(){c.unqueued--,me.queue(e,"fx").length||c.empty.fire()})}));for(r in t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}m[r]=g&&g[r]||me.style(e,r)}if((a=!me.isEmptyObject(t))||!me.isEmptyObject(m)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=_e.get(e,"display")),"none"===(p=me.css(e,"display"))&&(u?p=u:(y([e],!0),u=e.style.display||u,p=me.css(e,"display"),y([e]))),("inline"===p||"inline-block"===p&&null!=u)&&"none"===me.css(e,"float")&&(a||(l.done(function(){f.display=u}),null==u&&(p=f.display,u="none"===p?"":p)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",l.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),a=!1;for(r in m)a||(g?"hidden"in g&&(h=g.hidden):g=_e.access(e,"fxshow",{display:u}),o&&(g.hidden=!h),h&&y([e],!0),l.done(function(){h||y([e]),_e.remove(e,"fxshow");for(r in m)me.style(e,r,m[r])})),a=$(h?g[r]:0,r,l),r in g||(g[r]=a.start,h&&(a.end=a.start,a.start=0))}}],prefilter:function(e,t){t?q.prefilters.unshift(e):q.prefilters.push(e)}}),me.speed=function(e,t,n){var r=e&&"object"==typeof e?me.extend({},e):{complete:n||!n&&t||me.isFunction(e)&&e,duration:e,easing:n&&t||t&&!me.isFunction(t)&&t};return me.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in me.fx.speeds?r.duration=me.fx.speeds[r.duration]:r.duration=me.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){me.isFunction(r.old)&&r.old.call(this),r.queue&&me.dequeue(this,r.queue)},r},me.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=me.isEmptyObject(e),o=me.speed(t,n,r),c=function(){var t=q(this,me.extend({},e),o);(i||_e.get(this,"finish"))&&t.stop(!0)};return c.finish=c,i||!1===o.queue?this.each(c):this.queue(o.queue,c)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=me.timers,c=_e.get(this);if(i)c[i]&&c[i].stop&&r(c[i]);else for(i in c)c[i]&&c[i].stop&&ht.test(i)&&r(c[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||me.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=_e.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=me.timers,c=r?r.length:0;for(n.finish=!0,me.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<c;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),me.each(["toggle","show","hide"],function(e,t){var n=me.fn[t];me.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Y(t,!0),e,r,i)}}),me.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){me.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),me.timers=[],me.fx.tick=function(){var e,t=0,n=me.timers;for(lt=me.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||me.fx.stop(),lt=void 0},me.fx.timer=function(e){me.timers.push(e),me.fx.start()},me.fx.interval=13,me.fx.start=function(){mt||(mt=!0,M())},me.fx.stop=function(){mt=null},me.fx.speeds={slow:600,fast:200,_default:400},me.fn.delay=function(t,n){return t=me.fx?me.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=te.createElement("input"),t=te.createElement("select").appendChild(te.createElement("option"));e.type="checkbox",le.checkOn=""!==e.value,le.optSelected=t.selected,(e=te.createElement("input")).value="t",e.type="radio",le.radioValue="t"===e.value}();var gt,yt=me.expr.attrHandle;me.fn.extend({attr:function(e,t){return Se(this,me.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){me.removeAttr(this,e)})}}),me.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?me.prop(e,t,n):(1===o&&me.isXMLDoc(e)||(i=me.attrHooks[t.toLowerCase()]||(me.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void me.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=me.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(we);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?me.removeAttr(e,n):e.setAttribute(n,n),n}},me.each(me.expr.match.bool.source.match(/\w+/g),function(e,t){var n=yt[t]||me.find.attr;yt[t]=function(e,t,r){var i,o,c=t.toLowerCase();return r||(o=yt[c],yt[c]=i,i=null!=n(e,t,r)?c:null,yt[c]=o),i}});var Ct=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;me.fn.extend({prop:function(e,t){return Se(this,me.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[me.propFix[e]||e]})}}),me.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&me.isXMLDoc(e)||(t=me.propFix[t]||t,i=me.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=me.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),le.optSelected||(me.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),me.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){me.propFix[this.toLowerCase()]=this}),me.fn.extend({addClass:function(e){var t,n,r,i,o,c,s,a=0;if(me.isFunction(e))return this.each(function(t){me(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[a++];)if(i=U(n),r=1===n.nodeType&&" "+Z(i)+" "){for(c=0;o=t[c++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=Z(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,c,s,a=0;if(me.isFunction(e))return this.each(function(t){me(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[a++];)if(i=U(n),r=1===n.nodeType&&" "+Z(i)+" "){for(c=0;o=t[c++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=Z(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):me.isFunction(e)?this.each(function(n){me(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=me(this),o=e.match(we)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=U(this))&&_e.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":_e.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Z(U(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;me.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=me.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,me(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=me.map(i,function(e){return null==e?"":e+""})),(t=me.valHooks[this.type]||me.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=me.valHooks[i.type]||me.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(vt,""):null==n?"":n}}}),me.extend({valHooks:{option:{get:function(e){var t=me.find.attr(e,"value");return null!=t?t:Z(me.text(e))}},select:{get:function(e){var t,n,r,o=e.options,c=e.selectedIndex,s="select-one"===e.type,a=s?null:[],u=s?c+1:o.length;for(r=c<0?u:s?c:0;r<u;r++)if(((n=o[r]).selected||r===c)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=me(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=me.makeArray(t),c=i.length;c--;)((r=i[c]).selected=me.inArray(me.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),me.each(["radio","checkbox"],function(){me.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=me.inArray(me(e).val(),t)>-1}},le.checkOn||(me.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;me.extend(me.event,{trigger:function(t,n,r,i){var o,c,s,a,u,p,d,l=[r||te],m=ue.call(t,"type")?t.type:t,f=ue.call(t,"namespace")?t.namespace.split("."):[];if(c=s=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!bt.test(m+me.event.triggered)&&(m.indexOf(".")>-1&&(m=(f=m.split(".")).shift(),f.sort()),u=m.indexOf(":")<0&&"on"+m,t=t[me.expando]?t:new me.Event(m,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:me.makeArray(n,[t]),d=me.event.special[m]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!me.isWindow(r)){for(a=d.delegateType||m,bt.test(a+m)||(c=c.parentNode);c;c=c.parentNode)l.push(c),s=c;s===(r.ownerDocument||te)&&l.push(s.defaultView||s.parentWindow||e)}for(o=0;(c=l[o++])&&!t.isPropagationStopped();)t.type=o>1?a:d.bindType||m,(p=(_e.get(c,"events")||{})[t.type]&&_e.get(c,"handle"))&&p.apply(c,n),(p=u&&c[u])&&p.apply&&Pe(c)&&(t.result=p.apply(c,n),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(l.pop(),n)||!Pe(r)||u&&me.isFunction(r[m])&&!me.isWindow(r)&&((s=r[u])&&(r[u]=null),me.event.triggered=m,r[m](),me.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=me.extend(new me.Event,n,{type:e,isSimulated:!0});me.event.trigger(r,null,t)}}),me.fn.extend({trigger:function(e,t){return this.each(function(){me.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return me.event.trigger(e,t,n,!0)}}),me.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){me.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),me.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),le.focusin="onfocusin"in e,le.focusin||me.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){me.event.simulate(t,e.target,me.event.fix(e))};me.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=_e.access(r,t);i||r.addEventListener(e,n,!0),_e.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=_e.access(r,t)-1;i?_e.access(r,t,i):(r.removeEventListener(e,n,!0),_e.remove(r,t))}}});var At=e.location,Lt=me.now(),Dt=/\?/;me.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||me.error("Invalid XML: "+t),n};var It=/\[\]$/,Et=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;me.param=function(e,t){var n,r=[],i=function(e,t){var n=me.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!me.isPlainObject(e))me.each(e,function(){i(this.name,this.value)});else for(n in e)K(n,e[n],t,i);return r.join("&")},me.fn.extend({serialize:function(){return me.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=me.prop(this,"elements");return e?me.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!me(this).is(":disabled")&&wt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=me(this).val();return null==n?null:Array.isArray(n)?me.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Ht=/%20/g,Tt=/#.*$/,St=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Nt={},Ft={},Xt="*/".concat("*"),Ot=te.createElement("a");Ot.href=At.href,me.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:_t.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":me.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,me.ajaxSettings),t):V(me.ajaxSettings,e)},ajaxPrefilter:W(Nt),ajaxTransport:W(Ft),ajax:function(t,n){function r(t,n,r,s){var u,l,m,v,b,A=n;p||(p=!0,a&&e.clearTimeout(a),i=void 0,c=s||"",L.readyState=t>0?4:0,u=t>=200&&t<300||304===t,r&&(v=J(f,L,r)),v=Q(f,v,L,u),u?(f.ifModified&&((b=L.getResponseHeader("Last-Modified"))&&(me.lastModified[o]=b),(b=L.getResponseHeader("etag"))&&(me.etag[o]=b)),204===t||"HEAD"===f.type?A="nocontent":304===t?A="notmodified":(A=v.state,l=v.data,u=!(m=v.error))):(m=A,!t&&A||(A="error",t<0&&(t=0))),L.status=t,L.statusText=(n||A)+"",u?y.resolveWith(h,[l,A,L]):y.rejectWith(h,[L,A,m]),L.statusCode(k),k=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[L,f,u?l:m]),C.fireWith(h,[L,A]),d&&(g.trigger("ajaxComplete",[L,f]),--me.active||me.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,c,s,a,u,p,d,l,m,f=me.ajaxSetup({},n),h=f.context||f,g=f.context&&(h.nodeType||h.jquery)?me(h):me.event,y=me.Deferred(),C=me.Callbacks("once memory"),k=f.statusCode||{},v={},b={},A="canceled",L={readyState:0,getResponseHeader:function(e){var t;if(p){if(!s)for(s={};t=Pt.exec(c);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?c:null},setRequestHeader:function(e,t){return null==p&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,v[e]=t),this},overrideMimeType:function(e){return null==p&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)L.always(e[L.status]);else for(t in e)k[t]=[k[t],e[t]];return this},abort:function(e){var t=e||A;return i&&i.abort(t),r(0,t),this}};if(y.promise(L),f.url=((t||f.url||At.href)+"").replace(Bt,At.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(we)||[""],null==f.crossDomain){u=te.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ot.protocol+"//"+Ot.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=me.param(f.data,f.traditional)),G(Nt,f,n,L),p)return L;(d=me.event&&f.global)&&0==me.active++&&me.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!xt.test(f.type),o=f.url.replace(Tt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ht,"+")):(m=f.url.slice(o.length),f.data&&(o+=(Dt.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(St,"$1"),m=(Dt.test(o)?"&":"?")+"_="+Lt+++m),f.url=o+m),f.ifModified&&(me.lastModified[o]&&L.setRequestHeader("If-Modified-Since",me.lastModified[o]),me.etag[o]&&L.setRequestHeader("If-None-Match",me.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&L.setRequestHeader("Content-Type",f.contentType),L.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Xt+"; q=0.01":""):f.accepts["*"]);for(l in f.headers)L.setRequestHeader(l,f.headers[l]);if(f.beforeSend&&(!1===f.beforeSend.call(h,L,f)||p))return L.abort();if(A="abort",C.add(f.complete),L.done(f.success),L.fail(f.error),i=G(Ft,f,n,L)){if(L.readyState=1,d&&g.trigger("ajaxSend",[L,f]),p)return L;f.async&&f.timeout>0&&(a=e.setTimeout(function(){L.abort("timeout")},f.timeout));try{p=!1,i.send(v,r)}catch(e){if(p)throw e;r(-1,e)}}else r(-1,"No Transport");return L},getJSON:function(e,t,n){return me.get(e,t,n,"json")},getScript:function(e,t){return me.get(e,void 0,t,"script")}}),me.each(["get","post"],function(e,t){me[t]=function(e,n,r,i){return me.isFunction(n)&&(i=i||r,r=n,n=void 0),me.ajax(me.extend({url:e,type:t,dataType:i,data:n,success:r},me.isPlainObject(e)&&e))}}),me._evalUrl=function(e){return me.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},me.fn.extend({wrapAll:function(e){var t;return this[0]&&(me.isFunction(e)&&(e=e.call(this[0])),t=me(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return me.isFunction(e)?this.each(function(t){me(this).wrapInner(e.call(this,t))}):this.each(function(){var t=me(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=me.isFunction(e);return this.each(function(n){me(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){me(this).replaceWith(this.childNodes)}),this}}),me.expr.pseudos.hidden=function(e){return!me.expr.pseudos.visible(e)},me.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},me.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Mt={0:200,1223:204},jt=me.ajaxSettings.xhr();le.cors=!!jt&&"withCredentials"in jt,le.ajax=jt=!!jt,me.ajaxTransport(function(t){var n,r;if(le.cors||jt&&!t.crossDomain)return{send:function(i,o){var c,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(c in t.xhrFields)s[c]=t.xhrFields[c];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(c in i)s.setRequestHeader(c,i[c]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Mt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),me.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),me.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return me.globalEval(e),e}}}),me.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),me.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=me("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],$t=/(=)\?(?=&|$)|\?\?/;me.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||me.expando+"_"+Lt++;return this[e]=!0,e}}),me.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,c,s=!1!==t.jsonp&&($t.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=me.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace($t,"$1"+i):!1!==t.jsonp&&(t.url+=(Dt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return c||me.error(i+" was not called"),c[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){c=arguments},r.always(function(){void 0===o?me(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),c&&me.isFunction(o)&&o(c[0]),c=o=void 0}),"script"}),le.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),me.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(le.createHTMLDocument?((r=(t=te.implementation.createHTMLDocument("")).createElement("base")).href=te.location.href,t.head.appendChild(r)):t=te),i=Ae.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=v([e],t,o),o&&o.length&&me(o).remove(),me.merge([],i.childNodes))},me.fn.load=function(e,t,n){var r,i,o,c=this,s=e.indexOf(" ");return s>-1&&(r=Z(e.slice(s)),e=e.slice(0,s)),me.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),c.length>0&&me.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,c.html(r?me("<div>").append(me.parseHTML(e)).find(r):e)}).always(n&&function(e,t){c.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},me.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){me.fn[t]=function(e){return this.on(t,e)}}),me.expr.pseudos.animated=function(e){return me.grep(me.timers,function(t){return e===t.elem}).length},me.offset={setOffset:function(e,t,n){var r,i,o,c,s,a,u=me.css(e,"position"),p=me(e),d={};"static"===u&&(e.style.position="relative"),s=p.offset(),o=me.css(e,"top"),a=me.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+a).indexOf("auto")>-1?(c=(r=p.position()).top,i=r.left):(c=parseFloat(o)||0,i=parseFloat(a)||0),me.isFunction(t)&&(t=t.call(e,n,me.extend({},s))),null!=t.top&&(d.top=t.top-s.top+c),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):p.css(d)}},me.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){me.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),t=o.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===me.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),i(e[0],"html")||(r=e.offset()),r={top:r.top+me.css(e[0],"borderTopWidth",!0),left:r.left+me.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-me.css(n,"marginTop",!0),left:t.left-r.left-me.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===me.css(e,"position");)e=e.offsetParent;return e||Ke})}}),me.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;me.fn[e]=function(r){return Se(this,function(e,r,i){var o;if(me.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),me.each(["top","left"],function(e,t){me.cssHooks[t]=_(le.pixelPosition,function(e,n){if(n)return n=P(e,t),it.test(n)?me(e).position()[t]+"px":n})}),me.each({Height:"height",Width:"width"},function(e,t){me.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){me.fn[r]=function(i,o){var c=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Se(this,function(t,n,i){var o;return me.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?me.css(t,n,s):me.style(t,n,i,s)},t,c?i:void 0,c)}})}),me.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),me.holdReady=function(e){e?me.readyWait++:me.ready(!0)},me.isArray=Array.isArray,me.parseJSON=JSON.parse,me.nodeName=i,"function"==typeof define&&define.amd&&define("jquery",[],function(){return me});var zt=e.jQuery,qt=e.$;return me.noConflict=function(t){return e.$===me&&(e.$=qt),t&&e.jQuery===me&&(e.jQuery=zt),me},t||(e.jQuery=e.$=me),me})},{}],20:[function(e,t,n){(function(e){!function(){"use strict";var n=function(){this.screen=null,this.addr=0,this.pattern=0,this.we=0,this.ssw=1,this.copy=0,this.CGRAM=[];for(var e=0;e<512;e++){this.CGRAM.push([0,0,0,0,0,0,0,0]);for(var t=0;t<8;t++)this.CGRAM[e][t]=this.getCGROMDATA(e,t)}};n.COPY=32,n.WE=16,n.SSW=8,n.ADDR=7,n.prototype.setScreen=function(e){this.screen=e,this.applySSW()},n.prototype.getCGROMDATA=function(t,n){if("mz700scrn"in e)return mz700scrn.CGROMDATA[t][n]},n.prototype.readMMIO=function(){},n.prototype.writeMMIO=function(e,t){switch(e){case 57360:this.pattern=255&t;break;case 57361:this.addr=1792&this.addr|(255&t)<<0;break;case 57362:this.addr=255&this.addr|(t&n.ADDR)<<8,this.copy=0==(t&n.COPY)?0:1;var r=this.we;this.we=0==(t&n.WE)?0:1,r&&!this.we&&this.write();var i=this.ssw;this.ssw=0==(t&n.SSW)?0:1,i!=this.ssw&&this.applySSW()}},n.prototype.applySSW=function(){null!=this.screen&&(0==this.ssw?this.screen.useCG(this.CGRAM):this.screen.useCGROM())},n.prototype.write=function(){var e=this.addr>>10&1,t=128+(this.addr>>3&127),n=256*e+t,r=this.addr>>0&7,i=0==this.copy?this.pattern:this.getCGROMDATA(n,r);this.CGRAM[n][r]=i,0==this.ssw&&null!=this.screen&&(this.screen.useCG(this.CGRAM),this.screen.redrawChar(e,t))},t.exports={create:function(){return new n}}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){!function(n){var r=null;if("context"in n)r=n.context;else{r={webMain:!1,webWorker:!1,nodeJs:!1,ie11:!1,requirable:!1};try{e&&(r.requirable=!0)}catch(e){}}var i=n.constructor.name;i?"window"in n?r.webMain=!0:"DedicatedWorkerGlobalScope"==i||"WorkerGlobalScope"==i?r.webWorker=!0:r.nodeJs=!0:(r.ie11=!0,"[object Window]"==n?r.webMain=!0:"[object WorkerGlobalScope]"==n&&(r.webWorker=!0)),r.nodeJs?t.exports=r:r.webWorker&&(n.module={exports:null},n.require=function(){}),r.exportModule=function(e,t){return r.requirable||(e in n&&t!==n[e]&&(console.log("context.exports: "+e+" is already exported."),console.log("predecessor: "+JSON.stringify(n[e])),console.log("override with: "+JSON.stringify(t))),n[e]=t),t},n.getModule=function(e){if(!("context"in n)||r.nodeJs||r.requirable)return!1;if(!(e in n&&n[e]))throw new Error(["module ",e,"not found"].join(" "));return n[e]},n.context=r}(Function("return this;")())},{}],22:[function(e,t,n){Number.prototype.round=function(e){void 0==e&&(e=0);var t=Math.pow(10,-e);return Math.round(this*t)/t},Number.prototype.bin=function(e){for(var t="",n=this;n>0;){t=(n%2?"1":"0")+t,n=Math.floor(n/2)}return e&&(t=(t=new Array(e+1).join("0")+t).substring(t.length-e)),t},Number.prototype.hex=function(e){var t=this.toString(16);return t.length>e?t:(new Array(e).join("0")+t).slice(-e)},Number.prototype.HEX=function(e){var t=this.toString(16).toUpperCase();return t.length>e?t:(new Array(e).join("0")+t).slice(-e)},Number.prototype.BIN=function(e){var t=this.toString(2).toUpperCase();return t.length>e?t:(new Array(e).join("0")+t).slice(-e)}},{}],23:[function(e,t,n){!function(){"use strict";function e(e){this.initialize(),this.setFrequency(e),this._handlers={change:[]}}e.SPEED_FACTOR=1.5,e.CPU_CLOCK=4e6,e.MNEMONIC_AVE_CYCLE=6,e.prototype.initialize=function(){this._out=!1,this._counter=0},e.prototype.setFrequency=function(t){this._counter_max=e.CPU_CLOCK/e.MNEMONIC_AVE_CYCLE/t},e.prototype.readOutput=function(){return this._out},e.prototype.count=function(){return this._counter+=e.SPEED_FACTOR,this._counter>=this._counter_max/2&&(this._out=!this._out,this._counter=0,this.fireEvent("change"),!0)},e.prototype.addEventListener=function(e,t){this._handlers[e].push(t)},e.prototype.fireEvent=function(e){this._handlers[e].forEach(function(e){e()})},t.exports=e}()},{}],24:[function(e,t,n){!function(){"use strict";function n(e){this._reset=!1,this.initialize(),this.setFrequency(e)}var r=e("../lib/flip-flop-counter");(n.prototype=new r).count=function(){return!!this._reset&&r.prototype.count.call(this)},n.prototype.loadReset=function(e){e?this._reset||(this._reset=!0):this._reset&&(this._reset=!1,this.initialize())},t.exports=n}()},{"../lib/flip-flop-counter":23}],25:[function(e,t,n){!function(){"use strict";function e(){this.counter=[new n("#0"),new n("#1"),new n("#2")]}function n(e){this._name=e,this.RL=3,this.MODE=3,this.BCD=0,this.value=65535,this.counter=65535,this._written=!0,this._read=!0,this.out=!0,this.gate=!1,this._handlers={timeup:[]}}e.prototype.setCtrlWord=function(e){var t=(192&e)>>6;this.counter[t].setCtrlWord(63&e)},n.prototype.setCtrlWord=function(e){this.RL=(48&e)>>4,this.MODE=(14&e)>>1,this.BCD=0!=(1&e),this.value=0,this.counter=0,this._written=!0,this._read=!0,this.out=!1,this.gate=!1},n.prototype.load=function(e){this.counter=0;var t=!1;switch(this.RL){case 0:break;case 1:this.value=255&e,this.counter=this.value,this.out=!1,t=!0;break;case 2:this.value=(255&e)<<8,this.counter=this.value,t=!0;break;case 3:this._written?(this._written=!1,this.value=65280&this.value|255&e,this.counter=this.value,t=!1):(this._written=!0,this.value=255&this.value|(255&e)<<8,this.counter=this.value,this.out=!1,t=!0)}if(t)switch(this.MODE){case 0:this.out=!1;break;case 1:break;case 2:case 6:this.out=!0;break;case 3:case 7:this.out=!0}return t},n.prototype.read=function(){switch(this.RL){case 0:break;case 1:return 255&this.counter;case 2:return this.counter>>8&255;case 3:return this._read?(this._read=!1,255&this.counter):(this._read=!0,this.counter>>8&255)}return null},n.prototype.setGate=function(e){this.gate=e},n.prototype.count=function(e){var t=this.out;switch(this.MODE){case 0:this.counter>0?(this.counter-=e,this.counter<=0&&(this.counter=0,this.out||(this.out=!0))):this.counter=this.value;break;case 1:break;case 2:case 6:this.counter-=e,this.out&&this.counter<=0?(this.out=!1,this.counter=this.value):this.out||(this.out=!0);break;case 3:case 7:this.counter-=e,this.counter>=this.value/2?this.out=!0:this.counter>0?this.out=!1:(this.out=!0,this.counter=this.value)}!t&&this.out&&this.fireEvent("timeup")},n.prototype.addEventListener=function(e,t){this._handlers[e].push(t)},n.prototype.fireEvent=function(e){this._handlers[e].forEach(function(e){e()})},t.exports=e}()},{}],26:[function(e,t,n){!function(){var t=e("jquery"),n=e("../MZ-700/mz700-key-matrix.js");e("../lib/jquery_plugin_class")("mz700keyboard");var r=function(e){this.element=e,t(this.element).addClass("mz700keymatrix")};window.mz700keyboard=r;var i=n.KeyCodes,o=n.KeyNames;r.prototype.create=function(e){var r=t("<div/>").addClass("keyboard-base-panel");t(this.element).append(r),r.append(t("<div/>").addClass("FKEYS").append(t("<span/>").addClass("keyContainer-"+o[i.Escape])).append(t("<span/>").addClass("nk-1-1")).append(t("<span/>").addClass("keyContainer-"+o[i.F1])).append(t("<span/>").addClass("keyContainer-"+o[i.F2])).append(t("<span/>").addClass("keyContainer-"+o[i.F3])).append(t("<span/>").addClass("keyContainer-"+o[i.F4])).append(t("<span/>").addClass("nk-1-2")).append(t("<span/>").addClass("keyContainer-"+o[i.F5])).append(t("<span/>").addClass("keyContainer-"+o[i.F6])).append(t("<span/>").addClass("keyContainer-"+o[i.F7])).append(t("<span/>").addClass("keyContainer-"+o[i.F8])).append(t("<span/>").addClass("nk-1-3")).append(t("<span/>").addClass("keyContainer-"+o[i.F9])).append(t("<span/>").addClass("keyContainer-"+o[i.F10])).append(t("<span/>").addClass("keyContainer-"+o[i.F11])).append(t("<span/>").addClass("keyContainer-"+o[i.F12]))).append(t("<div/>").append(t("<span/>").addClass("keyContainer-Kanji")).append(t("<span/>").addClass("keyContainer-"+o[i.D1])).append(t("<span/>").addClass("keyContainer-"+o[i.D2])).append(t("<span/>").addClass("keyContainer-"+o[i.D3])).append(t("<span/>").addClass("keyContainer-"+o[i.D4])).append(t("<span/>").addClass("keyContainer-"+o[i.D5])).append(t("<span/>").addClass("keyContainer-"+o[i.D6])).append(t("<span/>").addClass("keyContainer-"+o[i.D7])).append(t("<span/>").addClass("keyContainer-"+o[i.D8])).append(t("<span/>").addClass("keyContainer-"+o[i.D9])).append(t("<span/>").addClass("keyContainer-"+o[i.D0])).append(t("<span/>").addClass("keyContainer-"+o[i.Subtract])).append(t("<span/>").addClass("keyContainer-"+o[i.Caret])).append(t("<span/>").addClass("keyContainer-"+o[i.Yen])).append(t("<span/>").addClass("keyContainer-"+o[i.Backspace])).append(t("<span/>").addClass("nk-2")).append(t("<span/>").addClass("keyContainer-"+o[i.Insert])).append(t("<span/>").addClass("keyContainer-"+o[i.Home])).append(t("<span/>").addClass("keyContainer-"+o[i.PageUp]))).append(t("<div/>").append(t("<span/>").addClass("keyContainer-Tab")).append(t("<span/>").addClass("keyContainer-"+o[i.Q])).append(t("<span/>").addClass("keyContainer-"+o[i.W])).append(t("<span/>").addClass("keyContainer-"+o[i.E])).append(t("<span/>").addClass("keyContainer-"+o[i.R])).append(t("<span/>").addClass("keyContainer-"+o[i.T])).append(t("<span/>").addClass("keyContainer-"+o[i.Y])).append(t("<span/>").addClass("keyContainer-"+o[i.U])).append(t("<span/>").addClass("keyContainer-"+o[i.I])).append(t("<span/>").addClass("keyContainer-"+o[i.O])).append(t("<span/>").addClass("keyContainer-"+o[i.P])).append(t("<span/>").addClass("keyContainer-"+o[i.Atmark])).append(t("<span/>").addClass("keyContainer-"+o[i.OpenBrackets])).append(t("<span/>").addClass("nk-3")).append(t("<span/>").addClass("keyContainer-"+o[i.Enter])).append(t("<span/>").addClass("nk-2")).append(t("<span/>").addClass("keyContainer-"+o[i.Delete])).append(t("<span/>").addClass("keyContainer-"+o[i.End])).append(t("<span/>").addClass("keyContainer-"+o[i.PageDown]))).append(t("<div/>").append(t("<span/>").addClass("keyContainer-"+o[i.Control])).append(t("<span/>").addClass("keyContainer-"+o[i.A])).append(t("<span/>").addClass("keyContainer-"+o[i.S])).append(t("<span/>").addClass("keyContainer-"+o[i.D])).append(t("<span/>").addClass("keyContainer-"+o[i.F])).append(t("<span/>").addClass("keyContainer-"+o[i.G])).append(t("<span/>").addClass("keyContainer-"+o[i.H])).append(t("<span/>").addClass("keyContainer-"+o[i.J])).append(t("<span/>").addClass("keyContainer-"+o[i.K])).append(t("<span/>").addClass("keyContainer-"+o[i.L])).append(t("<span/>").addClass("keyContainer-"+o[i.SemiColon])).append(t("<span/>").addClass("keyContainer-"+o[i.Colon])).append(t("<span/>").addClass("keyContainer-"+o[i.CloseBrackets])).append(t("<span/>").addClass("keyContainer-"+o[i.Enter]))).append(t("<div/>").append(t("<span/>").addClass("keyContainer-"+o[i.Shift])).append(t("<span/>").addClass("keyContainer-"+o[i.Z])).append(t("<span/>").addClass("keyContainer-"+o[i.X])).append(t("<span/>").addClass("keyContainer-"+o[i.C])).append(t("<span/>").addClass("keyContainer-"+o[i.V])).append(t("<span/>").addClass("keyContainer-"+o[i.B])).append(t("<span/>").addClass("keyContainer-"+o[i.N])).append(t("<span/>").addClass("keyContainer-"+o[i.M])).append(t("<span/>").addClass("keyContainer-"+o[i.Comma])).append(t("<span/>").addClass("keyContainer-"+o[i.Decimal])).append(t("<span/>").addClass("keyContainer-"+o[i.Divide])).append(t("<span/>").addClass("keyContainer-"+o[i.Backslash])).append(t("<span/>").addClass("keyContainer-"+o[i.Shift])).append(t("<span/>").addClass("nk-5-1")).append(t("<span/>").addClass("keyContainer-"+o[i.Up]))).append(t("<div/>").append(t("<span/>").addClass("nk-6-1")).append(t("<span/>").addClass("keyContainer-"+o[i.Space])).append(t("<span/>").addClass("nk-6-2")).append(t("<span/>").addClass("keyContainer-"+o[i.Left])).append(t("<span/>").addClass("keyContainer-"+o[i.Down])).append(t("<span/>").addClass("keyContainer-"+o[i.Right]))),n.Keys.forEach(function(n){var r=n.strobe,i=n.bit;n.code.forEach(function(c){var s=t("<span/>").addClass("button").addClass("matrix-"+r+"-"+i).html(n.face).mousedown(function(t,n,r){return function(){e.onStateChange(t,n,!0),r.setState(t,n,!0)}}(r,i,this)).mouseup(function(t,n,r){return function(){e.onStateChange(t,n,!1),r.setState(t,n,!1)}}(r,i,this));t(".keyContainer-"+o[c]).append(s)},this)},this),t(".keyContainer-F6").append(t("<span/>").addClass("button").addClass("dummy").html("&nbsp;")),t(".keyContainer-F7").append(t("<span/>").addClass("button").addClass("dummy").html("&nbsp;")),t(".keyContainer-F8").append(t("<span/>").addClass("button").addClass("dummy").html("&nbsp;")),t(".keyContainer-F9").append(t("<span/>").addClass("button").addClass("dummy").html("&nbsp;")),t(".keyContainer-Kanji").append(t("<span/>").addClass("button").addClass("dummy").html("&nbsp;"))},r.prototype.getMatPos=function(e){return n.Code2Key[e]},r.prototype.setState=function(e,n,r){var i=t(this.element).find(".matrix-"+e+"-"+n);r?i.addClass("push"):i.removeClass("push")}}()},{"../MZ-700/mz700-key-matrix.js":9,"../lib/jquery_plugin_class":34,jquery:19}],27:[function(e,t,n){!function(){"use strict";function t(e){e.fonts={};for(var t=0;t<2;t++)for(var r=0;r<256;r++)n(e,t,r)}function n(e,t,n){for(var i=0;i<8;i++)for(var o=0;o<8;o++){var c=t<<7|o<<4|i,s=c<<8|n;e.fonts[s]=r(e,t,o,i,c,n,s)}}function r(e,t,n,r,i,o,c){return function(i,a,u){var p=document.createElement("CANVAS");p.setAttribute("width",s.charSize.dotWidth+"px"),p.setAttribute("height",s.charSize.dotHeight+"px");for(var d=p.getContext("2d"),l=e.opt.CG[256*t+o],m=0;m<8;m++)for(var f=l[m],h=0;h<8;h++)d.fillStyle=0!=(f&128>>h)?s.Colors[n]:s.Colors[r],d.fillRect(h,m,1,1);e.fonts[c]=function(e){return function(t,n,r){t.putImageData(e.getImageData(0,0,s.charSize.dotWidth,s.charSize.dotHeight),n,r)}}(d),e.fonts[c](i,a,u)}}function i(e){var t=u[e];return t||(t={attr:0,dispcode:239}),t}function o(e){var t=!1,n=[],r="";return e.split("").forEach(function(e){t?";"==e?(n.push(r.toUpperCase()),t=!1,r=""):r+=e:"&"==e?(r="",t=!0):n.push(e)}),n}var c=e("jquery");e("../lib/jquery_plugin_class")("mz700scrn");var s=function(e){this._container=e,this._ctx=null};window.mz700scrn=s,s.colors={black:0,blue:1,red:2,magenta:3,green:4,cyan:5,yellow:6,white:7},s.size={cols:40,rows:25},s.charSize={dotWidth:8,dotHeight:8},s.prototype.create=function(e){this.opt={cols:s.size.cols,rows:s.size.rows,CG:s.CGROMDATA,color:s.colors.white,backgroundColor:s.colors.blue,width:"100%",alt:null,title:"MZ-700 FULL JAVASCRIPT EMULATOR"},e=e||{},Object.keys(this.opt).forEach(function(t){t in e&&(this.opt[t]=e[t])},this),this.vramText=[],this.vramAttr=[];for(var n=0;n<this.opt.cols*this.opt.rows;n++)this.vramText.push(0),this.vramAttr.push(113);var r=document.createElement("CANVAS");r.setAttribute("width",s.charSize.dotWidth*this.opt.cols+"px"),r.setAttribute("height",s.charSize.dotHeight*this.opt.rows+"px"),r.setAttribute("style","width:100%;height:auto"),c(r).css("width",this.opt.width),null!=this.opt.alt&&r.setAttribute("alt",this.opt.alt),null!=this.opt.title&&r.setAttribute("title",this.opt.title),this._container.appendChild(r),this._ctx=r.getContext("2d"),this.idxloc=function(e,t,n){for(var r=0;r<n;r++)for(var i=0;i<t;i++)e.push({x:s.charSize.dotWidth*i,y:s.charSize.dotHeight*r});return e}([],this.opt.cols,this.opt.rows),t(this)},s.prototype.redrawChar=function(e,t){for(var n=e<<7,r={},i=0;i<this.opt.cols*this.opt.rows;i++)this.vramText[i]==t&&(128&this.vramAttr[i])==n&&(r[i]={dispcode:t,attr:this.vramAttr[i]});this.write(r)},s.prototype.write=function(e){Object.keys(e).forEach(function(t){var n=e[t],r=this.idxloc[t],i=n.attr<<8|n.dispcode;this.fonts[i](this._ctx,r.x,r.y),this.vramText[t]=n.dispcode,this.vramAttr[t]=n.attr},this)},s.prototype.redraw=function(){for(var e={},t=0;t<this.opt.cols*this.opt.rows;t++)e[t]={dispcode:this.vramText[t],attr:this.vramAttr[t]};this.write(e)},s.prototype.useCGROM=function(){this.useCG(s.CGROMDATA)},s.prototype.useCG=function(e){this.opt.CG=e,t(this),this.redraw()},s.prototype.clear=function(){for(var e=this.opt.rows*this.opt.cols,t=o(" "),n=0;n<e;n++)this.putChars(t,n,0)},s.prototype.puts=function(e,t,n){var r=o(e);return this.putChars(r,t,n)},s.convert=function(e){var t=parseInt(c(e).attr("charSize"))||8,n=parseInt(c(e).attr("padding"))||0,r=7&parseInt(c(e).attr("color")||"7"),i=7&parseInt(c(e).attr("bgColor")||"1"),s=e.innerText,a=o(s);c(e).empty().mz700scrn("create",{cols:a.length+2*n,rows:1+2*n,width:t*a.length+"px",color:r,backgroundColor:i,alt:s,title:s}).mz700scrn("clear").mz700scrn("putChars",a,n,n),c(e).find("canvas").css("display","inherit")},c(function(){c("span.mz700scrn").each(function(){c(this).hide()}),setTimeout(function(){c("span.mz700scrn").each(function(){s.convert(this),c(this).show()})},1)}),s.Colors=["rgb(0,0,0)","rgb(0,0,255)","rgb(255,0,0)","rgb(255,0,255)","rgb(0,255,0)","rgb(0,255,255)","rgb(255,255,0)","rgb(255,255,255)"];var a=[[[" ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"],["P","Q","R","S","T","U","V","W","X","Y","Z","┼","└","┘","├","┴"],["0","1","2","3","4","5","6","7","8","9","-","=",";","/",".",","],["","","","","","","","","","","","","","","",""],["→","SPADE","","","DIA","←","CLUB","●","○","?","●反転","","","","","",":"],["↑","<","[","HEART","]","@","",">","","BACKSLASH","HATCH","","","","",""],["π","!",'"',"#","$","%","AMP","'","(",")","+","*","","","",""],["","","","","","","","","","","","","","","",""],["↓","チ","コ","ソ","シ","イ","ハ","キ","ク","ニ","マ","ノ","リ","モ","ミ","ラ"],["セ","タ","ス","ト","カ","ナ","ヒ","テ","サ","ン","ツ","ロ","ケ","「","ァ","ャ"],["ワ","ヌ","フ","ア","ウ","エ","オ","ヤ","ユ","ヨ","ホ","ヘ","レ","メ","ル","ネ"],["ム","」","ィ","ュ","ヲ","、","ゥ","ョ","゜","・","ェ","ッ","゛","。","ォ","ー"],["PUSHDOWN","~DOWN","~UP","~RIGHT","~LEFT","~HOME","~CLEAR","UFO","CARRIGHT","CARUP","HUMAN","LHUMAN","RHUMAN","DHUMAN","FILLEDFACE","FACE"],["日","月","火","水","木","金","土","生","年","時","分","秒","円","￥","￡","蛇"],[" ","","","","","","","","","","","","","","",""],[" ","","","","","","","","","","","","","","",""]],[[" ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o"],["p","q","r","s","t","u","v","w","x","y","z","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","ち","こ","そ","し","い","は","き","く","に","ま","の","り","も","み","ら"],["せ","た","す","と","か","な","ひ","て","さ","ん","つ","ろ","け","","ぁ","ゃ"],["わ","ぬ","ふ","あ","う","え","お","や","ゆ","よ","ほ","へ","れ","め","る","ね"],["む","","ぃ","ゅ","を","","ぅ","ょ","","","ぇ","っ","","","ぉ",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","",""]]],u=function(e){return a.forEach(function(t,n){t.forEach(function(t,r){t.forEach(function(t,i){t in e||(e[t]={attr:n,dispcode:r<<4|i})})})}),e}({});s.prototype.putChars=function(e,t,n){var r=this.opt.rows*this.opt.cols,o={},c=0,s=n*this.opt.cols+t,a=this.opt.color<<4|this.opt.backgroundColor;return e.forEach(function(e){if(s<r){var t=i(e);o[s]={attr:t.attr<<7|a,dispcode:t.dispcode},s++,c++}}),this.write(o),c},s.CGROMDATA=[[0,0,0,0,0,0,0,0],[24,36,66,126,66,66,66,0],[124,34,34,60,34,34,124,0],[28,34,64,64,64,34,28,0],[120,36,34,34,34,36,120,0],[126,64,64,120,64,64,126,0],[126,64,64,120,64,64,64,0],[28,34,64,78,66,34,28,0],[66,66,66,126,66,66,66,0],[28,8,8,8,8,8,28,0],[14,4,4,4,4,68,56,0],[66,68,72,112,72,68,66,0],[64,64,64,64,64,64,126,0],[66,102,90,90,66,66,66,0],[66,98,82,74,70,66,66,0],[24,36,66,66,66,36,24,0],[124,66,66,124,64,64,64,0],[24,36,66,66,74,36,26,0],[124,66,66,124,72,68,66,0],[60,66,64,60,2,66,60,0],[62,8,8,8,8,8,8,0],[66,66,66,66,66,66,60,0],[66,66,66,36,36,24,24,0],[66,66,66,90,90,102,66,0],[66,66,36,24,36,66,66,0],[34,34,34,28,8,8,8,0],[126,2,4,24,32,64,126,0],[8,8,8,8,255,8,8,8],[8,8,8,8,15,0,0,0],[8,8,8,8,248,0,0,0],[8,8,8,8,15,8,8,8],[8,8,8,8,255,0,0,0],[60,66,70,90,98,66,60,0],[8,24,40,8,8,8,62,0],[60,66,2,12,48,64,126,0],[60,66,2,60,2,66,60,0],[4,12,20,36,126,4,4,0],[126,64,120,4,2,68,56,0],[28,32,64,124,66,66,60,0],[126,66,4,8,16,16,16,0],[60,66,66,60,66,66,60,0],[60,66,66,62,2,4,56,0],[0,0,0,126,0,0,0,0],[0,0,126,0,126,0,0,0],[0,0,8,0,0,8,8,16],[0,2,4,8,16,32,64,0],[0,0,0,0,0,24,24,0],[0,0,0,0,0,8,8,16],[0,255,0,0,0,0,0,0],[64,64,64,64,64,64,64,64],[128,128,128,128,128,128,128,255],[1,1,1,1,1,1,1,255],[0,0,0,255,0,0,0,0],[16,16,16,16,16,16,16,16],[255,255,0,0,0,0,0,0],[192,192,192,192,192,192,192,192],[0,0,0,0,0,255,0,0],[4,4,4,4,4,4,4,4],[0,0,0,0,255,255,255,255],[15,15,15,15,15,15,15,15],[0,0,0,0,0,0,0,255],[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,255,255],[3,3,3,3,3,3,3,3],[0,0,8,4,254,4,8,0],[8,28,62,127,127,28,62,0],[255,127,63,31,15,7,3,1],[255,255,255,255,255,255,255,255],[8,28,62,127,62,28,8,0],[0,0,16,32,127,32,16,0],[8,28,42,127,42,8,8,0],[0,60,126,126,126,126,60,0],[0,60,66,66,66,66,60,0],[60,66,2,12,16,0,16,0],[255,195,129,129,129,129,195,255],[0,0,0,0,3,4,8,8],[0,0,0,0,192,32,16,16],[128,192,224,240,248,252,254,255],[1,3,7,15,31,63,127,255],[0,0,8,0,0,8,0,0],[0,8,28,42,8,8,8,0],[14,24,48,96,48,24,14,0],[60,32,32,32,32,32,60,0],[54,127,127,127,62,28,8,0],[60,4,4,4,4,4,60,0],[28,34,74,86,76,32,30,0],[255,254,252,248,240,224,192,128],[112,24,12,6,12,24,112,0],[160,80,160,80,160,80,160,80],[0,64,32,16,8,4,2,0],[170,85,170,85,170,85,170,85],[240,240,240,240,15,15,15,15],[0,0,0,0,15,8,8,8],[0,0,0,0,248,8,8,8],[8,8,8,8,248,8,8,8],[0,0,0,0,255,8,8,8],[0,0,1,62,84,20,20,0],[8,8,8,8,0,0,8,0],[36,36,36,0,0,0,0,0],[36,36,126,36,126,36,36,0],[8,30,40,28,10,60,8,0],[0,98,100,8,16,38,70,0],[48,72,72,48,74,68,58,0],[4,8,16,0,0,0,0,0],[4,8,16,16,16,8,4,0],[32,16,8,8,8,16,32,0],[0,8,8,62,8,8,0,0],[8,42,28,62,28,42,8,0],[15,15,15,15,240,240,240,240],[129,66,36,24,24,36,66,129],[16,16,32,192,0,0,0,0],[8,8,4,3,0,0,0,0],[255,0,0,0,0,0,0,0],[128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128],[255,1,1,1,1,1,1,1],[0,0,255,0,0,0,0,0],[32,32,32,32,32,32,32,32],[1,2,4,8,16,32,64,128],[128,64,32,16,8,4,2,1],[0,0,0,0,255,0,0,0],[8,8,8,8,8,8,8,8],[255,255,255,255,0,0,0,0],[240,240,240,240,240,240,240,240],[0,0,0,0,0,0,255,0],[2,2,2,2,2,2,2,2],[0,0,0,0,0,255,255,255],[7,7,7,7,7,7,7,7],[0,8,8,8,42,28,8,0],[4,56,8,62,8,8,16,0],[0,62,2,2,2,2,62,0],[0,34,34,18,2,4,24,0],[0,48,2,50,2,4,56,0],[2,4,8,24,40,8,8,0],[0,8,4,34,34,34,34,0],[8,62,8,62,8,8,8,0],[0,30,18,34,2,4,24,0],[0,28,0,0,0,0,62,0],[0,62,2,2,20,8,4,0],[4,4,4,4,4,8,16,0],[36,36,36,36,4,8,16,0],[0,62,16,62,16,16,14,0],[0,28,0,28,0,60,2,0],[28,0,62,2,2,4,8,0],[16,62,18,20,16,16,14,0],[0,30,18,42,6,4,24,0],[0,62,2,4,8,20,34,0],[16,16,16,24,20,16,16,0],[16,62,18,18,18,18,36,0],[8,8,62,8,8,16,32,0],[32,32,62,32,32,32,30,0],[28,0,62,8,8,8,16,0],[20,62,20,20,4,8,16,0],[0,48,0,2,2,4,56,0],[0,42,42,42,2,4,8,0],[0,62,34,34,34,34,62,0],[16,30,36,4,4,4,8,0],[30,16,16,16,0,0,0,0],[0,0,62,2,12,8,16,0],[0,0,16,62,18,20,16,0],[0,62,34,34,2,4,8,0],[0,62,2,20,8,20,32,0],[0,62,2,2,2,4,24,0],[62,2,10,12,8,8,16,0],[8,62,34,34,2,4,8,0],[0,62,8,8,8,8,62,0],[4,62,4,12,20,36,4,0],[16,16,62,18,20,16,16,0],[0,28,4,4,4,4,62,0],[0,62,2,62,2,2,62,0],[8,62,8,8,42,42,8,0],[0,16,40,4,2,2,0,0],[0,32,32,34,36,40,48,0],[0,2,2,20,8,20,32,0],[0,8,40,40,42,42,44,0],[8,62,4,8,28,42,8,0],[0,8,16,32,34,62,2,0],[0,0,0,8,8,8,120,0],[0,0,4,8,24,40,8,0],[0,0,0,28,4,4,62,0],[0,62,2,62,2,4,8,0],[0,0,0,0,64,32,16,0],[0,0,8,62,34,2,12,0],[0,0,60,4,60,4,60,0],[112,80,112,0,0,0,0,0],[0,0,0,0,0,0,32,0],[0,0,0,62,8,8,62,0],[0,0,0,42,42,2,12,0],[16,72,32,0,0,0,0,0],[0,0,0,0,112,80,112,0],[0,0,4,62,12,20,36,0],[0,0,0,28,0,0,0,0],[28,28,62,28,8,0,62,0],[255,247,247,247,213,227,247,255],[255,247,227,213,247,247,247,255],[255,255,247,251,129,251,247,255],[255,255,239,223,129,223,239,255],[187,187,187,131,187,187,187,255],[227,221,191,191,191,221,227,255],[24,36,126,255,90,36,0,0],[224,71,66,126,66,71,224,0],[34,62,42,8,8,73,127,65],[28,28,8,62,8,8,20,34],[0,17,210,252,210,17,0,0],[0,136,75,63,75,136,0,0],[34,20,8,8,62,8,28,28],[60,126,255,219,255,231,126,60],[60,66,129,165,129,153,66,60],[62,34,34,62,34,34,62,0],[62,34,62,34,62,34,66,0],[8,42,42,8,20,34,65,0],[8,9,58,12,28,42,73,0],[8,8,62,8,28,42,73,0],[8,20,62,73,62,28,127,0],[0,8,8,62,8,8,127,0],[8,72,126,72,62,8,127,0],[32,62,72,60,40,126,8,0],[4,126,84,127,82,127,10,0],[8,20,34,127,18,18,36,0],[56,18,127,23,59,82,20,0],[127,73,73,127,65,65,65,0],[34,20,62,8,62,8,8,0],[12,18,16,56,16,16,62,0],[0,192,200,84,84,85,34,0],[0,0,0,0,0,2,255,2],[2,2,2,2,2,2,7,2],[2,2,2,2,2,2,255,2],[0,0,32,80,136,5,2,0],[0,14,17,34,196,4,2,1],[0,255,0,129,66,66,129,0],[0,112,136,68,35,32,64,128],[0,196,164,148,143,148,164,196],[0,35,37,41,241,41,37,35],[136,144,160,192,192,168,152,184],[168,176,184,192,192,160,144,136],[128,64,32,16,31,32,64,128],[0,0,36,36,231,36,36,0],[8,8,62,0,0,62,8,8],[8,16,32,16,8,4,2,4],[85,170,85,170,85,170,85,170],[0,0,0,0,0,0,0,0],[0,112,112,112,0,0,0,0],[0,7,7,7,0,0,0,0],[0,119,119,119,0,0,0,0],[0,0,0,0,0,112,112,112],[0,112,112,112,0,112,112,112],[0,7,7,7,0,112,112,112],[0,119,119,119,0,112,112,112],[0,0,0,0,0,7,7,7],[0,112,112,112,0,7,7,7],[0,7,7,7,0,7,7,7],[0,119,119,119,0,7,7,7],[0,0,0,0,0,119,119,119],[0,112,112,112,0,119,119,119],[0,7,7,7,0,119,119,119],[0,119,119,119,0,119,119,119],[0,0,0,0,0,0,0,0],[0,0,56,4,60,68,58,0],[64,64,92,98,66,98,92,0],[0,0,60,66,64,66,60,0],[2,2,58,70,66,70,58,0],[0,0,60,66,126,64,60,0],[12,18,16,124,16,16,16,0],[0,0,58,70,70,58,2,60],[64,64,92,98,66,66,66,0],[8,0,24,8,8,8,28,0],[4,0,12,4,4,4,68,56],[64,64,68,72,80,104,68,0],[24,8,8,8,8,8,28,0],[0,0,118,73,73,73,73,0],[0,0,92,98,66,66,66,0],[0,0,60,66,66,66,60,0],[0,0,92,98,98,92,64,64],[0,0,58,70,70,58,2,2],[0,0,92,98,64,64,64,0],[0,0,62,64,60,2,124,0],[16,16,124,16,16,18,12,0],[0,0,66,66,66,66,60,0],[0,0,66,66,66,36,24,0],[0,0,65,73,73,73,54,0],[0,0,68,40,16,40,68,0],[0,0,66,66,70,58,2,60],[0,0,126,4,24,32,126,0],[8,8,8,8,255,8,8,8],[8,8,8,8,15,0,0,0],[8,8,8,8,248,0,0,0],[8,8,8,8,15,8,8,8],[8,8,8,8,255,0,0,0],[60,66,70,90,98,66,60,0],[8,24,40,8,8,8,62,0],[60,66,2,12,48,64,126,0],[60,66,2,60,2,66,60,0],[4,12,20,36,126,4,4,0],[126,64,120,4,2,68,56,0],[28,32,64,124,66,66,60,0],[126,66,4,8,16,16,16,0],[60,66,66,60,66,66,60,0],[60,66,66,62,2,4,56,0],[0,0,0,126,0,0,0,0],[0,0,126,0,126,0,0,0],[0,0,8,0,0,8,8,16],[0,2,4,8,16,32,64,0],[0,0,0,0,0,24,24,0],[0,0,0,0,0,8,8,16],[0,255,0,0,0,0,0,0],[64,64,64,64,64,64,64,64],[128,128,128,128,128,128,128,255],[1,1,1,1,1,1,1,255],[0,0,0,255,0,0,0,0],[16,16,16,16,16,16,16,16],[255,255,0,0,0,0,0,0],[192,192,192,192,192,192,192,192],[0,0,0,0,0,255,0,0],[4,4,4,4,4,4,4,4],[0,0,0,0,255,255,255,255],[15,15,15,15,15,15,15,15],[0,0,0,0,0,0,0,255],[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,255,255],[3,3,3,3,3,3,3,3],[0,0,8,4,254,4,8,0],[8,28,62,127,127,28,62,0],[255,127,63,31,15,7,3,1],[255,255,255,255,255,255,255,255],[8,28,62,127,62,28,8,0],[0,0,16,32,127,32,16,0],[8,28,42,127,42,8,8,0],[0,60,126,126,126,126,60,0],[0,60,66,66,66,66,60,0],[60,66,2,12,16,0,16,0],[255,195,129,129,129,129,195,255],[0,0,0,0,3,4,8,8],[0,0,0,0,192,32,16,16],[128,192,224,240,248,252,254,255],[1,3,7,15,31,63,127,255],[0,0,8,0,0,8,0,0],[0,8,28,42,8,8,8,0],[14,24,48,96,48,24,14,0],[60,32,32,32,32,32,60,0],[54,127,127,127,62,28,8,0],[60,4,4,4,4,4,60,0],[28,34,74,86,76,32,30,0],[255,254,252,248,240,224,192,128],[112,24,12,6,12,24,112,0],[160,80,160,80,160,80,160,80],[0,64,32,16,8,4,2,0],[170,85,170,85,170,85,170,85],[240,240,240,240,15,15,15,15],[0,0,0,0,15,8,8,8],[0,0,0,0,248,8,8,8],[8,8,8,8,248,8,8,8],[0,0,0,0,255,8,8,8],[0,0,1,62,84,20,20,0],[8,8,8,8,0,0,8,0],[36,36,36,0,0,0,0,0],[36,36,126,36,126,36,36,0],[8,30,40,28,10,60,8,0],[0,98,100,8,16,38,70,0],[48,72,72,48,74,68,58,0],[4,8,16,0,0,0,0,0],[4,8,16,16,16,8,4,0],[32,16,8,8,8,16,32,0],[0,8,8,62,8,8,0,0],[8,42,28,62,28,42,8,0],[15,15,15,15,240,240,240,240],[129,66,36,24,24,36,66,129],[16,16,32,192,0,0,0,0],[8,8,4,3,0,0,0,0],[255,0,0,0,0,0,0,0],[128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128],[255,1,1,1,1,1,1,1],[0,0,255,0,0,0,0,0],[32,32,32,32,32,32,32,32],[4,8,17,34,68,136,16,32],[32,16,136,68,34,17,8,4],[0,0,0,0,255,0,0,0],[8,8,8,8,8,8,8,8],[255,255,255,255,0,0,0,0],[240,240,240,240,240,240,240,240],[0,0,0,0,0,0,255,0],[2,2,2,2,2,2,2,2],[0,0,0,0,0,255,255,255],[7,7,7,7,7,7,7,7],[0,8,8,8,42,28,8,0],[16,254,32,124,2,2,252,0],[0,252,2,0,0,128,126,0],[60,8,16,126,8,16,12,0],[64,64,64,64,68,68,56,0],[132,130,130,130,130,144,96,0],[132,158,132,132,156,166,92,0],[16,126,8,126,4,2,96,24],[12,24,48,96,48,24,12,0],[158,128,128,128,128,144,222,0],[16,126,16,126,16,112,156,114],[56,84,146,146,146,146,100,0],[68,68,68,100,4,8,16,0],[32,248,32,248,34,34,28,0],[112,16,20,126,148,148,100,0],[96,0,156,162,194,130,28,0],[68,68,254,68,88,64,62,0],[32,252,64,94,128,160,190,0],[8,254,8,56,72,56,8,16],[32,34,44,48,64,128,126,0],[34,249,37,36,36,36,72,0],[32,250,65,68,156,166,28,0],[224,38,69,132,132,136,112,0],[254,4,8,16,16,8,4,0],[32,254,16,8,68,32,24,0],[16,32,32,112,72,136,134,0],[128,124,2,2,2,4,24,0],[124,8,16,44,66,2,36,24],[132,190,132,132,132,132,72,0],[30,16,16,16,0,0,0,0],[0,32,112,32,120,148,104,0],[0,0,88,228,40,32,16,0],[32,228,42,50,98,162,36,0],[4,68,124,74,178,151,102,0],[56,0,16,74,74,138,48,0],[32,252,32,124,170,146,100,0],[24,0,60,66,2,4,8,0],[16,0,124,8,16,40,70,0],[32,253,33,124,162,162,100,0],[72,76,50,226,36,16,16,8],[8,156,170,202,202,140,24,0],[8,14,8,8,120,142,120,0],[158,132,158,132,156,166,220,0],[0,32,80,136,4,2,2,0],[32,230,44,52,100,164,34,0],[4,68,124,74,178,146,100,0],[124,8,16,60,66,26,36,24],[32,228,42,50,102,171,38,0],[32,253,33,96,160,98,62,0],[0,0,0,0,8,8,8,120],[0,0,72,68,68,68,32,0],[0,0,16,184,212,152,48,0],[16,254,32,116,184,72,126,0],[0,0,0,0,0,64,32,16],[0,32,0,120,4,4,8,0],[0,0,32,56,32,120,96,0],[112,80,112,0,0,0,0,0],[0,0,0,0,0,0,32,0],[0,32,0,120,16,48,76,0],[0,0,0,248,4,4,24,0],[32,144,64,0,0,0,0,0],[0,0,0,0,0,112,80,112],[0,32,116,32,120,164,104,0],[0,0,0,28,0,0,0,0],[28,28,62,28,8,0,62,0],[255,247,247,247,213,227,247,255],[255,247,227,213,247,247,247,255],[255,255,247,251,129,251,247,255],[255,255,239,223,129,223,239,255],[187,187,187,131,187,187,187,255],[227,221,191,191,191,221,227,255],[24,36,126,255,90,36,0,0],[224,71,66,126,66,71,224,0],[34,62,42,8,8,73,127,65],[28,28,8,62,8,8,20,34],[0,17,210,252,210,17,0,0],[0,136,75,63,75,136,0,0],[34,20,8,8,62,8,28,28],[60,126,255,219,255,231,126,60],[60,66,129,165,129,153,66,60],[62,34,34,62,34,34,62,0],[62,34,62,34,62,34,66,0],[8,42,42,8,20,34,65,0],[8,9,58,12,28,42,73,0],[8,8,62,8,28,42,73,0],[8,20,62,73,62,28,127,0],[0,8,8,62,8,8,127,0],[8,72,126,72,62,8,127,0],[32,62,72,60,40,126,8,0],[4,126,84,127,82,127,10,0],[8,20,34,127,18,18,36,0],[56,18,127,23,59,82,20,0],[127,73,73,127,65,65,65,0],[34,20,62,8,62,8,8,0],[12,18,16,56,16,16,62,0],[0,192,200,84,84,85,34,0],[0,0,0,0,0,2,255,2],[2,2,2,2,2,2,7,2],[2,2,2,2,2,2,255,2],[0,0,32,80,136,5,2,0],[0,14,17,34,196,4,2,1],[0,255,0,129,66,66,129,0],[0,112,136,68,35,32,64,128],[0,196,164,148,143,148,164,196],[0,35,37,41,241,41,37,35],[136,144,160,192,192,168,152,184],[168,176,184,192,192,160,144,136],[128,64,32,16,31,32,64,128],[0,0,36,36,231,36,36,0],[8,8,62,0,0,62,8,8],[8,16,32,16,8,4,2,4],[85,170,85,170,85,170,85,170],[0,0,0,0,0,0,0,0],[0,112,112,112,0,0,0,0],[0,7,7,7,0,0,0,0],[0,119,119,119,0,0,0,0],[0,0,0,0,0,112,112,112],[0,112,112,112,0,112,112,112],[0,7,7,7,0,112,112,112],[0,119,119,119,0,112,112,112],[0,0,0,0,0,7,7,7],[0,112,112,112,0,7,7,7],[0,7,7,7,0,7,7,7],[0,119,119,119,0,7,7,7],[0,0,0,0,0,119,119,119],[0,112,112,112,0,119,119,119],[0,7,7,7,0,119,119,119],[0,119,119,119,0,119,119,119]]}()},{"../lib/jquery_plugin_class":34,jquery:19}],28:[function(e,t,n){!function(){var t=e("jquery"),n=e("../lib/jquery_plugin_class"),r=e("../Z80/assembler.js");n("dumplist");var i=function(e){this.element=e,this.opt={readMemory:null,rows:16,_topAddr:0,fontFamily:"monospace",fontSize:"4pt",rowHeight:"14px",colWidth:"16px",headerWidth:"30px",getRegValue:function(){}}};window.dumplist=i,i.prototype.init=function(e){e&&Object.keys(this.opt).forEach(function(t){t in e&&(this.opt[t]=e[t])},this);var n=t("<div/>");n.insertBefore(t(this.element)),t(this.element).appendTo(n);var i=t(this.element);i.empty().css("font-family",this.opt.fontFamily).css("font-size",this.opt.fontSize).css("border-bottom","solid 1px gray");var o=t("<div/>");i.append(o);var c=t("<div/>").addClass("row").addClass("header").css("height",this.opt.rowHeight).css("line-height",this.opt.rowHeight).css("border-bottom","solid 1px gray");i.append(c);var s=t("<span/>").addClass("cell").addClass("header").css("display","inline-block").css("width",this.opt.headerWidth).css("text-align","center").html("ADDR");c.append(s);for(var a=0;a<16;a++)(s=t("<span/>").addClass("cell").addClass("c"+a).css("display","inline-block").css("width",this.opt.colWidth).css("text-align","center")).html("+"+a.HEX(1)),c.append(s);this._topAddr=this.opt._topAddr;var u=this._topAddr;this.addrCols=[],this.dataCells=[];for(var p=0;p<this.opt.rows;p++)for(c=t("<div/>").addClass("row").addClass("r"+p).css("height",this.opt.rowHeight).css("line-height",this.opt.rowHeight),i.append(c),s=t("<span/>").addClass("cell").addClass("header").css("display","inline-block").css("width",this.opt.headerWidth).css("text-align","center"),c.append(s),this.addrCols.push(s),a=0;a<16;a++)null==this.readMemory?(s=t("<span/>").addClass("cell").addClass("c"+a).css("display","inline-block").css("width",this.opt.colWidth).css("text-align","center"),this.dataCells.push(s),c.append(s)):this.readMemory(u,function(e,n,r){return function(){var i=t("<span/>").addClass("cell").addClass("c"+r).css("display","inline-block").css("width",e.opt.colWidth).css("text-align","center");e.dataCells.push(i),n.append(i)}}(this,c,a)),u++;[{H:"B",L:"C"},{H:"D",L:"E"},{H:"H",L:"L"},"PC","SP","IX","IY"].forEach(function(n){var r="string"!=typeof n,i=r?n.H+n.L:n,c=r?function(t,n){e.getReg(t.H,function(r){e.getReg(t.L,function(e){n(256*r+e)})})}:function(t,n){e.getReg(t,n)};o.append(t("<button/>").attr("id","btnShowMem"+i).attr("type","button").css("width","50px").html(i).click(function(){c(n,function(e){t("#txtShowMemAddr").val(e.HEX(4)+"H"),this.topAddr(e)}.bind(this))}.bind(this)))},this),o.append(t("<input/>").attr("id","txtShowMemAddr").attr("type","text").attr("value","0000h").css("width","80px").attr("title","16進数(最後にhまたはH)の他、プログラム中のラベルも使えます。10進数、8進数(0から始まる数字)もOK")).append(t("<button/>").attr("id","btnShowMemAddr").attr("type","button").css("width","80px").html("表示更新").click(function(){var e=t("#txtShowMemAddr").val(),n=(new r).parseAddress(e);null!=n&&this.topAddr(n)}.bind(this))),this.redraw()},i.prototype.setReadMemoryHandler=function(e){this.readMemory=e,this.redraw()},i.prototype.topAddr=function(e){return null!=e&&(this._topAddr=e,this.redraw()),this._topAddr},i.prototype.redraw=function(){for(var e=this._topAddr,t=0,n=0;n<this.opt.rows;n++){this.addrCols[n].html(e.HEX(4));for(var r=0;r<16;r++)null==this.readMemory?this.dataCells[t].html("**"):this.readMemory(e,function(e,t){return function(n){e.dataCells[t].html(n.HEX(2))}}(this,t)),e++,t++}},i.prototype.updateAt=function(e,t){var n=e-this._topAddr;0<=n&&n<16*this.opt.rows&&this.dataCells[n].html(t.HEX(2))}}()},{"../Z80/assembler.js":11,"../lib/jquery_plugin_class":34,jquery:19}],29:[function(e,t,n){!function(){var t=e("jquery");e("../lib/jquery_plugin_class")("Z80RegView");var n=function(e){this.element=e};window.Z80RegView=n,n.prototype.init=function(){var e=function(e){return t("<div/>").addClass("reg-value").html(e)};this.$B=e("--"),this.$C=e("--"),this.$D=e("--"),this.$E=e("--"),this.$H=e("--"),this.$L=e("--"),this.$A=e("--"),this.$FS=e("-"),this.$FZ=e("-"),this.$F5=e("-"),this.$FH=e("-"),this.$F1=e("-"),this.$FP=e("-"),this.$FN=e("-"),this.$FC=e("-"),this.$PC=e("----"),this.$SP=e("----"),this.$IX=e("----"),this.$IY=e("----"),this.$IFF1=e("-"),this.$IFF2=e("-"),this.$HALT=e("-"),this.$IM=e("-"),this.$I=e("--"),this.$R=e("--"),this.$B_=e("--"),this.$C_=e("--"),this.$D_=e("--"),this.$E_=e("--"),this.$H_=e("--"),this.$L_=e("--"),this.$A_=e("--"),this.$FS_=e("-"),this.$FZ_=e("-"),this.$F5_=e("-"),this.$FH_=e("-"),this.$F1_=e("-"),this.$FP_=e("-"),this.$FN_=e("-"),this.$FC_=e("-"),this.$R_=e("-"),t(this.element).empty().addClass("Z80RegView").append(t("<div/>").addClass("row").append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("B")).append(this.$B)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("C")).append(this.$C)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("D")).append(this.$D)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("E")).append(this.$E)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("H")).append(this.$H)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("L")).append(this.$L)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("A")).append(this.$A)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("S")).append(this.$FS)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("Z")).append(this.$FZ)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("-")).append(this.$F5)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("H")).append(this.$FH)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("-")).append(this.$F1)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("P/V")).append(this.$FP)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("N")).append(this.$FN)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("C")).append(this.$FC)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("PC")).append(this.$PC)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("SP")).append(this.$SP)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("IX")).append(this.$IX)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("IY")).append(this.$IY)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("I")).append(this.$I))).append(t("<div/>").addClass("row").append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("B'")).append(this.$B_)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("C'")).append(this.$C_)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("D'")).append(this.$D_)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("E'")).append(this.$E_)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("H'")).append(this.$H_)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("L'")).append(this.$L_)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("A'")).append(this.$A_)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("S'")).append(this.$FS_)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("Z'")).append(this.$FZ_)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("-")).append(this.$F5_)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("H'")).append(this.$FH_)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("-")).append(this.$F1_)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("P/V'")).append(this.$FP_)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("N'")).append(this.$FN_)).append(t("<div/>").addClass("register narrow").append(t("<div/>").addClass("name").html("C'")).append(this.$FC_)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("IFF1")).append(this.$IFF1)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("IFF2")).append(this.$IFF2)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("HALT")).append(this.$HALT)).append(t("<div/>").addClass("register wide").append(t("<div/>").addClass("name").html("IM")).append(this.$IM)).append(t("<div/>").addClass("register").append(t("<div/>").addClass("name").html("R")).append(this.$R))),this.elemB=this.$B.get(0),this.elemC=this.$C.get(0),this.elemD=this.$D.get(0),this.elemE=this.$E.get(0),this.elemH=this.$H.get(0),this.elemL=this.$L.get(0),this.elemA=this.$A.get(0),this.elemFS=this.$FS.get(0),this.elemFZ=this.$FZ.get(0),this.elemF5=this.$F5.get(0),this.elemFH=this.$FH.get(0),this.elemF1=this.$F1.get(0),this.elemFP=this.$FP.get(0),this.elemFN=this.$FN.get(0),this.elemFC=this.$FC.get(0),this.elemPC=this.$PC.get(0),this.elemSP=this.$SP.get(0),this.elemIX=this.$IX.get(0),this.elemIY=this.$IY.get(0),this.elemIFF1=this.$IFF1.get(0),this.elemIFF2=this.$IFF2.get(0),this.elemHALT=this.$HALT.get(0),this.elemIM=this.$IM.get(0),this.elemI=this.$I.get(0),this.elemR=this.$R.get(0),this.elemB_=this.$B_.get(0),this.elemC_=this.$C_.get(0),this.elemD_=this.$D_.get(0),this.elemE_=this.$E_.get(0),this.elemH_=this.$H_.get(0),this.elemL_=this.$L_.get(0),this.elemA_=this.$A_.get(0),this.elemFS_=this.$FS_.get(0),this.elemFZ_=this.$FZ_.get(0),this.elemF5_=this.$F5_.get(0),this.elemFH_=this.$FH_.get(0),this.elemF1_=this.$F1_.get(0),this.elemFP_=this.$FP_.get(0),this.elemFN_=this.$FN_.get(0),this.elemFC_=this.$FC_.get(0),this.elemR_=this.$R_.get(0)},n.prototype.update=function(e){this.elemB.innerHTML=e.B.HEX(2),this.elemC.innerHTML=e.C.HEX(2),this.elemD.innerHTML=e.D.HEX(2),this.elemE.innerHTML=e.E.HEX(2),this.elemH.innerHTML=e.H.HEX(2),this.elemL.innerHTML=e.L.HEX(2),this.elemA.innerHTML=e.A.HEX(2),this.elemFS.innerHTML=128&e.F?1:0,this.elemFZ.innerHTML=64&e.F?1:0,this.elemF5.innerHTML=32&e.F?1:0,this.elemFH.innerHTML=16&e.F?1:0,this.elemF1.innerHTML=8&e.F?1:0,this.elemFP.innerHTML=4&e.F?1:0,this.elemFN.innerHTML=2&e.F?1:0,this.elemFC.innerHTML=1&e.F?1:0,this.elemPC.innerHTML=e.PC.HEX(4),this.elemSP.innerHTML=e.SP.HEX(4),this.elemIX.innerHTML=e.IX.HEX(4),this.elemIY.innerHTML=e.IY.HEX(4),this.elemI.innerHTML=e.I.HEX(2),this.elemR.innerHTML=e.R.HEX(2)},n.prototype.update_=function(e){this.elemB_.innerHTML=e.B.HEX(2),this.elemC_.innerHTML=e.C.HEX(2),this.elemD_.innerHTML=e.D.HEX(2),this.elemE_.innerHTML=e.E.HEX(2),this.elemH_.innerHTML=e.H.HEX(2),this.elemL_.innerHTML=e.L.HEX(2),this.elemA_.innerHTML=e.A.HEX(2),this.elemFS_.innerHTML=128&e.F?1:0,this.elemFZ_.innerHTML=64&e.F?1:0,this.elemF5_.innerHTML=32&e.F?1:0,this.elemFH_.innerHTML=16&e.F?1:0,this.elemF1_.innerHTML=8&e.F?1:0,this.elemFP_.innerHTML=4&e.F?1:0,this.elemFN_.innerHTML=2&e.F?1:0,this.elemFC_.innerHTML=1&e.F?1:0,this.elemR_.innerHTML=e.R.HEX(2)},n.prototype.IFF1=function(e){this.elemIFF1.innerHTML=e},n.prototype.IFF2=function(e){this.elemIFF2.innerHTML=e},n.prototype.IM=function(e){this.elemIM.innerHTML=e},n.prototype.HALT=function(e){this.elemHALT.innerHTML=e}}()},{"../lib/jquery_plugin_class":34,jquery:19}],30:[function(e,t,n){!function(){"use strict";var n=e("jquery");e("./jquery.tabview.js"),e("../lib/jquery_plugin_class")("asmlist");var r=function(e){this._root=n(e),this._asmList=this._root.find(".assemble_list"),this._opts="opts"in e?e.opts:{assemble:function(){},breakpoint:function(){}}};window.asmlist=r,r.prototype.create=function(e){this._root.hasClass("asmlist")||(Object.keys(this._opts).forEach(function(t){t in e&&(this._opts[t]=e[t])},this),this._asmList=n("<div/>").addClass("assemble_list"),this._root.addClass("asmlist").tabview("create").tabview("add","Assemble List",n("<div/>").addClass("tabAsmList").append(n("<div/>").addClass("y-scroll-pane").append(this._asmList)).append("<span>* Click a line, and set break point</span>"),function(){0==this._asmList.children().length&&this._opts.assemble(this.text())}.bind(this)).tabview("add","Source List",n("<div/>").addClass("tabSource").append(n("<textarea type='text'/>").bind("change",function(){this._asmList.empty()}.bind(this)))))},r.prototype.text=function(e,t){if(null==e)return this._root.find("textarea").val();this._root.find("textarea").val(e),(null==t||t)&&(this._asmList.empty(),this._opts.assemble(e))},r.prototype.list=function(){return this._asmList},r.prototype.writeList=function(e,t){this._asmList.empty(),e.forEach(function(e,r){var i=e.address,o=e.bytecode.length,c=this.createAsmRow(e,r+1);c.addClass("pc"+i.HEX(4)),o>0&&c.click(function(){var e=n(".pc"+i.HEX(4));e.hasClass("breakPoint")?(e.removeClass("breakPoint"),this._opts.breakpoint(i,o,!1)):(e.addClass("breakPoint"),this._opts.breakpoint(i,o,!0))}.bind(this)),t[i]&&e.bytecode.length>0&&c.addClass("breakPoint"),this._asmList.append(c)},this)},r.prototype.createAsmRow=function(e,t){var r=n("<div/>").addClass("row"),i=e.address;return r.append(n('<span class="colRowAttr"></span>')),r.append(n('<span class="colLineNumber">'+t+"</span>")),r.append(n('<span class="colAddress" style="">'+i.HEX(4)+"</span>")),r.append(n('<span class="colMachineCode">'+e.bytecode.map(function(e){return e.HEX(2)}).join("")+"</span>")),null!=e.label&&r.append(n('<span class="colLabel"/>').html(e.label+":")),null!=e.mnemonic&&(null==e.label&&r.append(n('<span class="colLabel"> </span>')),r.append(n('<span class="colMnemonic"/>').html(e.mnemonic)),r.append(n('<span class="colOperand"/>').html(e.operand))),r.append(n('<span class="colComment"/>').html(null==e.comment?" ":e.comment)),r},r.prototype.setCurrentAddr=function(e){var t=this._asmList.children(".pc"+e.HEX(4));if(!(t.length<=0)){var n=this._asmList,r=n.parent(),i=parseInt(r.css("height")),o=r.scrollTop(),c=t.offset().top-n.offset().top;(c<o+.1*i||o+.9*i<c)&&r.animate({scrollTop:c-.2*i},"fast"),t.addClass("current")}},r.prototype.clearCurrentAddr=function(){this._asmList.find(".current").removeClass("current")},t.exports=r}()},{"../lib/jquery_plugin_class":34,"./jquery.tabview.js":33,jquery:19}],31:[function(e,t,n){!function(){var t=e("jquery");e("../lib/jquery_plugin_class")("DropDownPanel");var n=function(e){this.opt={caption:null,onOpen:function(){},onClose:function(){}},t(e).hasClass("DropDownPanel")?(this.root=t(e),this.heading=this.root.find(".heading"),this.content=this.root.find(".content")):(this.root=t("<div/>").insertBefore(t(e)),t(e).hasClass("close")||t(e).hasClass("open")?t(e).hasClass("close")?this.root.addClass("close"):t(e).hasClass("open")&&this.root.addClass("open"):this.root.addClass("close"),this.heading=t("<div/>").addClass("heading"),this.content=t("<div/>").addClass("content"),this.root.append(this.heading).append(this.content),t(e).appendTo(this.content)),this.root.addClass("DropDownPanel")};window.DropDownPanel=n,n.prototype.create=function(e){e&&Object.keys(this.opt).forEach(function(t){t in e&&(this.opt[t]=e[t])},this),this.root.hasClass("close")||this.root.hasClass("open")||this.root.addClass("close"),this.root.hasClass("close")?this._close():this._open(),this.opt.caption&&this.heading.html(this.opt.caption);var n=t("<span/>").addClass("caption").html(this.heading.html());this.heading.empty().append(n).append(t("<span/>").addClass("button").html("▼").click(function(){this.root.hasClass("close")?this._open():this._close()}.bind(this)))},n.prototype.open=function(){this.root.hasClass("open")||this._open()},n.prototype.close=function(){this.root.hasClass("close")||this._close()},n.prototype._open=function(){this.root.addClass("open"),this.root.removeClass("close"),this.opt.onOpen.call(this),this.root.find(".content").show(100)},n.prototype._close=function(){this.root.removeClass("open"),this.root.addClass("close"),this.opt.onClose.call(this),this.root.find(".content").hide(100)}}()},{"../lib/jquery_plugin_class":34,jquery:19}],32:[function(e,t,n){!function(){var t=e("jquery");e("../lib/jquery_plugin_class")("soundctrl");var n=function(e){this.element=e,t(this.element).addClass("soundctrl"),this.opt={onChangeVolume:function(){},urlIconOn:"images/icon-sound-on.svg",urlIconOff:"images/icon-sound-off.svg",colOn:"red",colOff:"silver",colMute:"gray",maxVolume:10,initialVolume:10,initialMute:!1},this.mute=!1,this.volume=10};window.soundctrl=n,n.prototype.create=function(e){Object.keys(this.opt).forEach(function(t){t in e&&(this.opt[t]=e[t])},this),this.iconOn=t("<img/>").attr("src",this.opt.urlIconOn).attr("width","100%").attr("height","100%"),this.iconOff=t("<img/>").attr("src",this.opt.urlIconOff).attr("width","100%").attr("height","100%"),this.opt.initialMute?(this.iconOn.css("display","none"),this.mute=!0):(this.iconOff.css("display","none"),this.mute=!1),this.gauges=[];for(var n=t("<span/>").addClass("gauge").css("display","inline-block").css("padding-right",this.opt.stepMargin),r=0;r<this.opt.maxVolume;r++){var i=t("<span/>").addClass("step").css("display","inline-block").click(function(e){return function(){this.gaugeOnClick(e)}}(r+1).bind(this)).css("overflow","hidden").html(" ");this.gauges.push(i),n.append(i)}t(this.element).append(t("<button type='button'/>").addClass("muteButton").css("padding","0").append(this.iconOn).append(this.iconOff).click(function(){this.muteOnClick()}.bind(this))).append(n),this.setVolume(this.opt.initialVolume)},n.prototype.muteOnClick=function(){this.setMute(!this.mute)},n.prototype.gaugeOnClick=function(e){this.setVolume(e)},n.prototype.setMute=function(e){this.mute=e,this.redrawMuteButton(),this.redrawGauge(),this.mute?this.opt.onChangeVolume(0):this.opt.onChangeVolume(this.volume)},n.prototype.setVolume=function(e){e<=0?this.setMute(!0):(e>=this.opt.maxVolume&&(e=this.opt.maxVolume),this.mute&&(this.mute=!1,this.redrawMuteButton()),this.volume=e,this.redrawGauge(),this.opt.onChangeVolume(this.volume))},n.prototype.redrawMuteButton=function(){this.mute?(this.iconOn.css("display","none"),this.iconOff.css("display","block")):(this.iconOn.css("display","block"),this.iconOff.css("display","none"))},n.prototype.redrawGauge=function(){for(var e=0;e<this.opt.maxVolume;e++){var t=this.opt.colMute;e>=this.volume?t=this.opt.colOff:this.mute||(t=this.opt.colOn),this.gauges[e].css("background-color",t)}}}()},{"../lib/jquery_plugin_class":34,jquery:19}],33:[function(e,t,n){!function(){"use strict";var n=e("jquery");e("../lib/jquery_plugin_class")("tabview");var r=function(e){this._root=n(e),this._tabs=this._root.children(".tabs"),this._container=this._root.find("tabPageContainer"),this._currentPage=null,this._root._data={},this._root._lastTabId=0};window.tabview=r,r.prototype.create=function(){0===this._container.length&&(this._tabs=n("<div/>").addClass("tabs"),this._container=n("<div/>").addClass("tabPageContainer clearfix"),this._root.addClass("tabview"),this._root.append(this._tabs).append(this._container))},r.prototype.add=function(e,t,r){var i=++this._root._lastTabId,o=n("<button type='button'/>").click(function(){this._tabs.children("button.tab").removeClass("selected"),o.addClass("selected"),this._container.children().hide(),r&&r(),t.show()}.bind(this)).html(e);o.addClass("tab").addClass("tabId"+i),t.addClass("tabId"+i),this._tabs.append(o),this._container.append(t),null==this._currentPage?this.show(0):t.hide()},r.prototype.show=function(e){var t=null;if("number"==typeof e?t=n(this._container.children()[e]):"string"==typeof e&&(t=this._container.children(e)),this._tabs.children("button.tab").removeClass("selected"),null!=t&&t.length>=1){this._container.children().hide(),this._currentPage=t.get(0),t.show();for(var r=0;r<this._currentPage.classList.length;r++){var i=this._currentPage.classList[r];if(i.match(/^tabId[0-9]+$/)){this._tabs.children("button."+i).addClass("selected");break}}}},r.prototype.index=function(e){if(null==e){e=-1;var t=this._currentPage;if(null!=t){var n=0;this._container.children().each(function(){if(this===t)return e=n,!1;n++})}return e}this.show(e)},r.prototype.currentPage=function(){return n(this._currentPage)},r.prototype.data=function(e,t){if(null==t)return this._root._data[e];this._root._data[e]=t},r.prototype.caption=function(e,t){if(null==t)return this._tabs.children(e).html();this._tabs.children(e).html(t)},t.exports=r}()},{"../lib/jquery_plugin_class":34,jquery:19}],34:[function(e,t,n){!function(){"use strict";var n=e("jquery");try{t.exports=function(e){n.fn[e]=function(t){var r=Array.prototype.slice.call(arguments,1),i=function(n){var i=window[e];return null==n[e]&&(n[e]=new i(n)),i.prototype[t].apply(n[e],r)};if(1==this.length){var o=i(this[0]);return void 0==o&&(o=this),o}return n(this).each(function(){i(this)})}}}catch(e){console.error("exception: "+e.name+e.message+" at "+e.fileName+"("+e.lineNumber+")")}}()},{jquery:19}],35:[function(e,t,n){"use strict";t.exports=function(e){return parseInt(e,8)}},{}],36:[function(e,t,n){!function(){"use strict";function e(){this._numOfTimer=1,this._delay=1,this._iteration=1,this._func=null,this._timerIds=null,this._calcFreq=null,this._tickStart=(new Date).getTime(),this._count=0,this._tickEnd=(new Date).getTime()}e.prototype.setNumOfTimer=function(e){this.updateTimer(function(){this._numOfTimer=e})},e.prototype.setTimerInterval=function(e){this.updateTimer(function(){this._delay=e})},e.prototype.setProcCount=function(e){this.updateTimer(function(){this._iteration=e})},e.prototype.setProc=function(e){this.updateTimer(function(){this._func=e})},e.prototype.isRunning=function(){return null!=this._timerIds},e.prototype.start=function(){if(!this.isRunning()){this._timerIds=[],this._tickStart=(new Date).getTime(),this._count=0,this._tickEnd=(new Date).getTime();for(var e=0;e<this._numOfTimer;e++)this._timerIds.push(setInterval(function(){if(null!=this._timerIds)for(var e=0;e<this._iteration;e++)null!=this._timerIds&&(this._count++,this._func())}.bind(this),this._delay))}},e.prototype.stop=function(){this.isRunning()&&(this._tickEnd=(new Date).getTime(),this._timerIds.forEach(function(e){clearInterval(e)}),this._timerIds=null)},e.prototype.getElapse=function(){return this._tickEnd-this._tickStart},e.prototype.getCalculatedFreq=function(){return this._calcFreq},e.prototype.getActualFreq=function(){var e=this.getElapse();return 0==e?null:this._count/(e/1e3)},e.prototype.getStat=function(){var e=this.getCalculatedFreq(),t=this.getElapse(),n=this.getActualFreq();return{parameter:{numOfTimer:this._numOfTimer,interval:this._delay,iteration:this._iteration,calcFreq:e},result:{elapse:t,actualFreq:n,actParCalc:n/e}}},e.prototype.updateTimer=function(e){var t=this.isRunning();t&&this.stop(),e.call(this),0!=this._delay?this._calcFreq=this._iteration*(1e3/this._delay)*this._numOfTimer:this._calcFreq=null,t&&this.start()},e.setInterval=function(t,n,r,i){if(r=r||0,i=i||0,0==r&&0==i){for(;n*++r<20;);for(n=Math.round(n*r);r/++i>500;);r=Math.round(r/i)}var o=new e;return o.setProc(t),o.setNumOfTimer(r),o.setTimerInterval(n),o.setProcCount(i),o.start(),o},e.clearInterval=function(e){e.stop()};try{t.exports={setInterval:e.setInterval,clearInterval:e.clearInterval}}catch(t){Function("return this;")().FractionalTimer=e}}()},{}],37:[function(e,t,n){!function(e){"use strict";function n(){}var r=e.constructor.name;r||("[object Window]"==e?r="Window":"[object WorkerGlobalScope]"==e&&(r="DedicatedWorkerGlobalScope")),"Window"==(n.context=r)?(n.create=function(e,t,r,i){var o=new n;return o.create(e,t,r,i),o},n.prototype.create=function(e,t,n,r){this.worker=new Worker(e),this.createWrappers(Object.keys(t.prototype)),this.callbacks={},this.queryId=0,this.onNotify={},this.worker.onmessage=function(e){return function(t){switch(t.data.type){case"response":try{e.callbacks[t.data.queryId].apply(n,t.data.param)}catch(e){console.warn("*** exception: ",e,"in method",t.data.method,"params:",JSON.stringify(t.data.param))}delete e.callbacks[t.data.queryId];break;case"notify":try{e.onNotify[t.data.name](t.data.param)}catch(e){console.warn("*** exception: ",e,"in notify",t.data.name,"params:",JSON.stringify(t.data.param))}}}}(this),r=r||{},Object.keys(r).forEach(function(e){this.onNotify[e]=function(){r[e].apply(n,arguments)}},this)},n.prototype.createWrappers=function(e){e.forEach(function(e){n.prototype[e]=this.wrapper(e)},this)},n.prototype.wrapper=function(e){return function(){var t=function(){},n=[];arguments.length>0&&(t=Array.prototype.slice.call(arguments,-1)[0]||function(){},n=Array.prototype.slice.call(arguments,0,arguments.length-1));var r=this.queryId++;this.callbacks[r]=t,this.worker.postMessage({method:e,param:n,queryId:r})}}):"DedicatedWorkerGlobalScope"!=n.context&&"WorkerGlobalScope"!=n.context||(n.create=function(e){var t=new n;return"function"==typeof e&&(e=new e),t.create(e),t},n.prototype.create=function(t){this.worker=e,this.client=t,this.client._transworker=this,function(e){Object.keys(e.constructor.prototype).forEach(function(t){e.client[t]=function(){e.constructor.prototype[t].apply(e,arguments)}}),e.worker.onmessage=function(t){try{e.worker.postMessage({type:"response",queryId:t.data.queryId,method:t.data.method,param:[e.client[t.data.method].apply(e.client,t.data.param)]})}catch(e){console.warn("*** exception: ",e,"in method",t.data.method,"params:",JSON.stringify(t.data.param))}}}(this)},n.prototype.postNotify=function(e,t){this.worker.postMessage({type:"notify",name:e,param:t})});try{t.exports=n}catch(t){e.TransWorker=n}}(Function("return this;")())},{}],38:[function(e,t,n){!function(){function t(){}var n=e("../../../../js/mz700-js/MZ-700/index.js");(t.prototype=new AppFramework).create=function(e){AppFramework.prototype.create.call(this,e);var t=n.create({urlPrefix:"../../../js/mz700-js/"});t.reset(function(){t.start()}),$(".mzt-load-button").click(function(){console.log($(this).attr("name")),t.runServerMZT($(this).attr("name"))}),$("#btnLoadREFUGEE").click(function(){t.runServerMZT("REFUGEE")}),$(".mz700text").each(function(){mz700scrn.convert(this)})},$(function(){(new t).create()})}()},{"../../../../js/mz700-js/MZ-700/index.js":2}]},{},[38]);